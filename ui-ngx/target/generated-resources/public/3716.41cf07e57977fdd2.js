(self.webpackChunkthingsboard=self.webpackChunkthingsboard||[]).push([[3716],{53716:d=>{var f=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},p=-1;f.Diff=function(r,n){return[r,n]},f.prototype.diff_main=function(r,n,e,s){typeof s>"u"&&(s=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var a=s;if(null==r||null==n)throw new Error("Null input. (diff_main)");if(r==n)return r?[new f.Diff(0,r)]:[];typeof e>"u"&&(e=!0);var i=e,h=this.diff_commonPrefix(r,n),t=r.substring(0,h);r=r.substring(h),n=n.substring(h),h=this.diff_commonSuffix(r,n);var l=r.substring(r.length-h);r=r.substring(0,r.length-h),n=n.substring(0,n.length-h);var g=this.diff_compute_(r,n,i,a);return t&&g.unshift(new f.Diff(0,t)),l&&g.push(new f.Diff(0,l)),this.diff_cleanupMerge(g),g},f.prototype.diff_compute_=function(r,n,e,s){var a;if(!r)return[new f.Diff(1,n)];if(!n)return[new f.Diff(p,r)];var i=r.length>n.length?r:n,h=r.length>n.length?n:r,t=i.indexOf(h);if(-1!=t)return a=[new f.Diff(1,i.substring(0,t)),new f.Diff(0,h),new f.Diff(1,i.substring(t+h.length))],r.length>n.length&&(a[0][0]=a[2][0]=p),a;if(1==h.length)return[new f.Diff(p,r),new f.Diff(1,n)];var l=this.diff_halfMatch_(r,n);if(l){var g=l[0],v=l[1],u=l[2],o=l[3],_=l[4],b=this.diff_main(g,u,e,s),w=this.diff_main(v,o,e,s);return b.concat([new f.Diff(0,_)],w)}return e&&r.length>100&&n.length>100?this.diff_lineMode_(r,n,s):this.diff_bisect_(r,n,s)},f.prototype.diff_lineMode_=function(r,n,e){var s=this.diff_linesToChars_(r,n);r=s.chars1,n=s.chars2;var a=s.lineArray,i=this.diff_main(r,n,!1,e);this.diff_charsToLines_(i,a),this.diff_cleanupSemantic(i),i.push(new f.Diff(0,""));for(var h=0,t=0,l=0,g="",v="";h<i.length;){switch(i[h][0]){case 1:l++,v+=i[h][1];break;case p:t++,g+=i[h][1];break;case 0:if(t>=1&&l>=1){i.splice(h-t-l,t+l),h=h-t-l;for(var u=this.diff_main(g,v,!1,e),o=u.length-1;o>=0;o--)i.splice(h,0,u[o]);h+=u.length}l=0,t=0,g="",v=""}h++}return i.pop(),i},f.prototype.diff_bisect_=function(r,n,e){for(var s=r.length,a=n.length,i=Math.ceil((s+a)/2),h=i,t=2*i,l=new Array(t),g=new Array(t),v=0;v<t;v++)l[v]=-1,g[v]=-1;l[h+1]=0,g[h+1]=0;for(var u=s-a,o=u%2!=0,_=0,b=0,w=0,I=0,m=0;m<i&&!((new Date).getTime()>e);m++){for(var D=-m+_;D<=m-b;D+=2){for(var A=h+D,S=(k=D==-m||D!=m&&l[A-1]<l[A+1]?l[A+1]:l[A-1]+1)-D;k<s&&S<a&&r.charAt(k)==n.charAt(S);)k++,S++;if(l[A]=k,k>s)b+=2;else if(S>a)_+=2;else if(o){if((P=h+u-D)>=0&&P<t&&-1!=g[P])if(k>=(E=s-g[P]))return this.diff_bisectSplit_(r,n,k,S,e)}}for(var y=-m+w;y<=m-I;y+=2){for(var E,P=h+y,T=(E=y==-m||y!=m&&g[P-1]<g[P+1]?g[P+1]:g[P-1]+1)-y;E<s&&T<a&&r.charAt(s-E-1)==n.charAt(a-T-1);)E++,T++;if(g[P]=E,E>s)I+=2;else if(T>a)w+=2;else if(!o){if((A=h+u-y)>=0&&A<t&&-1!=l[A]){var k;S=h+(k=l[A])-A;if(k>=(E=s-E))return this.diff_bisectSplit_(r,n,k,S,e)}}}}return[new f.Diff(p,r),new f.Diff(1,n)]},f.prototype.diff_bisectSplit_=function(r,n,e,s,a){var i=r.substring(0,e),h=n.substring(0,s),t=r.substring(e),l=n.substring(s),g=this.diff_main(i,h,!1,a),v=this.diff_main(t,l,!1,a);return g.concat(v)},f.prototype.diff_linesToChars_=function(r,n){var e=[],s={};function a(l){for(var g="",v=0,u=-1,o=e.length;u<l.length-1;){-1==(u=l.indexOf("\n",v))&&(u=l.length-1);var _=l.substring(v,u+1);(s.hasOwnProperty?s.hasOwnProperty(_):void 0!==s[_])?g+=String.fromCharCode(s[_]):(o==i&&(_=l.substring(v),u=l.length),g+=String.fromCharCode(o),s[_]=o,e[o++]=_),v=u+1}return g}e[0]="";var i=4e4,h=a(r);return i=65535,{chars1:h,chars2:a(n),lineArray:e}},f.prototype.diff_charsToLines_=function(r,n){for(var e=0;e<r.length;e++){for(var s=r[e][1],a=[],i=0;i<s.length;i++)a[i]=n[s.charCodeAt(i)];r[e][1]=a.join("")}},f.prototype.diff_commonPrefix=function(r,n){if(!r||!n||r.charAt(0)!=n.charAt(0))return 0;for(var e=0,s=Math.min(r.length,n.length),a=s,i=0;e<a;)r.substring(i,a)==n.substring(i,a)?i=e=a:s=a,a=Math.floor((s-e)/2+e);return a},f.prototype.diff_commonSuffix=function(r,n){if(!r||!n||r.charAt(r.length-1)!=n.charAt(n.length-1))return 0;for(var e=0,s=Math.min(r.length,n.length),a=s,i=0;e<a;)r.substring(r.length-a,r.length-i)==n.substring(n.length-a,n.length-i)?i=e=a:s=a,a=Math.floor((s-e)/2+e);return a},f.prototype.diff_commonOverlap_=function(r,n){var e=r.length,s=n.length;if(0==e||0==s)return 0;e>s?r=r.substring(e-s):e<s&&(n=n.substring(0,e));var a=Math.min(e,s);if(r==n)return a;for(var i=0,h=1;;){var t=r.substring(a-h),l=n.indexOf(t);if(-1==l)return i;h+=l,(0==l||r.substring(a-h)==n.substring(0,h))&&(i=h,h++)}},f.prototype.diff_halfMatch_=function(r,n){if(this.Diff_Timeout<=0)return null;var e=r.length>n.length?r:n,s=r.length>n.length?n:r;if(e.length<4||2*s.length<e.length)return null;var a=this;function i(b,w,I){for(var k,S,P,E,m=b.substring(I,I+Math.floor(b.length/4)),D=-1,A="";-1!=(D=w.indexOf(m,D+1));){var y=a.diff_commonPrefix(b.substring(I),w.substring(D)),T=a.diff_commonSuffix(b.substring(0,I),w.substring(0,D));A.length<T+y&&(A=w.substring(D-T,D)+w.substring(D,D+y),k=b.substring(0,I-T),S=b.substring(I+y),P=w.substring(0,D-T),E=w.substring(D+y))}return 2*A.length>=b.length?[k,S,P,E,A]:null}var l,g,v,u,o,h=i(e,s,Math.ceil(e.length/4)),t=i(e,s,Math.ceil(e.length/2));return h||t?(l=t?h&&h[4].length>t[4].length?h:t:h,r.length>n.length?(g=l[0],v=l[1],u=l[2],o=l[3]):(u=l[0],o=l[1],g=l[2],v=l[3]),[g,v,u,o,l[4]]):null},f.prototype.diff_cleanupSemantic=function(r){for(var n=!1,e=[],s=0,a=null,i=0,h=0,t=0,l=0,g=0;i<r.length;)0==r[i][0]?(e[s++]=i,h=l,t=g,l=0,g=0,a=r[i][1]):(1==r[i][0]?l+=r[i][1].length:g+=r[i][1].length,a&&a.length<=Math.max(h,t)&&a.length<=Math.max(l,g)&&(r.splice(e[s-1],0,new f.Diff(p,a)),r[e[s-1]+1][0]=1,s--,i=--s>0?e[s-1]:-1,h=0,t=0,l=0,g=0,a=null,n=!0)),i++;for(n&&this.diff_cleanupMerge(r),this.diff_cleanupSemanticLossless(r),i=1;i<r.length;){if(r[i-1][0]==p&&1==r[i][0]){var v=r[i-1][1],u=r[i][1],o=this.diff_commonOverlap_(v,u),_=this.diff_commonOverlap_(u,v);o>=_?(o>=v.length/2||o>=u.length/2)&&(r.splice(i,0,new f.Diff(0,u.substring(0,o))),r[i-1][1]=v.substring(0,v.length-o),r[i+1][1]=u.substring(o),i++):(_>=v.length/2||_>=u.length/2)&&(r.splice(i,0,new f.Diff(0,v.substring(0,_))),r[i-1][0]=1,r[i-1][1]=u.substring(0,u.length-_),r[i+1][0]=p,r[i+1][1]=v.substring(_),i++),i++}i++}},f.prototype.diff_cleanupSemanticLossless=function(r){function n(_,b){if(!_||!b)return 6;var w=_.charAt(_.length-1),I=b.charAt(0),m=w.match(f.nonAlphaNumericRegex_),D=I.match(f.nonAlphaNumericRegex_),A=m&&w.match(f.whitespaceRegex_),k=D&&I.match(f.whitespaceRegex_),S=A&&w.match(f.linebreakRegex_),P=k&&I.match(f.linebreakRegex_),E=S&&_.match(f.blanklineEndRegex_),y=P&&b.match(f.blanklineStartRegex_);return E||y?5:S||P?4:m&&!A&&k?3:A||k?2:m||D?1:0}for(var e=1;e<r.length-1;){if(0==r[e-1][0]&&0==r[e+1][0]){var s=r[e-1][1],a=r[e][1],i=r[e+1][1],h=this.diff_commonSuffix(s,a);if(h){var t=a.substring(a.length-h);s=s.substring(0,s.length-h),a=t+a.substring(0,a.length-h),i=t+i}for(var l=s,g=a,v=i,u=n(s,a)+n(a,i);a.charAt(0)===i.charAt(0);){s+=a.charAt(0),a=a.substring(1)+i.charAt(0),i=i.substring(1);var o=n(s,a)+n(a,i);o>=u&&(u=o,l=s,g=a,v=i)}r[e-1][1]!=l&&(l?r[e-1][1]=l:(r.splice(e-1,1),e--),r[e][1]=g,v?r[e+1][1]=v:(r.splice(e+1,1),e--))}e++}},f.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,f.whitespaceRegex_=/\s/,f.linebreakRegex_=/[\r\n]/,f.blanklineEndRegex_=/\n\r?\n$/,f.blanklineStartRegex_=/^\r?\n\r?\n/,f.prototype.diff_cleanupEfficiency=function(r){for(var n=!1,e=[],s=0,a=null,i=0,h=!1,t=!1,l=!1,g=!1;i<r.length;)0==r[i][0]?(r[i][1].length<this.Diff_EditCost&&(l||g)?(e[s++]=i,h=l,t=g,a=r[i][1]):(s=0,a=null),l=g=!1):(r[i][0]==p?g=!0:l=!0,a&&(h&&t&&l&&g||a.length<this.Diff_EditCost/2&&h+t+l+g==3)&&(r.splice(e[s-1],0,new f.Diff(p,a)),r[e[s-1]+1][0]=1,s--,a=null,h&&t?(l=g=!0,s=0):(i=--s>0?e[s-1]:-1,l=g=!1),n=!0)),i++;n&&this.diff_cleanupMerge(r)},f.prototype.diff_cleanupMerge=function(r){r.push(new f.Diff(0,""));for(var h,n=0,e=0,s=0,a="",i="";n<r.length;)switch(r[n][0]){case 1:s++,i+=r[n][1],n++;break;case p:e++,a+=r[n][1],n++;break;case 0:e+s>1?(0!==e&&0!==s&&(0!==(h=this.diff_commonPrefix(i,a))&&(n-e-s>0&&0==r[n-e-s-1][0]?r[n-e-s-1][1]+=i.substring(0,h):(r.splice(0,0,new f.Diff(0,i.substring(0,h))),n++),i=i.substring(h),a=a.substring(h)),0!==(h=this.diff_commonSuffix(i,a))&&(r[n][1]=i.substring(i.length-h)+r[n][1],i=i.substring(0,i.length-h),a=a.substring(0,a.length-h))),n-=e+s,r.splice(n,e+s),a.length&&(r.splice(n,0,new f.Diff(p,a)),n++),i.length&&(r.splice(n,0,new f.Diff(1,i)),n++),n++):0!==n&&0==r[n-1][0]?(r[n-1][1]+=r[n][1],r.splice(n,1)):n++,s=0,e=0,a="",i=""}""===r[r.length-1][1]&&r.pop();var t=!1;for(n=1;n<r.length-1;)0==r[n-1][0]&&0==r[n+1][0]&&(r[n][1].substring(r[n][1].length-r[n-1][1].length)==r[n-1][1]?(r[n][1]=r[n-1][1]+r[n][1].substring(0,r[n][1].length-r[n-1][1].length),r[n+1][1]=r[n-1][1]+r[n+1][1],r.splice(n-1,1),t=!0):r[n][1].substring(0,r[n+1][1].length)==r[n+1][1]&&(r[n-1][1]+=r[n+1][1],r[n][1]=r[n][1].substring(r[n+1][1].length)+r[n+1][1],r.splice(n+1,1),t=!0)),n++;t&&this.diff_cleanupMerge(r)},f.prototype.diff_xIndex=function(r,n){var h,e=0,s=0,a=0,i=0;for(h=0;h<r.length&&(1!==r[h][0]&&(e+=r[h][1].length),r[h][0]!==p&&(s+=r[h][1].length),!(e>n));h++)a=e,i=s;return r.length!=h&&r[h][0]===p?i:i+(n-a)},f.prototype.diff_prettyHtml=function(r){for(var n=[],e=/&/g,s=/</g,a=/>/g,i=/\n/g,h=0;h<r.length;h++){var t=r[h][0],g=r[h][1].replace(e,"&amp;").replace(s,"&lt;").replace(a,"&gt;").replace(i,"&para;<br>");switch(t){case 1:n[h]='<ins style="background:#e6ffe6;">'+g+"</ins>";break;case p:n[h]='<del style="background:#ffe6e6;">'+g+"</del>";break;case 0:n[h]="<span>"+g+"</span>"}}return n.join("")},f.prototype.diff_text1=function(r){for(var n=[],e=0;e<r.length;e++)1!==r[e][0]&&(n[e]=r[e][1]);return n.join("")},f.prototype.diff_text2=function(r){for(var n=[],e=0;e<r.length;e++)r[e][0]!==p&&(n[e]=r[e][1]);return n.join("")},f.prototype.diff_levenshtein=function(r){for(var n=0,e=0,s=0,a=0;a<r.length;a++){var i=r[a][0],h=r[a][1];switch(i){case 1:e+=h.length;break;case p:s+=h.length;break;case 0:n+=Math.max(e,s),e=0,s=0}}return n+=Math.max(e,s)},f.prototype.diff_toDelta=function(r){for(var n=[],e=0;e<r.length;e++)switch(r[e][0]){case 1:n[e]="+"+encodeURI(r[e][1]);break;case p:n[e]="-"+r[e][1].length;break;case 0:n[e]="="+r[e][1].length}return n.join("\t").replace(/%20/g," ")},f.prototype.diff_fromDelta=function(r,n){for(var e=[],s=0,a=0,i=n.split(/\t/g),h=0;h<i.length;h++){var t=i[h].substring(1);switch(i[h].charAt(0)){case"+":try{e[s++]=new f.Diff(1,decodeURI(t))}catch{throw new Error("Illegal escape in diff_fromDelta: "+t)}break;case"-":case"=":var l=parseInt(t,10);if(isNaN(l)||l<0)throw new Error("Invalid number in diff_fromDelta: "+t);var g=r.substring(a,a+=l);"="==i[h].charAt(0)?e[s++]=new f.Diff(0,g):e[s++]=new f.Diff(p,g);break;default:if(i[h])throw new Error("Invalid diff operation in diff_fromDelta: "+i[h])}}if(a!=r.length)throw new Error("Delta length ("+a+") does not equal source text length ("+r.length+").");return e},f.prototype.match_main=function(r,n,e){if(null==r||null==n||null==e)throw new Error("Null input. (match_main)");return e=Math.max(0,Math.min(e,r.length)),r==n?0:r.length?r.substring(e,e+n.length)==n?e:this.match_bitap_(r,n,e):-1},f.prototype.match_bitap_=function(r,n,e){if(n.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var s=this.match_alphabet_(n),a=this;function i(k,S){var P=k/n.length,E=Math.abs(e-S);return a.Match_Distance?P+E/a.Match_Distance:E?1:P}var h=this.Match_Threshold,t=r.indexOf(n,e);-1!=t&&(h=Math.min(i(0,t),h),-1!=(t=r.lastIndexOf(n,e+n.length))&&(h=Math.min(i(0,t),h)));var l=1<<n.length-1;t=-1;for(var g,v,o,u=n.length+r.length,_=0;_<n.length;_++){for(g=0,v=u;g<v;)i(_,e+v)<=h?g=v:u=v,v=Math.floor((u-g)/2+g);u=v;var b=Math.max(1,e-v+1),w=Math.min(e+v,r.length)+n.length,I=Array(w+2);I[w+1]=(1<<_)-1;for(var m=w;m>=b;m--){var D=s[r.charAt(m-1)];if(I[m]=0===_?(I[m+1]<<1|1)&D:(I[m+1]<<1|1)&D|(o[m+1]|o[m])<<1|1|o[m+1],I[m]&l){var A=i(_,m-1);if(A<=h){if(h=A,!((t=m-1)>e))break;b=Math.max(1,2*e-t)}}}if(i(_+1,e)>h)break;o=I}return t},f.prototype.match_alphabet_=function(r){for(var n={},e=0;e<r.length;e++)n[r.charAt(e)]=0;for(e=0;e<r.length;e++)n[r.charAt(e)]|=1<<r.length-e-1;return n},f.prototype.patch_addContext_=function(r,n){if(0!=n.length){if(null===r.start2)throw Error("patch not initialized");for(var e=n.substring(r.start2,r.start2+r.length1),s=0;n.indexOf(e)!=n.lastIndexOf(e)&&e.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)s+=this.Patch_Margin,e=n.substring(r.start2-s,r.start2+r.length1+s);s+=this.Patch_Margin;var a=n.substring(r.start2-s,r.start2);a&&r.diffs.unshift(new f.Diff(0,a));var i=n.substring(r.start2+r.length1,r.start2+r.length1+s);i&&r.diffs.push(new f.Diff(0,i)),r.start1-=a.length,r.start2-=a.length,r.length1+=a.length+i.length,r.length2+=a.length+i.length}},f.prototype.patch_make=function(r,n,e){var s,a;if("string"==typeof r&&"string"==typeof n&&typeof e>"u")s=r,(a=this.diff_main(s,n,!0)).length>2&&(this.diff_cleanupSemantic(a),this.diff_cleanupEfficiency(a));else if(r&&"object"==typeof r&&typeof n>"u"&&typeof e>"u")a=r,s=this.diff_text1(a);else if("string"==typeof r&&n&&"object"==typeof n&&typeof e>"u")s=r,a=n;else{if("string"!=typeof r||"string"!=typeof n||!e||"object"!=typeof e)throw new Error("Unknown call format to patch_make.");s=r,a=e}if(0===a.length)return[];for(var i=[],h=new f.patch_obj,t=0,l=0,g=0,v=s,u=s,o=0;o<a.length;o++){var _=a[o][0],b=a[o][1];switch(!t&&0!==_&&(h.start1=l,h.start2=g),_){case 1:h.diffs[t++]=a[o],h.length2+=b.length,u=u.substring(0,g)+b+u.substring(g);break;case p:h.length1+=b.length,h.diffs[t++]=a[o],u=u.substring(0,g)+u.substring(g+b.length);break;case 0:b.length<=2*this.Patch_Margin&&t&&a.length!=o+1?(h.diffs[t++]=a[o],h.length1+=b.length,h.length2+=b.length):b.length>=2*this.Patch_Margin&&t&&(this.patch_addContext_(h,v),i.push(h),h=new f.patch_obj,t=0,v=u,l=g)}1!==_&&(l+=b.length),_!==p&&(g+=b.length)}return t&&(this.patch_addContext_(h,v),i.push(h)),i},f.prototype.patch_deepCopy=function(r){for(var n=[],e=0;e<r.length;e++){var s=r[e],a=new f.patch_obj;a.diffs=[];for(var i=0;i<s.diffs.length;i++)a.diffs[i]=new f.Diff(s.diffs[i][0],s.diffs[i][1]);a.start1=s.start1,a.start2=s.start2,a.length1=s.length1,a.length2=s.length2,n[e]=a}return n},f.prototype.patch_apply=function(r,n){if(0==r.length)return[n,[]];r=this.patch_deepCopy(r);var e=this.patch_addPadding(r);n=e+n+e,this.patch_splitMax(r);for(var s=0,a=[],i=0;i<r.length;i++){var l,v,h=r[i].start2+s,t=this.diff_text1(r[i].diffs),g=-1;if(t.length>this.Match_MaxBits?-1!=(l=this.match_main(n,t.substring(0,this.Match_MaxBits),h))&&((-1==(g=this.match_main(n,t.substring(t.length-this.Match_MaxBits),h+t.length-this.Match_MaxBits))||l>=g)&&(l=-1)):l=this.match_main(n,t,h),-1==l)a[i]=!1,s-=r[i].length2-r[i].length1;else if(a[i]=!0,s=l-h,t==(v=-1==g?n.substring(l,l+t.length):n.substring(l,g+this.Match_MaxBits)))n=n.substring(0,l)+this.diff_text2(r[i].diffs)+n.substring(l+t.length);else{var u=this.diff_main(t,v,!1);if(t.length>this.Match_MaxBits&&this.diff_levenshtein(u)/t.length>this.Patch_DeleteThreshold)a[i]=!1;else{this.diff_cleanupSemanticLossless(u);for(var _,o=0,b=0;b<r[i].diffs.length;b++){var w=r[i].diffs[b];0!==w[0]&&(_=this.diff_xIndex(u,o)),1===w[0]?n=n.substring(0,l+_)+w[1]+n.substring(l+_):w[0]===p&&(n=n.substring(0,l+_)+n.substring(l+this.diff_xIndex(u,o+w[1].length))),w[0]!==p&&(o+=w[1].length)}}}}return[n=n.substring(e.length,n.length-e.length),a]},f.prototype.patch_addPadding=function(r){for(var n=this.Patch_Margin,e="",s=1;s<=n;s++)e+=String.fromCharCode(s);for(s=0;s<r.length;s++)r[s].start1+=n,r[s].start2+=n;var a=r[0],i=a.diffs;if(0==i.length||0!=i[0][0])i.unshift(new f.Diff(0,e)),a.start1-=n,a.start2-=n,a.length1+=n,a.length2+=n;else if(n>i[0][1].length){var h=n-i[0][1].length;i[0][1]=e.substring(i[0][1].length)+i[0][1],a.start1-=h,a.start2-=h,a.length1+=h,a.length2+=h}if(0==(i=(a=r[r.length-1]).diffs).length||0!=i[i.length-1][0])i.push(new f.Diff(0,e)),a.length1+=n,a.length2+=n;else if(n>i[i.length-1][1].length){h=n-i[i.length-1][1].length;i[i.length-1][1]+=e.substring(0,h),a.length1+=h,a.length2+=h}return e},f.prototype.patch_splitMax=function(r){for(var n=this.Match_MaxBits,e=0;e<r.length;e++)if(!(r[e].length1<=n)){var s=r[e];r.splice(e--,1);for(var a=s.start1,i=s.start2,h="";0!==s.diffs.length;){var t=new f.patch_obj,l=!0;for(t.start1=a-h.length,t.start2=i-h.length,""!==h&&(t.length1=t.length2=h.length,t.diffs.push(new f.Diff(0,h)));0!==s.diffs.length&&t.length1<n-this.Patch_Margin;){var g=s.diffs[0][0],v=s.diffs[0][1];1===g?(t.length2+=v.length,i+=v.length,t.diffs.push(s.diffs.shift()),l=!1):g===p&&1==t.diffs.length&&0==t.diffs[0][0]&&v.length>2*n?(t.length1+=v.length,a+=v.length,l=!1,t.diffs.push(new f.Diff(g,v)),s.diffs.shift()):(v=v.substring(0,n-t.length1-this.Patch_Margin),t.length1+=v.length,a+=v.length,0===g?(t.length2+=v.length,i+=v.length):l=!1,t.diffs.push(new f.Diff(g,v)),v==s.diffs[0][1]?s.diffs.shift():s.diffs[0][1]=s.diffs[0][1].substring(v.length))}h=(h=this.diff_text2(t.diffs)).substring(h.length-this.Patch_Margin);var u=this.diff_text1(s.diffs).substring(0,this.Patch_Margin);""!==u&&(t.length1+=u.length,t.length2+=u.length,0!==t.diffs.length&&0===t.diffs[t.diffs.length-1][0]?t.diffs[t.diffs.length-1][1]+=u:t.diffs.push(new f.Diff(0,u))),l||r.splice(++e,0,t)}}},f.prototype.patch_toText=function(r){for(var n=[],e=0;e<r.length;e++)n[e]=r[e];return n.join("")},f.prototype.patch_fromText=function(r){var n=[];if(!r)return n;for(var e=r.split("\n"),s=0,a=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;s<e.length;){var i=e[s].match(a);if(!i)throw new Error("Invalid patch string: "+e[s]);var h=new f.patch_obj;for(n.push(h),h.start1=parseInt(i[1],10),""===i[2]?(h.start1--,h.length1=1):"0"==i[2]?h.length1=0:(h.start1--,h.length1=parseInt(i[2],10)),h.start2=parseInt(i[3],10),""===i[4]?(h.start2--,h.length2=1):"0"==i[4]?h.length2=0:(h.start2--,h.length2=parseInt(i[4],10)),s++;s<e.length;){var t=e[s].charAt(0);try{var l=decodeURI(e[s].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+l)}if("-"==t)h.diffs.push(new f.Diff(p,l));else if("+"==t)h.diffs.push(new f.Diff(1,l));else if(" "==t)h.diffs.push(new f.Diff(0,l));else{if("@"==t)break;if(""!==t)throw new Error('Invalid patch mode "'+t+'" in: '+l)}s++}}return n},f.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},f.patch_obj.prototype.toString=function(){for(var s,e=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],a=0;a<this.diffs.length;a++){switch(this.diffs[a][0]){case 1:s="+";break;case p:s="-";break;case 0:s=" "}e[a+1]=s+encodeURI(this.diffs[a][1])+"\n"}return e.join("").replace(/%20/g," ")},d.exports=f,d.exports.diff_match_patch=f,d.exports.DIFF_DELETE=p,d.exports.DIFF_INSERT=1,d.exports.DIFF_EQUAL=0}}]);