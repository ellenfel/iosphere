(self.webpackChunkthingsboard=self.webpackChunkthingsboard||[]).push([[481],{481:()=>{!function(M){var J=M.isNumeric||function(T){return T-parseFloat(T)>=0};function Z(T,P){var z=P.children("."+T)[0];if(null==z&&((z=document.createElement("canvas")).className=T,M(z).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(P),!z.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");z=window.G_vmlCanvasManager.initElement(z)}this.element=z;var D=this.context=z.getContext("2d"),F=window.devicePixelRatio||1,l=D.webkitBackingStorePixelRatio||D.mozBackingStorePixelRatio||D.msBackingStorePixelRatio||D.oBackingStorePixelRatio||D.backingStorePixelRatio||1;this.pixelRatio=F/l,this.resize(P.width(),P.height()),this.textContainer=null,this.text={},this._textCache={}}function Tt(T,P,z,D){var F=[],l={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,color:null,font:null,min:null,max:null,autoscaleMargin:null,transform:null,inverseTransform:null,ticks:null,tickSize:null,minTickSize:null,tickFormatter:null,tickDecimals:null,tickColor:null,tickLength:null,tickWidth:null,tickHeight:null,tickFont:null,label:null,labelFont:null,labelPadding:2,reserveSpace:null,alignTicksWithAxis:null},yaxis:{position:"left",autoscaleMargin:.02,labelPadding:2},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",strokeColor:null,symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:16.666666666666668},hooks:{}},H=[],_=null,L=null,G=null,B=null,f=null,N=null,R=[],j=[],b={left:0,right:0,top:0,bottom:0},V=0,Y=0,X={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},A=this;function E(t,i){i=[A].concat(i);for(var e=0;e<t.length;++e)t[e].apply(this,i)}function $(t){F=function x(t){for(var i=[],e=0;e<t.length;++e){var o=M.extend(!0,{},l.series);null!=t[e].data?(o.data=t[e].data,delete t[e].data,M.extend(!0,o,t[e]),t[e].data=o.data):o.data=t[e],i.push(o)}return i}(t),function zt(){var e,t=F.length,i=-1;for(e=0;e<F.length;++e){var o=F[e].color;null!=o&&(t--,J(o)&&o>i&&(i=o))}t<=i&&(t=i+1);var r,d=[],u=l.colors,n=u.length,a=0;for(e=0;e<t;e++)r=M.color.parse(u[e%n]||"#666"),e%n==0&&e&&(a=a>=0?a<.5?-a-.2:0:-a),d[e]=r.scale("rgb",1+a);var c,s=0;for(e=0;e<F.length;++e){if(null==(c=F[e]).color?(c.color=d[s].toString(),++s):J(c.color)&&(c.color=d[c.color].toString()),null==c.lines.show){var h,m=!0;for(h in c)if(c[h]&&c[h].show){m=!1;break}m&&(c.lines.show=!0)}null==c.lines.zero&&(c.lines.zero=!!c.lines.fill),c.xaxis=ot(R,tt(c,"x")),c.yaxis=ot(j,tt(c,"y"))}}(),function Ft(){var o,r,d,u,n,a,s,c,h,m,v,g,t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,e=Number.MAX_VALUE;function S(Q,q,rt){q<Q.datamin&&q!==-e&&(Q.datamin=q),rt>Q.datamax&&rt!==e&&(Q.datamax=rt)}for(M.each(K(),function(Q,q){q.datamin=t,q.datamax=i,q.used=!1}),o=0;o<F.length;++o)(n=F[o]).datapoints={points:[]},E(X.processRawData,[n,n.data,n.datapoints]);for(o=0;o<F.length;++o){if(v=(n=F[o]).data,!(g=n.datapoints.format)){if((g=[]).push({x:!0,number:!0,required:!0}),g.push({y:!0,number:!0,required:!0}),n.bars.show||n.lines.show&&n.lines.fill){var O=!!(n.bars.show&&n.bars.zero||n.lines.show&&n.lines.zero);g.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:O}),n.bars.horizontal&&(delete g[g.length-1].y,g[g.length-1].x=!0)}n.datapoints.format=g}if(null==n.datapoints.pointsize)for(n.datapoints.pointsize=g.length,s=n.datapoints.pointsize,a=n.datapoints.points,n.xaxis.used=n.yaxis.used=!0,r=d=0;r<v.length;++r,d+=s){var W=null==(m=v[r]);if(!W)for(u=0;u<s;++u)c=m[u],(h=g[u])&&(h.number&&null!=c&&(c=+c,isNaN(c)?c=null:c===1/0?c=e:c===-1/0&&(c=-e)),null==c&&(h.required&&(W=!0),null!=h.defaultValue&&(c=h.defaultValue))),a[d+u]=c;if(W)for(u=0;u<s;++u)null!=(c=a[d+u])&&(!1!==(h=g[u]).autoscale&&(h.x&&S(n.xaxis,c,c),h.y&&S(n.yaxis,c,c))),a[d+u]=null}}for(o=0;o<F.length;++o)n=F[o],E(X.processDatapoints,[n,n.datapoints]);for(o=0;o<F.length;++o){a=(n=F[o]).datapoints.points,s=n.datapoints.pointsize,g=n.datapoints.format;var k=t,p=t,w=i,C=i;for(r=0;r<a.length;r+=s)if(null!=a[r])for(u=0;u<s;++u)c=a[r+u],(h=g[u])&&!1!==h.autoscale&&c!==e&&c!==-e&&(h.x&&(c<k&&(k=c),c>w&&(w=c)),h.y&&(c<p&&(p=c),c>C&&(C=c)));if(n.bars.show){var I;switch(n.bars.align){case"left":I=0;break;case"right":I=-n.bars.barWidth;break;default:I=-n.bars.barWidth/2}n.bars.horizontal?(p+=I,C+=I+n.bars.barWidth):(k+=I,w+=I+n.bars.barWidth)}S(n.xaxis,k,w),S(n.yaxis,p,C)}M.each(K(),function(Q,q){q.datamin===t&&(q.datamin=null),q.datamax===i&&(q.datamax=null)})}()}function tt(t,i){var e=t[i+"axis"];return"object"==typeof e&&(e=e.n),J(e)||(e=1),e}function K(){return M.grep(R.concat(j),function(t){return t})}function it(t){var e,o,i={};for(e=0;e<R.length;++e)(o=R[e])&&o.used&&(i["x"+o.n]=o.c2p(t.left));for(e=0;e<j.length;++e)(o=j[e])&&o.used&&(i["y"+o.n]=o.c2p(t.top));return void 0!==i.x1&&(i.x=i.x1),void 0!==i.y1&&(i.y=i.y1),i}function ot(t,i){return t[i-1]||(t[i-1]={n:i,direction:t===R?"x":"y",options:M.extend(!0,{},t===R?l.xaxis:l.yaxis)}),t[i-1]}function at(){_&&clearTimeout(_),B.unbind("mousemove",pt),B.unbind("mouseleave",gt),B.unbind("click",mt),E(X.shutdown,[B])}function At(t){var i=t.tickWidth,e=t.tickHeight,o=t.options,r=o.tickLength,d=o.position,u=l.grid.axisMargin,n=l.grid.labelMargin,a="x"===t.direction,s=!0,c=!0,h=!0,m=!1;if(M.each(a?R:j,function(k,p){p&&(p.show||p.reserveSpace)&&(p===t?m=!0:p.options.position===d&&(m?c=!1:s=!1),m||(h=!1))}),c&&(u=0),null==r&&(r=h?"full":5),isNaN(+r)||(n+=+r),o.label){var v="Axis "+t.direction+t.n+"Axis",g="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+t.direction+v,S=o.labelFont||"flot-axis-label axisLabels "+t.direction+t.n+"axisLabel",O=a?0:"right"===o.position?90:-90,W=L.getTextInfo(g,o.label,S,O);i+=W.width+o.labelPadding,e+=W.height+o.labelPadding}a?(e+=n,"top"===d?(t.box={top:b.top+u,height:e},b.top+=e+u):(b.bottom+=e+u,t.box={top:L.height-b.bottom,height:e})):(i+=n,"right"===d?(b.right+=i+u,t.box={left:L.width-b.right,width:i}):(t.box={left:b.left+u,width:i},b.left+=i+u)),t.position=d,t.tickLength=r,t.box.padding=n,t.innermost=s}function ft(){var o,r,t=K(),i=l.grid.show,e=l.grid.margin||0;for(r in b)Object.prototype.hasOwnProperty.call(b,r)&&(b[r]=J(e)?e:e[r]||0);for(r in E(X.processOffset,[b]),b)"object"==typeof l.grid.borderWidth?b[r]+=i?l.grid.borderWidth[r]:0:b[r]+=i?l.grid.borderWidth:0;if(M.each(t,function(u,n){var a=n.options;n.show=null==a.show?n.used:a.show,n.reserveSpace=null==a.reserveSpace?n.show:a.reserveSpace,function Nt(t){var i=t.options,e=+(null!=i.min?i.min:t.datamin),o=+(null!=i.max?i.max:t.datamax),r=o-e;if(0===r){var d=0===o?1:.01;null==i.min&&(e-=d),(null==i.max||null!=i.min)&&(o+=d)}else{var u=i.autoscaleMargin;null!=u&&(null==i.min&&((e-=r*u)<0&&null!=t.datamin&&t.datamin>=0&&(e=0)),null==i.max&&((o+=r*u)>0&&null!=t.datamax&&t.datamax<=0&&(o=0)))}t.min=e,t.max=o}(n)}),i){var d=M.grep(t,function(u){return u.show||u.reserveSpace});for(M.each(d,function(u,n){(function Bt(t){var e,i=t.options;e=J(i.ticks)&&i.ticks>0?i.ticks:.3*Math.sqrt("x"===t.direction?L.width:L.height);var o=(t.max-t.min)/e,r=-Math.floor(Math.log(o)/Math.LN10),d=i.tickDecimals;null!=d&&r>d&&(r=d);var a,u=Math.pow(10,-r),n=o/u;if(n<1.5?a=1:n<3?(a=2,n>2.25&&(null==d||r+1<=d)&&(a=2.5,++r)):a=n<7.5?5:10,a*=u,null!=i.minTickSize&&a<i.minTickSize&&(a=i.minTickSize),t.delta=o,t.tickDecimals=Math.max(0,d??r),t.tickSize=i.tickSize||a,"time"===i.mode&&!t.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(t.tickGenerator||(t.tickGenerator=function(v){var k,g=[],S=function Ct(T,P){return P*Math.floor(T/P)}(v.min,v.tickSize),O=0,W=Number.NaN;do{k=W,W=S+O*v.tickSize,g.push(W),++O}while(W<v.max&&W!==k);return g},t.tickFormatter=function(v,g){var S=g.tickDecimals?Math.pow(10,g.tickDecimals):1,O=""+Math.round(v*S)/S;if(null!=g.tickDecimals){var W=O.indexOf("."),k=-1===W?0:O.length-W-1;if(k<g.tickDecimals)return(k?O:O+".")+(""+S).substr(1,g.tickDecimals-k)}return O}),M.isFunction(i.tickFormatter)&&(t.tickFormatter=function(v,g){return""+i.tickFormatter(v,g)}),null!=i.alignTicksWithAxis){var s=("x"===t.direction?R:j)[i.alignTicksWithAxis-1];if(s&&s.used&&s!==t){var c=t.tickGenerator(t);if(c.length>0&&(null==i.min&&(t.min=Math.min(t.min,c[0])),null==i.max&&c.length>1&&(t.max=Math.max(t.max,c[c.length-1]))),t.tickGenerator=function(v){var S,O,g=[];for(O=0;O<s.ticks.length;++O)S=(s.ticks[O].v-s.min)/(s.max-s.min),S=v.min+S*(v.max-v.min),g.push(S);return g},!t.mode&&null==i.tickDecimals){var h=Math.max(0,1-Math.floor(Math.log(t.delta)/Math.LN10)),m=t.tickGenerator(t);m.length>1&&/\..*0$/.test((m[1]-m[0]).toFixed(h))||(t.tickDecimals=h)}}}})(n),function _t(t){var o,r,i=t.options.ticks,e=[];for(null==i||J(i)&&i>0?e=t.tickGenerator(t):i&&(e=M.isFunction(i)?i(t):i),t.ticks=[],o=0;o<e.length;++o){var d=null,u=e[o];"object"==typeof u?(r=+u[0],u.length>1&&(d=u[1])):r=+u,null==d&&(d=t.tickFormatter(r,t)),isNaN(r)||t.ticks.push({v:r,label:d})}}(n),function Gt(t,i){t.options.autoscaleMargin&&i.length>0&&(null==t.options.min&&(t.min=Math.min(t.min,i[0].v)),null==t.options.max&&i.length>1&&(t.max=Math.max(t.max,i[i.length-1].v)))}(n,n.ticks),function It(t){for(var i=t.options,e=t.ticks||[],o=i.tickWidth||i.labelWidth||0,r=i.tickHeight||i.labelHeight||0,d=o||"x"===t.direction?Math.floor(L.width/(e.length||1)):null,u=t.direction+"Axis "+t.direction+t.n+"Axis",n="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+u,a=i.tickFont||"flot-tick-label tickLabel",s=0;s<e.length;++s){var c=e[s];if(c.label){var h=L.getTextInfo(n,c.label,a,null,d);o=Math.max(o,h.width),r=Math.max(r,h.height)}}t.tickWidth=i.tickWidth||i.labelWidth||o,t.tickHeight=i.tickHeight||i.labelHeight||r,t.labelWidth=t.tickWidth,t.labelHeight=t.tickHeight}(n)}),o=d.length-1;o>=0;--o)At(d[o]);(function Dt(){var t=l.grid.minBorderMargin;if(null==t){t=0;for(var i=0;i<F.length;++i)t=Math.max(t,2*(F[i].points.radius+F[i].points.lineWidth/2))}var e={left:t,right:t,top:t,bottom:t};M.each(K(),function(o,r){r.reserveSpace&&r.ticks&&r.ticks.length&&("x"===r.direction?(e.left=Math.max(e.left,r.tickWidth/2),e.right=Math.max(e.right,r.tickWidth/2)):(e.bottom=Math.max(e.bottom,r.tickHeight/2),e.top=Math.max(e.top,r.tickHeight/2)))}),b.left=Math.ceil(Math.max(e.left,b.left)),b.right=Math.ceil(Math.max(e.right,b.right)),b.top=Math.ceil(Math.max(e.top,b.top)),b.bottom=Math.ceil(Math.max(e.bottom,b.bottom))})(),M.each(d,function(u,n){!function Ht(t){"x"===t.direction?(t.box.left=b.left-t.tickWidth/2,t.box.width=L.width-b.left-b.right+t.tickWidth):(t.box.top=b.top-t.tickHeight/2,t.box.height=L.height-b.bottom-b.top+t.tickHeight)}(n)})}V=L.width-b.left-b.right,Y=L.height-b.bottom-b.top,M.each(t,function(u,n){!function Lt(t){function i(u){return u}var e,o,r=t.options.transform||i,d=t.options.inverseTransform;"x"===t.direction?(e=t.scale=V/Math.abs(r(t.max)-r(t.min)),o=Math.min(r(t.max),r(t.min))):(e=-(e=t.scale=Y/Math.abs(r(t.max)-r(t.min))),o=Math.max(r(t.max),r(t.min))),t.p2c=r===i?function(u){return(u-o)*e}:function(u){return(r(u)-o)*e},t.c2p=d?function(u){return d(o+u/e)}:function(u){return o+u/e}}(n)}),i&&function Rt(){M.each(K(),function(t,i){var a,s,c,h,m,e=i.box,o=i.options,r=i.direction+"Axis "+i.direction+i.n+"Axis",d="flot-"+i.direction+"-axis flot-"+i.direction+i.n+"-axis "+r,u=o.labelFont||"flot-axis-label axisLabels "+i.direction+i.n+"axisLabel",n=o.tickFont||"flot-tick-label tickLabel";if(L.removeText(d),i.show&&0!==i.ticks.length){o.label&&("x"===i.direction?"top"===o.position?L.addText(d,e.left+e.width/2,e.top,o.label,u,0,null,"center","top"):L.addText(d,e.left+e.width/2,e.top+e.height,o.label,u,0,null,"center","bottom"):"right"===o.position?L.addText(d,e.left+e.width,e.top+e.height/2,o.label,u,90,null,"right","middle"):L.addText(d,e.left,e.top+e.height/2,o.label,u,-90,null,"left","middle"));for(var v=0;v<i.ticks.length;++v)!(!(a=i.ticks[v]).label||a.v<i.min||a.v>i.max)&&("x"===i.direction?(h="center",s=b.left+i.p2c(a.v),"bottom"===i.position?c=e.top+e.padding:(c=e.top+e.height-e.padding,m="bottom")):(m="middle",c=b.top+i.p2c(a.v),"left"===i.position?(s=e.left+e.width-e.padding,h="right"):s=e.left+e.padding),L.addText(d,s,c,a.label,n,null,null,h,m))}})}(),function Ut(){if(null!=l.legend.container?M(l.legend.container).html(""):T.find(".legend").remove(),l.legend.show){var e,o,r,t=[],i=l.legend.labelFormatter;for(r=0;r<F.length;++r)(e=F[r]).label&&((o=i?i(e.label,e):e.label)&&t.push({label:o,color:e.color}));if(0!==t.length){if(l.legend.sorted)if(M.isFunction(l.legend.sorted))t.sort(l.legend.sorted);else if("reverse"===l.legend.sorted)t.reverse();else{var d="descending"!==l.legend.sorted;t.sort(function(W,k){return W.label===k.label?0:W.label<k.label!==d?1:-1})}var u=M("<table></table>").css({"font-size":"smaller",color:l.grid.color}),n=null;for(r=0;r<t.length;++r){var a=t[r];r%l.legend.noColumns==0&&(null!==n&&u.append(n),n=M("<tr></tr>"));var s=M("<div></div>").css({width:"4px",height:0,border:"5px solid "+a.color,overflow:"hidden"}),c=M("<div></div>").css({border:"1px solid "+l.legend.labelBoxBorderColor,padding:"1px"});n.append(M("<td></td>").addClass("legendColorBox").append(c.append(s)),M("<td></td>").addClass("legendLabel").html(a.label))}if(u.append(n),null!=l.legend.container)M(l.legend.container).html(u);else{var h={position:"absolute"},m=l.legend.position,v=l.legend.margin;null==v[0]&&(v=[v,v]),"n"===m.charAt(0)?h.top=v[1]+b.top+"px":"s"===m.charAt(0)&&(h.bottom=v[1]+b.bottom+"px"),"e"===m.charAt(1)?h.right=v[0]+b.right+"px":"w"===m.charAt(1)&&(h.left=v[0]+b.left+"px");var g=M("<div></div>").addClass("legend").append(u.css(h)).appendTo(T);if(0!==l.legend.backgroundOpacity){var S=l.legend.backgroundColor;null==S&&((S=(S=l.grid.backgroundColor)&&"string"==typeof S?M.color.parse(S):M.color.extract(g,"background-color")).a=1,S=S.toString());var O=g.children();M("<div></div>").css(h).css({width:O.width()+"px",height:O.height()+"px","background-color":S,opacity:l.legend.backgroundOpacity}).prependTo(g)}}}}}()}function ct(){L.clear(),E(X.drawBackground,[f]);var t=l.grid;t.show&&t.backgroundColor&&function jt(){f.save(),f.translate(b.left,b.top),f.fillStyle=Mt(l.grid.backgroundColor,Y,0,"rgba(255, 255, 255, 0)"),f.fillRect(0,0,V,Y),f.restore()}(),t.show&&!t.aboveData&&st();for(var i=0;i<F.length;++i)E(X.drawSeries,[f,F[i]]),qt(F[i]);E(X.draw,[f]),t.show&&t.aboveData&&st(),L.render(),et()}function ut(t,i){for(var e,o,r,d,u=K(),n=0;n<u.length;++n)if((e=u[n]).direction===i&&(!t[d=i+e.n+"axis"]&&1===e.n&&(d=i+"axis"),t[d])){o=t[d].from,r=t[d].to;break}if(t[d]||(e="x"===i?R[0]:j[0],o=t[i+"1"],r=t[i+"2"]),null!=o&&null!=r&&o>r){var a=o;o=r,r=a}return{from:o,to:r,axis:e}}function st(){var t,i,e,o;f.save(),f.translate(b.left,b.top);var r="flot-markings";L.removeText(r);var d=[],u=[],n=l.grid.markings;if(n)for(M.isFunction(n)&&((i=A.getAxes()).xmin=i.xaxis.min,i.xmax=i.xaxis.max,i.ymin=i.yaxis.min,i.ymax=i.yaxis.max,n=n(i)),t=0;t<n.length;++t){var a=n[t];a.aboveGrid?u.push(a):d.push(a)}ht(d,r),i=K(),e=l.grid.borderWidth;for(var s=0;s<i.length;++s){var v,g,S,O,c=i[s],h=c.box,m=c.tickLength;if(c.show&&0!==c.ticks.length){for(f.lineWidth=1,"x"===c.direction?(v=0,g="full"===m?"top"===c.position?0:Y:h.top-b.top+("top"===c.position?h.height:0)):(g=0,v="full"===m?"left"===c.position?0:V:h.left-b.left+("left"===c.position?h.width:0)),c.innermost||(f.strokeStyle=c.options.color,f.beginPath(),S=O=0,"x"===c.direction?S=V+1:O=Y+1,1===f.lineWidth&&("x"===c.direction?g=Math.floor(g)+.5:v=Math.floor(v)+.5),f.moveTo(v,g),f.lineTo(v+S,g+O),f.stroke()),f.strokeStyle=c.options.tickColor,f.beginPath(),t=0;t<c.ticks.length;++t){var W=c.ticks[t].v;S=O=0,!(isNaN(W)||W<c.min||W>c.max||"full"===m&&("object"==typeof e&&e[c.position]>0||e>0)&&(W===c.min||W===c.max))&&("x"===c.direction?(v=c.p2c(W),O="full"===m?-Y:m,"top"===c.position&&(O=-O)):(g=c.p2c(W),S="full"===m?-V:m,"left"===c.position&&(S=-S)),1===f.lineWidth&&("x"===c.direction?v=Math.floor(v)+.5:g=Math.floor(g)+.5),f.moveTo(v,g),f.lineTo(v+S,g+O))}f.stroke()}}ht(u,r),e&&(o=l.grid.borderColor,"object"==typeof e||"object"==typeof o?("object"!=typeof e&&(e={top:e,right:e,bottom:e,left:e}),"object"!=typeof o&&(o={top:o,right:o,bottom:o,left:o}),e.top>0&&(f.strokeStyle=o.top,f.lineWidth=e.top,f.beginPath(),f.moveTo(0-e.left,0-e.top/2),f.lineTo(V,0-e.top/2),f.stroke()),e.right>0&&(f.strokeStyle=o.right,f.lineWidth=e.right,f.beginPath(),f.moveTo(V+e.right/2,0-e.top),f.lineTo(V+e.right/2,Y),f.stroke()),e.bottom>0&&(f.strokeStyle=o.bottom,f.lineWidth=e.bottom,f.beginPath(),f.moveTo(V+e.right,Y+e.bottom/2),f.lineTo(0,Y+e.bottom/2),f.stroke()),e.left>0&&(f.strokeStyle=o.left,f.lineWidth=e.left,f.beginPath(),f.moveTo(0-e.left/2,Y+e.bottom),f.lineTo(0-e.left/2,0),f.stroke())):(f.lineWidth=e,f.strokeStyle=l.grid.borderColor,f.strokeRect(-e/2,-e/2,V+e,Y+e))),f.restore()}function ht(t,i){if(t)for(var e=0;e<t.length;e++)Et(t[e],i)}function Et(t,i){var e=ut(t,"x"),o=ut(t,"y");if(null==e.from&&(e.from=e.axis.min),null==e.to&&(e.to=e.axis.max),null==o.from&&(o.from=o.axis.min),null==o.to&&(o.to=o.axis.max),!(e.to<e.axis.min||e.from>e.axis.max||o.to<o.axis.min||o.from>o.axis.max)){e.from=Math.max(e.from,e.axis.min),e.to=Math.min(e.to,e.axis.max),o.from=Math.max(o.from,o.axis.min),o.to=Math.min(o.to,o.axis.max);var r=e.from===e.to,d=o.from===o.to;if(!r||!d){if(e.from=Math.floor(e.axis.p2c(e.from)),e.to=Math.floor(e.axis.p2c(e.to)),o.from=Math.floor(o.axis.p2c(o.from)),o.to=Math.floor(o.axis.p2c(o.to)),r||d){var u=t.lineWidth||l.grid.markingsLineWidth,n=u%2?.5:0;f.beginPath(),f.strokeStyle=t.color||l.grid.markingsColor,f.lineWidth=u,r?(f.moveTo(e.to+n,o.from),f.lineTo(e.to+n,o.to)):(f.moveTo(e.from,o.to+n),f.lineTo(e.to,o.to+n)),f.stroke()}else f.fillStyle=t.color||l.grid.markingsColor,t.rounded?(function St(T,P,z,D,F,l){var H=P+D,_=z+F;return T.beginPath(),T.moveTo(P+l,z),T.lineTo(H-l,z),T.quadraticCurveTo(H,z,H,z+l),T.lineTo(H,z+F-l),T.quadraticCurveTo(H,_,H-l,_),T.lineTo(P+l,_),T.quadraticCurveTo(P,_,P,_-l),T.lineTo(P,z+l),T.quadraticCurveTo(P,z,P+l,z),T.closePath(),T}(f,e.from,o.to,e.to-e.from,o.from-o.to,t.rounded),f.fill()):f.fillRect(e.from,o.to,e.to-e.from,o.from-o.to);if(t.text){var a=e.from+b.left,s=o.to+b.top;if(t.textAlign)switch(t.textAlign.toLowerCase()){case"right":a=e.to+b.left;break;case"center":a=(e.from+b.left+e.to+b.left)/2}if(t.textBaseline)switch(t.textBaseline.toLowerCase()){case"bottom":s=o.from+b.top;break;case"middle":s=(o.from+b.top+o.to+b.top)/2}L.addText(i,a,s,t.text,t.font||"flot-marking",0,null,t.textAlign,t.textBaseline)}}}}function qt(t){t.lines.show&&function Xt(t){function i(n,a,s,c,h){var m=n.points,v=n.pointsize,g=t.lines.steps,S=null,O=null;f.beginPath();for(var W=v;W<m.length;W+=v){var k=m[W-v],p=m[W-v+1],w=m[W],C=m[W+1];if(null!=k&&null!=w){if(p<=C&&p<h.min){if(C<h.min)continue;k=g?w:(h.min-p)/(C-p)*(w-k)+k,p=h.min}else if(C<=p&&C<h.min){if(p<h.min)continue;w=g?w:(h.min-p)/(C-p)*(w-k)+k,C=h.min}if(p>=C&&p>h.max){if(C>h.max)continue;k=g?w:(h.max-p)/(C-p)*(w-k)+k,p=h.max}else if(C>=p&&C>h.max){if(p>h.max)continue;w=g?w:(h.max-p)/(C-p)*(w-k)+k,C=h.max}if(k<=w&&k<c.min){if(w<c.min)continue;p=g?p:(c.min-k)/(w-k)*(C-p)+p,k=c.min}else if(w<=k&&w<c.min){if(k<c.min)continue;C=g?p:(c.min-k)/(w-k)*(C-p)+p,w=c.min}if(k>=w&&k>c.max){if(w>c.max)continue;p=g?p:(c.max-k)/(w-k)*(C-p)+p,k=c.max}else if(w>=k&&w>c.max){if(k>c.max)continue;C=g?p:(c.max-k)/(w-k)*(C-p)+p,w=c.max}(k!==S||p!==O)&&f.moveTo(c.p2c(k)+a,h.p2c(p)+s),S=w,O=C,g&&(k<w?f.lineTo(c.p2c(w)+a,h.p2c(p)+s):f.lineTo(c.p2c(k)+a,h.p2c(C)+s)),f.lineTo(c.p2c(w)+a,h.p2c(C)+s)}}f.stroke()}function e(n,a,s){for(var c=n.points,h=n.pointsize,m=t.lines.steps,v=Math.min(Math.max(0,s.min),s.max),g=0,S=!1,O=1,W=0,k=0;!(h>0&&g>c.length+h);){var p=c[(g+=h)-h],w=c[g-h+O],C=c[g],I=c[g+O];if(S){if(h>0&&null!=p&&null==C){k=g,h=-h,O=2;continue}if(h<0&&g===W+h){f.fill(),S=!1,O=1,g=W=k+(h=-h);continue}}if(null!=p&&null!=C){if(p<=C&&p<a.min){if(C<a.min)continue;w=m?w:(a.min-p)/(C-p)*(I-w)+w,p=a.min}else if(C<=p&&C<a.min){if(p<a.min)continue;I=m?w:(a.min-p)/(C-p)*(I-w)+w,C=a.min}if(p>=C&&p>a.max){if(C>a.max)continue;w=m?w:(a.max-p)/(C-p)*(I-w)+w,p=a.max}else if(C>=p&&C>a.max){if(p>a.max)continue;I=m?w:(a.max-p)/(C-p)*(I-w)+w,C=a.max}if(S||(f.beginPath(),f.moveTo(a.p2c(p),s.p2c(v)),S=!0),w>=s.max&&I>=s.max){f.lineTo(a.p2c(p),s.p2c(s.max)),f.lineTo(a.p2c(C),s.p2c(s.max));continue}if(w<=s.min&&I<=s.min){f.lineTo(a.p2c(p),s.p2c(s.min)),f.lineTo(a.p2c(C),s.p2c(s.min));continue}var Q=p,q=C;w<=I&&w<s.min&&I>=s.min?(p=m?C:(s.min-w)/(I-w)*(C-p)+p,w=s.min):I<=w&&I<s.min&&w>=s.min&&(C=m?C:(s.min-w)/(I-w)*(C-p)+p,I=s.min),w>=I&&w>s.max&&I<=s.max?(p=m?C:(s.max-w)/(I-w)*(C-p)+p,w=s.max):I>=w&&I>s.max&&w<=s.max&&(C=m?C:(s.max-w)/(I-w)*(C-p)+p,I=s.max),p!==Q&&f.lineTo(a.p2c(Q),s.p2c(w)),f.lineTo(a.p2c(p),s.p2c(w)),m&&(p<C?f.lineTo(a.p2c(C),s.p2c(w)):f.lineTo(a.p2c(p),s.p2c(I))),f.lineTo(a.p2c(C),s.p2c(I)),C!==q&&(f.lineTo(a.p2c(C),s.p2c(I)),f.lineTo(a.p2c(q),s.p2c(I)))}}}f.save(),f.translate(b.left,b.top),f.lineJoin="round";var o=t.lines.lineWidth,r=t.shadowSize;if(o>0&&r>0){f.lineWidth=r,f.strokeStyle="rgba(0,0,0,0.1)";var d=Math.PI/18;i(t.datapoints,Math.sin(d)*(o/2+r/2),Math.cos(d)*(o/2+r/2),t.xaxis,t.yaxis),f.lineWidth=r/2,i(t.datapoints,Math.sin(d)*(o/2+r/4),Math.cos(d)*(o/2+r/4),t.xaxis,t.yaxis)}f.lineWidth=o,f.strokeStyle=t.color;var u=nt(t.lines,t.color,0,Y);u&&(f.fillStyle=u,e(t.datapoints,t.xaxis,t.yaxis)),o>0&&i(t.datapoints,0,0,t.xaxis,t.yaxis),f.restore()}(t),t.bars.show&&function Yt(t){function i(r,d,u,n,a,s){for(var c=r.points,h=r.pointsize,m=0;m<c.length;m+=h)null!=c[m]&&dt(c[m],c[m+1],c[m+2],d,u,n,a,s,f,t.bars.horizontal,t.bars.lineWidth)}var e;switch(f.save(),f.translate(b.left,b.top),f.lineWidth=t.bars.lineWidth,f.strokeStyle=t.color,t.bars.align){case"left":e=0;break;case"right":e=-t.bars.barWidth;break;default:e=-t.bars.barWidth/2}var o=t.bars.fill?function(r,d){return nt(t.bars,t.color,r,d)}:null;i(t.datapoints,e,e+t.bars.barWidth,o,t.xaxis,t.yaxis),f.restore()}(t),t.points.show&&function Vt(t){function i(n,a,s,c,h,m,v,g){for(var S=n.points,O=n.pointsize,W=0;W<S.length;W+=O){var k=S[W],p=S[W+1];null==k||k<m.min||k>m.max||p<v.min||p>v.max||(f.beginPath(),k=m.p2c(k),p=v.p2c(p)+c,"circle"===g?f.arc(k,p,a,0,h?Math.PI:2*Math.PI,!1):g(f,k,p,a,h),f.closePath(),s&&(f.fillStyle=s,f.fill()),f.stroke())}}f.save(),f.translate(b.left,b.top);var e=t.points.lineWidth,o=t.shadowSize,r=t.points.radius,d=t.points.symbol;if(0===e&&(e=1e-4),e>0&&o>0){var u=o/2;f.lineWidth=u,f.strokeStyle="rgba(0,0,0,0.1)",i(t.datapoints,r,null,u+u/2,!0,t.xaxis,t.yaxis,d),f.strokeStyle="rgba(0,0,0,0.2)",i(t.datapoints,r,null,u/2,!0,t.xaxis,t.yaxis,d)}f.lineWidth=e,f.strokeStyle=t.points.strokeColor||t.color,i(t.datapoints,r,nt(t.points,t.color),0,!1,t.xaxis,t.yaxis,d),f.restore()}(t)}function dt(t,i,e,o,r,d,u,n,a,s,c){var h,m,v,g,S,O,W,k,p;s?(k=O=W=!0,S=!1,g=i+o,v=i+r,(m=t)<(h=e)&&(p=m,m=h,h=p,S=!0,O=!1)):(S=O=W=!0,k=!1,h=t+o,m=t+r,(g=i)<(v=e)&&(p=g,g=v,v=p,k=!0,W=!1)),!(m<u.min||h>u.max||g<n.min||v>n.max)&&(h<u.min&&(h=u.min,S=!1),m>u.max&&(m=u.max,O=!1),v<n.min&&(v=n.min,k=!1),g>n.max&&(g=n.max,W=!1),h=u.p2c(h),v=n.p2c(v),m=u.p2c(m),g=n.p2c(g),d&&(a.fillStyle=d(v,g),a.fillRect(h,g,m-h,v-g)),c>0&&(S||O||W||k)&&(a.beginPath(),a.moveTo(h,v),S?a.lineTo(h,g):a.moveTo(h,g),W?a.lineTo(m,g):a.moveTo(m,g),O?a.lineTo(m,v):a.moveTo(m,v),k?a.lineTo(h,v):a.moveTo(h,v),a.stroke()))}function nt(t,i,e,o){var r=t.fill;if(!r)return null;if(t.fillColor)return Mt(t.fillColor,e,o,i);var d=M.color.parse(i);return d.a=J(r)?r:.4,d.normalize(),d.toString()}function pt(t){l.grid.hoverable&&lt("plothover",t,function(i){return!1!==i.hoverable})}function gt(t){l.grid.hoverable&&lt("plothover",t,function(){return!1})}function mt(t){lt("plotclick",t,function(i){return!1!==i.clickable})}function lt(t,i,e){var o=B.offset(),r=i.pageX-o.left-b.left,d=i.pageY-o.top-b.top,u=it({left:r,top:d});u.pageX=i.pageX,u.pageY=i.pageY;var n=function Qt(t,i,e){var u,n,a,o=l.grid.mouseActiveRadius,r=o*o+1,d=null;for(u=F.length-1;u>=0;--u)if(e(F[u])){var W,k,s=F[u],c=s.xaxis,h=s.yaxis,m=s.datapoints.points,v=c.c2p(t),g=h.c2p(i),S=o/c.scale,O=o/h.scale;if(a=s.datapoints.pointsize,c.options.inverseTransform&&(S=Number.MAX_VALUE),h.options.inverseTransform&&(O=Number.MAX_VALUE),s.lines.show||s.points.show)for(n=0;n<m.length;n+=a)if(W=m[n],k=m[n+1],null!=W&&!(W-v>S||W-v<-S||k-g>O||k-g<-O)){var p=Math.abs(c.p2c(W)-t),w=Math.abs(h.p2c(k)-i),C=p*p+w*w;C<r&&(r=C,d=[u,n/a])}if(s.bars.show&&!d){var I,Q;switch(s.bars.align){case"left":I=0;break;case"right":I=-s.bars.barWidth;break;default:I=-s.bars.barWidth/2}for(Q=I+s.bars.barWidth,n=0;n<m.length;n+=a){W=m[n],k=m[n+1];var q=m[n+2];null!=W&&(F[u].bars.horizontal?v<=Math.max(q,W)&&v>=Math.min(q,W)&&g>=k+I&&g<=k+Q:v>=W+I&&v<=W+Q&&g>=Math.min(q,k)&&g<=Math.max(q,k))&&(d=[u,n/a])}}}return d?(u=d[0],n=d[1],a=F[u].datapoints.pointsize,{datapoint:F[u].datapoints.points.slice(n*a,(n+1)*a),dataIndex:n,series:F[u],seriesIndex:u}):null}(r,d,e);if(n&&(n.pageX=parseInt(n.series.xaxis.p2c(n.datapoint[0])+o.left+b.left,10),n.pageY=parseInt(n.series.yaxis.p2c(n.datapoint[1])+o.top+b.top,10)),l.grid.autoHighlight){for(var a=0;a<H.length;++a){var s=H[a];s.auto===t&&(!n||s.series!==n.series||s.point[0]!==n.datapoint[0]||s.point[1]!==n.datapoint[1])&&kt(s.series,s.point)}n&&vt(n.series,n.datapoint,t)}T.trigger(t,[u,n])}function et(){var t=l.interaction.redrawOverlayInterval;-1!==t?_||(_=setTimeout(bt,t)):bt()}function bt(){var t,i;for(_=null,N.save(),G.clear(),N.translate(b.left,b.top),t=0;t<H.length;++t)(i=H[t]).series.bars.show?Zt(i.series,i.point):Jt(i.series,i.point);N.restore(),E(X.drawOverlay,[N])}function vt(t,i,e){if(J(t)&&(t=F[t]),J(i)){var o=t.datapoints.pointsize;i=t.datapoints.points.slice(o*i,o*(i+1))}var r=wt(t,i);-1===r?(H.push({series:t,point:i,auto:e}),et()):e||(H[r].auto=!1)}function kt(t,i){if(null==t&&null==i)return H=[],void et();if(J(t)&&(t=F[t]),J(i)){var e=t.datapoints.pointsize;i=t.datapoints.points.slice(e*i,e*(i+1))}var o=wt(t,i);-1!==o&&(H.splice(o,1),et())}function wt(t,i){for(var e=0;e<H.length;++e){var o=H[e];if(o.series===t&&o.point[0]===i[0]&&o.point[1]===i[1])return e}return-1}function Jt(t,i){var n,a,e=i[0],o=i[1],r=t.xaxis,d=t.yaxis,u="string"==typeof t.highlightColor?t.highlightColor:M.color.parse(t.color).scale("a",.5).toString();e<r.min||e>r.max||o<d.min||o>d.max||(t.points.show?a=1.5*(n=t.points.radius+t.points.lineWidth/2):a=.5*(n=t.points.radius),N.lineWidth=n,N.strokeStyle=u,e=r.p2c(e),o=d.p2c(o),N.beginPath(),"circle"===t.points.symbol?N.arc(e,o,a,0,2*Math.PI,!1):t.points.symbol(N,e,o,a,!1),N.closePath(),N.stroke())}function Zt(t,i){var r,e="string"==typeof t.highlightColor?t.highlightColor:M.color.parse(t.color).scale("a",.5).toString(),o=e;switch(t.bars.align){case"left":r=0;break;case"right":r=-t.bars.barWidth;break;default:r=-t.bars.barWidth/2}N.lineWidth=t.bars.lineWidth,N.strokeStyle=e,dt(i[0],i[1],i[2]||0,r,r+t.bars.barWidth,function(){return o},t.xaxis,t.yaxis,N,t.bars.horizontal,t.bars.lineWidth)}function Mt(t,i,e,o){if("string"==typeof t)return t;for(var r=f.createLinearGradient(0,e,0,i),d=0,u=t.colors.length;d<u;++d){var n=t.colors[d];if("string"!=typeof n){var a=M.color.parse(o);null!=n.brightness&&(a=a.scale("rgb",n.brightness)),null!=n.opacity&&(a.a*=n.opacity),n=a.toString()}r.addColorStop(d/(u-1),n)}return r}A.setData=$,A.setupGrid=ft,A.draw=ct,A.getPlaceholder=function(){return T},A.getCanvas=function(){return L.element},A.getPlotOffset=function(){return b},A.width=function(){return V},A.height=function(){return Y},A.offset=function(){var t=B.offset();return t.left+=b.left,t.top+=b.top,t},A.getData=function(){return F},A.getAxes=function(){var t={};return M.each(R.concat(j),function(i,e){e&&(t[e.direction+(1!==e.n?e.n:"")+"axis"]=e)}),t},A.getXAxes=function(){return R},A.getYAxes=function(){return j},A.c2p=it,A.p2c=function Wt(t){var e,o,r,i={};for(e=0;e<R.length;++e)if((o=R[e])&&o.used&&(r="x"+o.n,null==t[r]&&1===o.n&&(r="x"),null!=t[r])){i.left=o.p2c(t[r]);break}for(e=0;e<j.length;++e)if((o=j[e])&&o.used&&(r="y"+o.n,null==t[r]&&1===o.n&&(r="y"),null!=t[r])){i.top=o.p2c(t[r]);break}return i},A.getOptions=function(){return l},A.highlight=vt,A.unhighlight=kt,A.triggerRedrawOverlay=et,A.pointOffset=function(t){return{left:parseInt(R[tt(t,"x")-1].p2c(+t.x)+b.left,10),top:parseInt(j[tt(t,"y")-1].p2c(+t.y)+b.top,10)}},A.shutdown=at,A.destroy=function(){at(),T.removeData("plot").empty(),F=[],l=null,L=null,G=null,B=null,f=null,N=null,R=[],j=[],X=null,H=[],A=null},A.resize=function(t,i){t=t||T.width(),i=i||T.height(),L.resize(t,i),G.resize(t,i)},A.hooks=X,function U(){for(var t={Canvas:Z},i=0;i<D.length;++i){var e=D[i];e.init(A,t),e.options&&M.extend(!0,l,e.options)}}(),function y(t){M.extend(!0,l,t),t&&t.colors&&(l.colors=t.colors),null==l.xaxis.color&&(l.xaxis.color=M.color.parse(l.grid.color).scale("a",.22).toString()),null==l.yaxis.color&&(l.yaxis.color=M.color.parse(l.grid.color).scale("a",.22).toString()),null==l.xaxis.tickColor&&(l.xaxis.tickColor=l.grid.tickColor||l.xaxis.color),null==l.yaxis.tickColor&&(l.yaxis.tickColor=l.grid.tickColor||l.yaxis.color),null==l.grid.borderColor&&(l.grid.borderColor=l.grid.color),null==l.grid.tickColor&&(l.grid.tickColor=M.color.parse(l.grid.color).scale("a",.22).toString());var i,e,o,n,r=T.css("font-size"),d=r?+r.replace("px",""):13,u={style:T.css("font-style"),size:Math.round(.8*d),variant:T.css("font-variant"),weight:T.css("font-weight"),family:T.css("font-family")};for(o=l.xaxes.length||1,i=0;i<o;++i)(e=l.xaxes[i])&&!e.tickColor&&(e.tickColor=e.color),e&&(!e.label&&e.axisLabel&&(e.label=e.axisLabel),!e.labelPadding&&e.axisLabelPadding&&(e.labelPadding=e.axisLabelPadding)),e=M.extend(!0,{},l.xaxis,e),l.xaxes[i]=e,e.font&&(e.font=M.extend({},u,e.font)),(e.tickFont||e.font)&&(e.tickFont=M.extend({},e.font||u,e.tickFont),e.tickFont.color||(e.tickFont.color=e.color),e.tickFont.lineHeight||(e.tickFont.lineHeight=Math.round(1.15*e.tickFont.size))),e.label&&(e.labelFont||e.font)&&(e.labelFont=M.extend({},e.font||u,e.labelFont),e.labelFont.color||(e.labelFont.color=e.color),e.labelFont.lineHeight||(e.labelFont.lineHeight=Math.round(1.15*e.labelFont.size))),e.font&&(e.font.color||(e.font.color=e.color),e.font.lineHeight||(e.font.lineHeight=Math.round(1.15*e.font.size)));for(o=l.yaxes.length||1,i=0;i<o;++i)(e=l.yaxes[i])&&!e.tickColor&&(e.tickColor=e.color),e&&(!e.label&&e.axisLabel&&(e.label=e.axisLabel),!e.labelPadding&&e.axisLabelPadding&&(e.labelPadding=e.axisLabelPadding)),e=M.extend(!0,{},l.yaxis,e),l.yaxes[i]=e,e.font&&(e.font=M.extend({},u,e.font)),(e.tickFont||e.font)&&(e.tickFont=M.extend({},e.font||u,e.tickFont),e.tickFont.color||(e.tickFont.color=e.color),e.tickFont.lineHeight||(e.tickFont.lineHeight=Math.round(1.15*e.tickFont.size))),e.label&&(e.labelFont||e.font)&&(e.labelFont=M.extend({},e.font||u,e.labelFont),e.labelFont.color||(e.labelFont.color=e.color),e.labelFont.lineHeight||(e.labelFont.lineHeight=Math.round(1.15*e.labelFont.size))),e.font&&(e.font.color||(e.font.color=e.color),e.font.lineHeight||(e.font.lineHeight=Math.round(1.15*e.font.size)));if(n=l.grid.markings,M.isArray(n))for(i=0;i<n.length;++i)n[i].font&&(n[i].font=M.extend({},u,n[i].font));for(l.xaxis.noTicks&&null==l.xaxis.ticks&&(l.xaxis.ticks=l.xaxis.noTicks),l.yaxis.noTicks&&null==l.yaxis.ticks&&(l.yaxis.ticks=l.yaxis.noTicks),l.x2axis&&(l.xaxes[1]=M.extend(!0,{},l.xaxis,l.x2axis),l.xaxes[1].position="top",null==l.x2axis.min&&(l.xaxes[1].min=null),null==l.x2axis.max&&(l.xaxes[1].max=null)),l.y2axis&&(l.yaxes[1]=M.extend(!0,{},l.yaxis,l.y2axis),l.yaxes[1].position="right",null==l.y2axis.min&&(l.yaxes[1].min=null),null==l.y2axis.max&&(l.yaxes[1].max=null)),l.grid.coloredAreas&&(l.grid.markings=l.grid.coloredAreas),l.grid.coloredAreasColor&&(l.grid.markingsColor=l.grid.coloredAreasColor),l.lines&&M.extend(!0,l.series.lines,l.lines),l.points&&M.extend(!0,l.series.points,l.points),l.bars&&M.extend(!0,l.series.bars,l.bars),null!=l.shadowSize&&(l.series.shadowSize=l.shadowSize),null!=l.highlightColor&&(l.series.highlightColor=l.highlightColor),i=0;i<l.xaxes.length;++i)ot(R,i+1).options=l.xaxes[i];for(i=0;i<l.yaxes.length;++i)ot(j,i+1).options=l.yaxes[i];for(var a in X)l.hooks[a]&&l.hooks[a].length&&(X[a]=X[a].concat(l.hooks[a]));E(X.processOptions,[l])}(z),function Pt(){T.css("padding",0).children().filter(function(){return!M(this).hasClass("flot-overlay")&&!M(this).hasClass("flot-base")}).remove(),"static"===T.css("position")&&T.css("position","relative"),L=new Z("flot-base",T),G=new Z("flot-overlay",T),f=L.context,N=G.context,B=M(G.element).unbind();var t=T.data("plot");t&&(t.shutdown(),G.clear()),T.data("plot",A)}(),$(P),ft(),ct(),function Ot(){l.grid.hoverable&&(B.mousemove(pt),B.bind("mouseleave",gt)),l.grid.clickable&&B.click(mt),E(X.bindEvents,[B])}()}Z.prototype.resize=function(T,P){if(T<=0||P<=0)throw new Error("Invalid dimensions for plot, width = "+T+", height = "+P);var z=this.element,D=this.context,F=this.pixelRatio;this.width!==T&&(z.width=T*F,z.style.width=T+"px",this.width=T),this.height!==P&&(z.height=P*F,z.style.height=P+"px",this.height=P),D.restore(),D.save(),D.scale(F,F)},Z.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},Z.prototype.render=function(){var T=this._textCache;for(var P in T)if(Object.prototype.hasOwnProperty.call(T,P)){var z=this.getTextLayer(P),D=T[P];for(var F in z.hide(),D)if(Object.prototype.hasOwnProperty.call(D,F)){var l=D[F];for(var H in l)if(Object.prototype.hasOwnProperty.call(l,H)){var _=l[H];for(var L in _)if(Object.prototype.hasOwnProperty.call(_,L)){for(var f,G=_[L].positions,B=0;f=G[B];B++)f.active?f.rendered||(z.append(f.element),f.rendered=!0):(G.splice(B--,1),f.rendered&&f.element.detach());0===G.length&&delete _[L]}}}z.show()}},Z.prototype.getTextLayer=function(T){var P=this.text[T];return null==P&&(null==this.textContainer&&(this.textContainer=M("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),P=this.text[T]=M("<div></div>").addClass(T).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),P},Z.prototype.getTextInfo=function(T,P,z,D,F){var l,H,_,L,G;if(P=""+P,D=(360+(D||0))%360,l="object"==typeof z?z.style+" "+z.variant+" "+z.weight+" "+z.size+"px/"+z.lineHeight+"px "+z.family:z,null==(H=this._textCache[T])&&(H=this._textCache[T]={}),null==(_=H[l])&&(_=H[l]={}),null==(L=_[D])&&(L=_[D]={}),null==(G=L[P])){var B=M("<div></div>").html(P).css({position:"absolute","max-width":F,top:-9999}).appendTo(this.getTextLayer(T));"object"==typeof z?B.css({font:l,color:z.color}):"string"==typeof z&&B.addClass(z);var f=B.outerWidth(!0),N=B.outerHeight(!0);if(D){var A,R=D*Math.PI/180,j=Math.sin(R),b=Math.cos(R),V=b.toFixed(6),Y=(-j).toFixed(6),X=j.toFixed(6);if(!1!==M.support.leadingWhitespace){var $,x,E=f/2,U=N/2,y=Math.floor(E)+"px "+Math.floor(U)+"px";D<90?($=Math.floor(E*b+U*j-E),x=Math.floor(E*j+U*b-U)):D<180?($=Math.floor(U*j-E*b-E),x=Math.floor(E*j-U*b-U)):D<270?($=Math.floor(-E*b-U*j-E),x=Math.floor(-E*j-U*b-U)):($=Math.floor(E*b-U*j-E),x=Math.floor(U*b-E*j-U)),A="matrix("+V+","+X+","+Y+","+V+","+$+","+x+")",B.css({width:f+1,transform:A,"-o-transform":A,"-ms-transform":A,"-moz-transform":A,"-webkit-transform":A,"transform-origin":y,"-o-transform-origin":y,"-ms-transform-origin":y,"-moz-transform-origin":y,"-webkit-transform-origin":y})}else A="progid:DXImageTransform.Microsoft.Matrix(M11="+V+", M12="+Y+", M21="+X+", M22="+V+",sizingMethod='auto expand')",B.css({width:f+1,filter:A,"-ms-filter":A,"background-color":"#fff"});var tt=Math.abs(b),K=Math.abs(j),it=f;f=Math.round(tt*f+K*N),N=Math.round(K*it+tt*N)}G=L[P]={width:f,height:N,element:B,positions:[]},B.detach()}return G},Z.prototype.addText=function(T,P,z,D,F,l,H,_,L){var G=this.getTextInfo(T,D,F,l,H),B=G.positions;"center"===_?P-=G.width/2:"right"===_&&(P-=G.width),"middle"===L?z-=G.height/2:"bottom"===L&&(z-=G.height);for(var N,f=0;N=B[f];f++)if(N.x===P&&N.y===z)return void(N.active=!0);N={active:!0,rendered:!1,element:B.length?G.element.clone():G.element,x:P,y:z},B.push(N),N.element.css({top:Math.round(z),left:Math.round(P),"text-align":_})},Z.prototype.removeText=function(T,P,z,D,F,l){var H,_,L;if(null==D){var G=this._textCache[T];if(null!=G)for(var B in G)if(Object.prototype.hasOwnProperty.call(G,B)){var f=G[B];for(var N in f)if(Object.prototype.hasOwnProperty.call(f,N)){var R=f[N];for(var j in R)if(Object.prototype.hasOwnProperty.call(R,j))for(_=R[j].positions,H=0;L=_[H];H++)L.active=!1}}}else for(_=this.getTextInfo(T,D,F,l).positions,H=0;L=_[H];H++)L.x===P&&L.y===z&&(L.active=!1)},M.plot=function(T,P,z){return new Tt(M(T),P,z,M.plot.plugins)},M.plot.version="0.9.0-alpha",M.plot.plugins=[],M.fn.plot=function(T,P){return this.each(function(){M.plot(this,T,P)})}}(jQuery)}}]);