"use strict";(self.webpackChunkthingsboard=self.webpackChunkthingsboard||[]).push([[8592],{25095:(D,b,u)=>{u.d(b,{L:()=>k,W:()=>h});var r=u(98409),n=u(9351),t=u(93387),i=u(70970);class h{constructor(l,o){this.ctx=l;const e=i("#"+o,l.$container)[0],d=l.settings,F=this.createGaugeOptions(e,d);this.gauge=this.createGauge(F).draw()}update(){if(this.ctx.data.length>0){const l=this.ctx.data[0];if(l.data.length>0){const e=l.data[l.data.length-1][1];e!==this.gauge.value&&(this.gauge.value=e)}}}mobileModeChanged(){const l=!1!==this.ctx.settings.animation&&!this.ctx.isMobile;this.gauge.update({animation:l})}resize(){this.gauge.update({width:this.ctx.width,height:this.ctx.height})}destroy(){this.gauge.destroy(),this.gauge=null}}class k extends h{constructor(l,o){super(l,o)}createGaugeOptions(l,o){const e=o.minValue||0,d=o.maxValue||100,F=this.ctx.data[0].dataKey,m=o.defaultColor||F.color,w=d-e;let v=w/(o.majorTicksCount||10);const R=o.valueInt||3,T=function V(a,l){let o;return a.data&&a.data[0]&&(o=a.data[0].dataKey),o&&(0,n.$K)(o.decimals)?o.decimals:(0,n.$K)(l.valueDec)&&null!==l.valueDec?l.valueDec:a.decimals}(this.ctx,o);v=parseFloat(parseFloat(v+"").toFixed(T));const y=[],B=[];let c=e;for(;c<=d;){y.push(c);let f=c+v;if(f=parseFloat(parseFloat(f+"").toFixed(T)),c<d){const p=(0,t.Z)(m),K=(c-e)/w;p.setAlpha(K);const N={from:c,to:f,color:p.toRgbString()};B.push(N)}c=f}const E=(0,t.Z)(m).darken(20).toRgbString(),x={renderTo:l,minValue:e,maxValue:d,majorTicks:y,minorTicks:o.minorTicks||2,units:S(this.ctx,o),title:!1!==o.showUnitTitle?o.unitTitle&&o.unitTitle.length>0?o.unitTitle:F.label:"",borders:!1!==o.showBorder,borderShadowWidth:!1!==o.showBorder?3:0,valueInt:R,valueDec:T,majorTicksInt:1,majorTicksDec:0,valueBox:!1!==o.valueBox,valueBoxStroke:5,valueBoxWidth:0,valueText:"",valueTextShadow:!0,valueBoxBorderRadius:2.5,highlights:o.highlights&&o.highlights.length>0?o.highlights:B,highlightsWidth:(0,n.$K)(o.highlightsWidth)&&null!==o.highlightsWidth?o.highlightsWidth:15,fontNumbers:(0,r.B)(o.numbersFont),fontTitle:(0,r.B)(o.titleFont),fontUnits:(0,r.B)(o.unitsFont),fontValue:(0,r.B)(o.valueFont),fontNumbersSize:o.numbersFont&&o.numbersFont.size?o.numbersFont.size:18,fontTitleSize:o.titleFont&&o.titleFont.size?o.titleFont.size:24,fontUnitsSize:o.unitsFont&&o.unitsFont.size?o.unitsFont.size:22,fontValueSize:o.valueFont&&o.valueFont.size?o.valueFont.size:40,fontNumbersStyle:o.numbersFont&&o.numbersFont.style?o.numbersFont.style:"normal",fontTitleStyle:o.titleFont&&o.titleFont.style?o.titleFont.style:"normal",fontUnitsStyle:o.unitsFont&&o.unitsFont.style?o.unitsFont.style:"normal",fontValueStyle:o.valueFont&&o.valueFont.style?o.valueFont.style:"normal",fontNumbersWeight:o.numbersFont&&o.numbersFont.weight?o.numbersFont.weight:"500",fontTitleWeight:o.titleFont&&o.titleFont.weight?o.titleFont.weight:"500",fontUnitsWeight:o.unitsFont&&o.unitsFont.weight?o.unitsFont.weight:"500",fontValueWeight:o.valueFont&&o.valueFont.weight?o.valueFont.weight:"500",colorNumbers:o.numbersFont&&o.numbersFont.color?o.numbersFont.color:E,colorTitle:o.titleFont&&o.titleFont.color?o.titleFont.color:"#888",colorUnits:o.unitsFont&&o.unitsFont.color?o.unitsFont.color:"#888",colorValueText:o.valueFont&&o.valueFont.color?o.valueFont.color:"#444",colorValueTextShadow:o.valueFont&&o.valueFont.shadowColor?o.valueFont.shadowColor:"rgba(0,0,0,0.3)",colorPlate:o.colorPlate||"#fff",colorMajorTicks:o.colorMajorTicks||"#444",colorMinorTicks:o.colorMinorTicks||"#666",colorNeedle:o.colorNeedle||m,colorNeedleEnd:o.colorNeedleEnd||m,colorValueBoxRect:o.colorValueBoxRect||"#888",colorValueBoxRectEnd:o.colorValueBoxRectEnd||"#666",colorValueBoxBackground:o.colorValueBoxBackground||"#babab2",colorValueBoxShadow:o.colorValueBoxShadow||"rgba(0,0,0,1)",colorNeedleShadowUp:o.colorNeedleShadowUp||"rgba(2,255,255,0.2)",colorNeedleShadowDown:o.colorNeedleShadowDown||"rgba(188,143,143,0.45)",animation:!1!==o.animation&&!this.ctx.isMobile,animationDuration:(0,n.$K)(o.animationDuration)&&null!==o.animationDuration?o.animationDuration:500,animationRule:o.animationRule||"cycle",animatedValue:!0};return this.prepareGaugeOptions(o,x),x}}function S(a,l){let o;return a.data&&a.data[0]&&(o=a.data[0].dataKey),o&&o.units&&o.units.length?o.units:(0,n.$K)(l.units)&&l.units.length>0?l.units:a.units}},98409:(D,b,u)=>{function r(t){let i=t&&t.family?t.family:"Roboto";return"RobotoDraft"===i&&(i="Roboto"),i}function n(t,i){const h={...i,...t||{}};return h.family=r(h),h}u.d(b,{B:()=>r,F:()=>n})}}]);