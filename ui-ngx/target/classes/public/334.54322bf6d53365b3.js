(self.webpackChunkthingsboard=self.webpackChunkthingsboard||[]).push([[334],{15360:n=>{var e=function(){"use strict";function u(v,h,F,S){"object"==typeof h&&(F=h.depth,S=h.prototype,h.filter,h=h.circular);var H=[],I=[],M=typeof Buffer<"u";return typeof h>"u"&&(h=!0),typeof F>"u"&&(F=1/0),function J(C,E){if(null===C)return null;if(0==E)return C;var N,ee;if("object"!=typeof C)return C;if(u.__isArray(C))N=[];else if(u.__isRegExp(C))N=new RegExp(C.source,g(C)),C.lastIndex&&(N.lastIndex=C.lastIndex);else if(u.__isDate(C))N=new Date(C.getTime());else{if(M&&Buffer.isBuffer(C))return N=Buffer.allocUnsafe?Buffer.allocUnsafe(C.length):new Buffer(C.length),C.copy(N),N;typeof S>"u"?(ee=Object.getPrototypeOf(C),N=Object.create(ee)):(N=Object.create(S),ee=S)}if(h){var A=H.indexOf(C);if(-1!=A)return I[A];H.push(C),I.push(N)}for(var ne in C){var X;ee&&(X=Object.getOwnPropertyDescriptor(ee,ne)),(!X||null!=X.set)&&(N[ne]=J(C[ne],E-1))}return N}(v,F)}function i(v){return Object.prototype.toString.call(v)}function g(v){var h="";return v.global&&(h+="g"),v.ignoreCase&&(h+="i"),v.multiline&&(h+="m"),h}return u.clonePrototype=function(h){if(null===h)return null;var F=function(){};return F.prototype=h,new F},u.__objToStr=i,u.__isDate=function f(v){return"object"==typeof v&&"[object Date]"===i(v)},u.__isArray=function p(v){return"object"==typeof v&&"[object Array]"===i(v)},u.__isRegExp=function D(v){return"object"==typeof v&&"[object RegExp]"===i(v)},u.__getRegExpFlags=g,u}();n.exports&&(n.exports=e)},64882:(n,e,u)=>{var i=u(15360);n.exports=function(f,p){return f=f||{},Object.keys(p).forEach(function(D){typeof f[D]>"u"&&(f[D]=i(p[D]))}),f}},20334:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(n){var e=function(){return e.cache.hasOwnProperty(arguments[0])||(e.cache[arguments[0]]=e.parse(arguments[0])),e.format.call(null,e.cache[arguments[0]],arguments)};e.format=function(p,D){var F,O,H,I,M,J,C,g=1,v=p.length,h="",S=[];for(O=0;O<v;O++)if("string"===(h=i(p[O])))S.push(p[O]);else if("array"===h){if((I=p[O])[2])for(F=D[g],H=0;H<I[2].length;H++){if(!F.hasOwnProperty(I[2][H]))throw e('[sprintf] property "%s" does not exist',I[2][H]);F=F[I[2][H]]}else F=I[1]?D[I[1]]:D[g++];if(/[^s]/.test(I[8])&&"number"!==i(F))throw e("[sprintf] expecting number but found %s",i(F));switch(I[8]){case"b":F=F.toString(2);break;case"c":F=String.fromCharCode(F);break;case"d":F=parseInt(F,10);break;case"e":F=I[7]?F.toExponential(I[7]):F.toExponential();break;case"f":F=I[7]?parseFloat(F).toFixed(I[7]):parseFloat(F);break;case"o":F=F.toString(8);break;case"s":F=(F=String(F))&&I[7]?F.slice(0,I[7]):F;break;case"u":F>>>=0;break;case"x":F=F.toString(16);break;case"X":F=F.toString(16).toUpperCase()}F=/[def]/.test(I[8])&&I[3]&&F>=0?" +"+F:F,J=I[4]?"0"===I[4]?"0":I[4].charAt(1):" ",C=I[6]-String(F).length,M=I[6]?f(J,C):"",S.push(I[5]?F+M:M+F)}return S.join("")},e.cache={},e.parse=function(p){for(var D=p,g=[],v=[],h=0;D;){if(null!==(g=/^[^\x25]+/.exec(D)))v.push(g[0]);else if(null!==(g=/^\x25{2}/.exec(D)))v.push("%");else{if(null===(g=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(D)))throw"[sprintf] huh?";if(g[2]){h|=1;var F=[],S=g[2],O=[];if(null===(O=/^([a-z_][a-z_\d]*)/i.exec(S)))throw"[sprintf] huh?";for(F.push(O[1]);""!==(S=S.slice(O[0].length));)if(null!==(O=/^\.([a-z_][a-z_\d]*)/i.exec(S)))F.push(O[1]);else{if(null===(O=/^\[(\d+)\]/.exec(S)))throw"[sprintf] huh?";F.push(O[1])}g[2]=F}else h|=2;if(3===h)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";v.push(g)}D=D.slice(g[0].length)}return v};function i(p){return Object.prototype.toString.call(p).slice(8,-1).toLowerCase()}function f(p,D){for(var g=[];D>0;g[--D]=p);return g.join("")}n.sprintf=e,n.vsprintf=function(p,D,g){return(g=D.slice(0)).splice(0,0,p),e.apply(null,g)}})(typeof global<"u"?global:self||window),function(n,e){var u;if(typeof window<"u")u=window;else if(typeof self<"u")u=self;else{if(!(typeof global<"u"))throw new Error("Unknow context");u=global}__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(70970),__webpack_require__(57949)],void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(i,f){return n(i,f,u),i}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(function($,wcwidth,root,undefined){"use strict";function debug(n){}function DelayQueue(){var n=$.Callbacks(),e=!1;this.resolve=function(){n.fire(),e=!0},this.add=function(u){e?u():n.add(u)}}$.omap=function(n,e){var u={};return $.each(n,function(i,f){u[i]=e.call(n,i,f)}),u},$.fn.text_length=function(){return this.map(function(){return $(this).text().length}).get().reduce(function(n,e){return n+e},0)};var Clone={clone_object:function(n){var e={};if("object"==typeof n){if($.isArray(n))return this.clone_array(n);if(null===n)return n;for(var u in n)$.isArray(n[u])?e[u]=this.clone_array(n[u]):"object"==typeof n[u]?e[u]=this.clone_object(n[u]):e[u]=n[u]}return e},clone_array:function(n){if(!is_function(Array.prototype.map))throw new Error("Your browser don't support ES5 array map use es5-shim");return n.slice(0).map(function(e){return"object"==typeof e?this.clone_object(e):e}.bind(this))}},clone=function(n){return Clone.clone_object(n)},localStorage;"Map"in root&&!("clear"in Map.prototype)&&(Map.prototype.clear=function(){this.forEach(function(n,e,u){u.delete(e)})}),function(){var u=function(){try{var h="test",F=window.localStorage;return F.setItem(h,"1"),F.removeItem(h),!0}catch{return!1}}();function i(h,F){var S;if("string"==typeof h&&"string"==typeof F)return localStorage[h]=F,!0;if("object"==typeof h&&typeof F>"u"){for(S in h)h.hasOwnProperty(S)&&(localStorage[S]=h[S]);return!0}return!1}function f(h,F){var S,O,H;if((S=new Date).setTime(S.getTime()+31536e6),O="; expires="+S.toGMTString(),"string"==typeof h&&"string"==typeof F)return document.cookie=h+"="+F+O+"; path=/",!0;if("object"==typeof h&&typeof F>"u"){for(H in h)h.hasOwnProperty(H)&&(document.cookie=H+"="+h[H]+O+"; path=/");return!0}return!1}function p(h){return localStorage[h]}function g(h){return delete localStorage[h]}!function(){try{return document.cookie.split(";"),!0}catch{return!1}}()&&!u?(localStorage={},$.extend({Storage:{set:i,get:p,remove:g}})):(u&&(localStorage=window.localStorage),$.extend({Storage:{set:u?i:f,get:u?p:function D(h){var F,S,O,H;for(F=h+"=",S=document.cookie.split(";"),O=0;O<S.length;O++){for(H=S[O];" "===H.charAt(0);)H=H.slice(1,H.length);if(0===H.indexOf(F))return H.slice(F.length,H.length)}return null},remove:u?g:function v(h){return f(h,"")}}}))}();var debounce=function(){function u(){return Date.now()}return function(f,p,D){var h,F,S,O,H,I,g=Math.max,v=Math.min,M=0,J=!1,C=!1,E=!0;if("function"!=typeof f)throw new TypeError("Expected a function");function N(Z){var ue=h,G=F;return h=F=undefined,M=Z,O=f.apply(G,ue)}function ne(Z){var ue=Z-I;return I===undefined||ue>=p||ue<0||C&&Z-M>=S}function X(){var Z=u();if(ne(Z))return P(Z);H=setTimeout(X,function A(Z){var _e=p-(Z-I);return C?v(_e,S-(Z-M)):_e}(Z))}function P(Z){return H=undefined,E&&h?N(Z):(h=F=undefined,O)}function ie(){var Z=u(),ue=ne(Z);if(h=arguments,F=this,I=Z,ue){if(H===undefined)return function ee(Z){return M=Z,H=setTimeout(X,p),J?N(Z):O}(I);if(C)return H=setTimeout(X,p),N(I)}return H===undefined&&(H=setTimeout(X,p)),O}return p=p||0,function e(i){var f=typeof i;return null!=i&&("object"==f||"function"==f)}(D)&&(J=!!D.leading,S=(C="maxWait"in D)?g(D.maxWait||0,p):S,E="trailing"in D?!!D.trailing:E),ie.cancel=function oe(){H!==undefined&&clearTimeout(H),M=0,h=I=F=H=undefined},ie.flush=function re(){return H===undefined?O:P(u())},ie}}(),jQuery=$,n;function make_callback_plugin(n){var e=$.extend({init:$.noop,destroy:$.noop,name:"event"},n);return function(u,i){var f=0===arguments.length,p="unbind"===arguments[0];if(!f&&!p&&!is_function(u))throw new Error('Invalid argument, it need to a function or string "unbind" or no arguments.');p&&(u=is_function(arguments[1])?arguments[1]:null);var D="callbacks_"+e.name;return this.each(function(){var v,g=$(this);function h(F){v.fireWith(g,[F])}f||p?(v=g.data(D),f?v&&v.fire():(u&&v?(v.remove(u),v.has()||(v=null)):v=null,v||(g.removeData(D),e.destroy.call(this,h,i)))):g.data(D)?$(this).data(D).add(u):((v=$.Callbacks()).add(u),g.data(D,v),e.init.call(this,h,i))})}}function jquery_resolve(n){var e=jQuery.Deferred();return e.resolve(n),e.promise()}function unpromise(n,e,u){if(n!==undefined){if(is_promise(n)){if(is_function(n.catch)&&is_function(u)&&n.catch(u),is_function(n.done))return n.done(e);if(is_function(n.then))return n.then(e)}else if(n instanceof Array){if(n.filter(function(p){return p&&(is_function(p.done)||is_function(p.then))}).length){var f=$.when.apply($,n).then(function(){return e([].slice.call(arguments))});return is_function(f.catch)&&(f=f.catch(u)),f}}return e(n)}}function always(n){return n===undefined||n}n=jQuery,jQuery.fn.extend({everyTime:function(e,u,i,f,p){return this.each(function(){jQuery.timer.add(this,e,u,i,f,p)})},oneTime:function(e,u,i){return this.each(function(){jQuery.timer.add(this,e,u,i,1)})},stopTime:function(e,u){return this.each(function(){jQuery.timer.remove(this,e,u)})}}),jQuery.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1e3,das:1e4,hs:1e5,ks:1e6},timeParse:function(e){if(e===undefined||null===e)return null;var u=this.regex.exec(jQuery.trim(e.toString()));return u[2]?parseInt(u[1],10)*(this.powers[u[2]]||1):e},add:function(e,u,i,f,p,D){var g=0;if(jQuery.isFunction(i)&&(p||(p=f),f=i,i=u),!("number"!=typeof(u=jQuery.timer.timeParse(u))||isNaN(u)||u<=0)){p&&p.constructor!==Number&&(D=!!p,p=0),p=p||0,D=D||!1,e.$timers||(e.$timers={}),e.$timers[i]||(e.$timers[i]={}),f.$timerID=f.$timerID||this.guid++;var v=function(){D&&v.inProgress||(v.inProgress=!0,(++g>p&&0!==p||!1===f.call(e,g))&&jQuery.timer.remove(e,i,f),v.inProgress=!1)};v.$timerID=f.$timerID,e.$timers[i][f.$timerID]||(e.$timers[i][f.$timerID]=setInterval(v,u)),this.global[i]||(this.global[i]=[]),this.global[i].push(e)}},remove:function(e,u,i){var p,f=e.$timers;if(f){if(u){if(f[u]){if(i)i.$timerID&&(clearInterval(f[u][i.$timerID]),delete f[u][i.$timerID]);else for(var g in f[u])f[u].hasOwnProperty(g)&&(clearInterval(f[u][g]),delete f[u][g]);for(p in f[u])if(f[u].hasOwnProperty(p))break;p||(p=null,delete f[u])}}else for(var D in f)f.hasOwnProperty(D)&&this.remove(e,D,i);for(p in f)if(f.hasOwnProperty(p))break;p||(e.$timers=null)}}}}),/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())&&n(window).one("unload",function(){var e=jQuery.timer.global;for(var u in e)if(e.hasOwnProperty(u))for(var i=e[u],f=i.length;--f;)jQuery.timer.remove(i[f],u)}),function(n){if(String.prototype.split.toString().match(/\[native/)){var i,e=String.prototype.split,u=/()??/.exec("")[1]===n;i=function(f,p,D){if("[object RegExp]"!==Object.prototype.toString.call(p))return e.call(f,p,D);var F,S,O,H,g=[],v=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.extended?"x":"")+(p.sticky?"y":""),h=0;for(p=new RegExp(p.source,v+"g"),f+="",u||(F=new RegExp("^"+p.source+"$(?!\\s)",v)),D=D===n?-1>>>0:D>>>0;(S=p.exec(f))&&!((O=S.index+S[0].length)>h&&(g.push(f.slice(h,S.index)),!u&&S.length>1&&S[0].replace(F,function(){for(var I=1;I<arguments.length-2;I++)arguments[I]===n&&(S[I]=n)}),S.length>1&&S.index<f.length&&Array.prototype.push.apply(g,S.slice(1)),H=S[0].length,h=O,g.length>=D));)p.lastIndex===S.index&&p.lastIndex++;return h===f.length?(H||!p.test(""))&&g.push(""):g.push(f.slice(h)),g.length>D?g.slice(0,D):g},String.prototype.split=function(f,p){return i(this,f,p)}}}(),$.fn.caret=function(n){var e=this[0],u="true"===e.contentEditable;if(0===arguments.length){if(window.getSelection)return u?(this.is(":focus")||e.focus(),(f=(i=window.getSelection().getRangeAt(0)).cloneRange()).selectNodeContents(e),f.setEnd(i.endContainer,i.endOffset),f.toString().length):e.selectionStart;if(document.selection){if(e.focus(),u){var i=document.selection.createRange();return(f=document.body.createTextRange()).moveToElementText(e),f.setEndPoint("EndToEnd",i),f.text.length}n=0;var f,p=e.createTextRange(),D=(f=document.selection.createRange().duplicate()).getBookmark();for(p.moveToBookmark(D);0!==p.moveStart("character",-1);)n++;return n}return 0}if(-1===n&&(n=this[u?"text":"val"]().length),window.getSelection)if(u){this.is(":focus")||e.focus();var g=window.getSelection();g.collapse(g.focusNode,n)}else e.setSelectionRange(n,n);else if(document.body.createTextRange){(p=document.body.createTextRange()).moveToElementText(e),p.moveStart("character",n),p.collapse(!0),p.select()}return!u&&!this.is(":focus")&&e.focus(),n},$.fn.resizer=make_callback_plugin({name:"resize",init:function(n,e){var f,u=$.extend({prefix:""},e),i=$(this),p=!0;if(i.is("body"))$(window).on("resize.resizer",n);else if(window.ResizeObserver)(f=new ResizeObserver(function(){p||n(),p=!1})).observe(this),i.data("observer",f);else{var D=$("<iframe/>").addClass(u.prefix+"resizer").appendTo(this)[0];$(D.contentWindow).on("resize",n)}},destroy:function(){var n=$(this);if(window.ResizeObserver){var e=n.data("observer");e&&(e.unobserve(this),n.removeData("observer"))}else{var u=n.find('> iframe[class$="resizer"]');u.length?($(u[0].contentWindow).off("resize").remove(),u.remove()):n.is("body")&&$(window).off("resize.resizer")}}}),$.fn.touch_scroll=make_callback_plugin({name:"touch",init:function(n){var e,u;$(this).on("touchstart.scroll",function(i){"a"!==(i=i.originalEvent).target.tagName.toLowerCase()&&1===i.touches.length&&(u=e=i.touches[0])}).on("touchmove.scroll",function(i){if(i=i.originalEvent,e&&1===i.touches.length){var f=i.touches[0];!1===n({origin:e,previous:u,current:f})&&i.preventDefault(),u=f}}).on("touchend.scroll",function(){(e||u)&&(e=u=null)})},destroy:function(){$(this).off("touchstart.scroll touchmove.scroll touchend.scroll")}}),$.fn.on_load=function(n){var e=$.extend({error:$.noop,load:$.noop,done:$.noop},n),u=[];return this.find("img,iframe").each(function(){var i=$(this),f=new $.Deferred;i.on("load",f.resolve).on("error",function(){e.error(i),f.reject()}),u.push(f)}),e.load(!!u.length),u.length?$.when.apply($,u).then(function(){e.done(!0)}):e.done(!1),this},$.fn.is_fully_in_viewport=root.IntersectionObserver?function(e){var u=this[0],i=jQuery.Deferred(),f=new root.IntersectionObserver(function(p){i.resolve(p[0].isIntersecting&&1===p[0].ratio),f.unobserve(u)},{root:e[0]});return f.observe(u),i.promise()}:function(e){return jquery_resolve(function n(e,u){var i=e.getBoundingClientRect(),f=u[0].getBoundingClientRect(),p=i.top-f.top,D=i.bottom-f.top,g=u.height();return D>0&&p<=g}(this[0],e))};var entity_re=/(&(?:[a-z\d]+|#\d+|#x[a-f\d]+);)/i,combine_chr_re=/(.(?:[\u0300-\u036F]|[\u1AB0-\u1abE]|[\u1DC0-\u1DF9]|[\u1DFB-\u1DFF]|[\u20D0-\u20F0]|[\uFE20-\uFE2F])+)/,astral_symbols_re=/([\uD800-\uDBFF][\uDC00-\uDFFF])/,emoji_re=/(\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFE])|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC3B\u200D\u2744|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E-\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDF])\u200D[\u2640\u2642])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F?|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD]))/,mobile_re=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,tablet_re=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,format_split_re=/(\[\[(?:-?[@!gbiuso])*;[^;]*;[^\]]*\](?:[^\]\\]*(?:\\\\)*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?)/i,format_parts_re=/\[\[((?:-?[@!gbiuso])*);([^;]*);([^;\]]*);?([^;\]]*);?([^\]]*)\]([^\]\\]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]+)\]?/gi,format_re=/\[\[((?:-?[@!gbiuso])*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi,format_exist_re=/\[\[((?:-?[@!gbiuso])*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]/gi,format_full_re=/^(\[\[(?:(?:-?[@!gbiuso])*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\])([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)(\])$/i,format_begin_re=/(\[\[(?:-?[@!gbiuso])*;[^;]*;[^\]]*\])/i,format_start_re=/^(\[\[(?:-?[@!gbiuso])*;[^;]*;[^\]]*\])/i,format_end_re=/\[\[(?:-?[@!gbiuso])*;[^;]*;[^\]]*\]?$/i,self_closing_re=/^(?:\[\[)?[^;]*@[^;]*;/,color_re=/^(?:#([0-9a-f]{3}|[0-9a-f]{4}|[0-9a-f]{6}|[0-9a-f]{8})|rgba?\([^)]+\)|hsla?\([^)]+\))$/i,url_re=/(\b(?:file|ftp|https?):\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'\\<>\][)])+)/gi,url_nf_re=/\b(?![^"\s[\]]*])(https?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'\\<>\][)])+)/gi,email_re=/((([^<>('")[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))/g,url_full_re=/^(https?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'<>\\\][)])+)$/gi,email_full_re=/^((([^<>('")[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))$/g,command_re=/((?:"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`|\/[^\/\\]*(?:\\[\S\s][^\/\\]*)*\/[gimsuy]*(?=\s|$)|(?:\\\s|\S))+)(?=\s|$)/gi,extended_command_re=/^\s*((terminal|cmd)::([a-z_]+)\(([\s\S]*)\))\s*$/,format_exec_split_re=/(\[\[(?:-?[@!gbiuso])*;[^\]]+\](?:\\[[\]]|[^\]])*\]|\[\[[\s\S]+?\]\])/,format_exec_re=/(\[\[[\s\S]+?\]\])/,float_re=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/,re_re=/^\/((?:\\\/|[^/]|\[[^\]]*\/[^\]]*\])+)\/([gimsuy]*)$/,string_re=/("(?:[^"\\]|\\(?:\\\\)*"|\\\\)*"|'(?:[^'\\]|\\(?:\\\\)*'|\\\\)*'|`(?:[^`\\]|\\(?:\\\\)*`|\\\\)*`)/,unclosed_strings_re=/^(?=((?:[^"']+|"[^"\\]*(?:\\[^][^"\\]*)*"|'[^'\\]*(?:\\[^][^'\\]*)*')*))\1./,broken_image='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 14"><title id="title2">rounded</title><path id="terminal-broken-image" d="m 14,10 h 2 v 1 a 3,3 0 0 1 -3,3 H 3 A 3,3 0 0 1 0,11 H 4.5 A 1.00012,1.00012 0 0 0 5.207,10.707 L 6.5,9.414 7.793,10.707 a 0.99963,0.99963 0 0 0 1.41406,0 l 2.36719,-2.36719 1.80127,1.44092 A 0.99807,0.99807 0 0 0 14,10 Z M 16,3 V 8 H 14.35059 L 12.12451,6.21924 A 0.99846,0.99846 0 0 0 10.793,6.293 L 8.5,8.586 7.207,7.293 a 0.99962,0.99962 0 0 0 -1.41406,0 L 4.08594,9 H 0 V 3 A 3,3 0 0 1 3,0 h 10 a 3,3 0 0 1 3,3 z M 6,4.5 A 1.5,1.5 0 1 0 4.5,6 1.5,1.5 0 0 0 6,4.5 Z" /></svg>',use_broken_image='<svg class="terminal-broken-image" role="presentation" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 14" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#terminal-broken-image"/></svg>',animation_supported=function(){if(typeof document>"u")return!1;var n=!1,e="Webkit Moz O ms Khtml".split(" "),u=document.createElement("div");if(u.style.animationName&&(n=!0),!1===n)for(var i=0;i<e.length;i++){var f=e[i]+"AnimationName";if(u.style[f]!==undefined){n=!0;break}}return u=null,n}(),agent=(root.navigator||window.navigator).userAgent,is_IE=/MSIE|Trident/.test(agent)||/rv:11.0/i.test(agent),is_IEMobile=/IEMobile/.test(agent),is_ch_unit_supported=function(){if(is_IE&&!is_IEMobile)return!1;if(typeof document>"u")return!0;var n=document.createElement("div");return n.style.width="1ch","1ch"===n.style.width}(),is_css_variables_supported=root.CSS&&root.CSS.supports&&root.CSS.supports("--fake-var",0),is_android=-1!==navigator.userAgent.toLowerCase().indexOf("android"),is_key_native=function(){if(!("KeyboardEvent"in root)||!("key"in root.KeyboardEvent.prototype))return!1;var e=root.KeyboardEvent.prototype;return!!Object.getOwnPropertyDescriptor(e,"key").get.toString().match(/\[native code\]/)}(),is_browser=function(){try{return this===window}catch{return!1}}(),is_mobile=function(n){var e=!1;return(mobile_re.test(n)||tablet_re.test(n.substr(0,4)))&&(e=!0),"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||e}(navigator.userAgent||navigator.vendor||root.opera),ch_unit_bug=!1;function css(n,e,u){if(n instanceof $.fn.init)n.each(function(){css(this,e,u)});else if($.isPlainObject(e))Object.keys(e).forEach(function(i){n.style.setProperty(i,e[i])});else{if(typeof u>"u")return n.style.getPropertyValue(e);n.style.setProperty(e,u)}}function style_prop(n,e,u){var i=[n+":"+e+"px",n+":calc("+e+"px / var(--pixel-density, 1))"];return u&&(i=i.map(function(f){return f+" !important"})),i.join(";")}function a11y_hide(n){n.attr({role:"presentation","aria-hidden":"true"})}is_browser&&$(function(){function n(f){return f[0].getBoundingClientRect().width}var e='<span style="font-family: monospace;visibility:hidden;',u=$(e+'width:1ch;overflow: hidden">&nbsp;</span>');u.appendTo("body");var i=$(e+'">&nbsp;</span>').appendTo("body");ch_unit_bug=Math.abs(n(u)-n(i))>1e-4,u.remove(),i.remove()});var excepctions=[];function alert_exception(n,e){arguments[0]instanceof $.terminal.Exception&&(n=arguments[0].type,e=arguments[0]);var u=(n?n+": ":"")+exception_message(e);-1===excepctions.indexOf(u)&&(excepctions.push(u),setTimeout(function(){throw e},0))}function generate_id(){var n=46656*Math.random()|0,e=46656*Math.random()|0;return(n=("000"+n.toString(36)).slice(-3))+(e=("000"+e.toString(36)).slice(-3))}function scrollbar_event(n,e,u){u=u||1;var i=e.offset().left;return e.outerWidth()*u<=n.clientX-i}function exception_message(n){return"string"==typeof n?n:"string"==typeof n.fileName?n.fileName+": "+n.message:n.message}function Cycle(){var n=[].slice.call(arguments),e=0;$.extend(this,{get:function(){return n},index:function(){return e},rotate:function(u,i){if(i===undefined)i=e;else if(i===e)return;if(!u&&!n.filter(function(p){return typeof p<"u"}).length)return;if(n.length)return 1===n.length?n[0]:(e===n.length-1?e=0:++e,typeof n[e]<"u"?n[e]:this.rotate(!0,i))},length:function(){return n.length},remove:function(u){delete n[u]},set:function(u){for(var i=n.length;i--;)if(n[i]===u)return void(e=i);this.append(u),e=n.length-1},front:function(){if(n.length){for(var u=e,i=!1;!n[u];)if(++u>n.length){if(i)break;u=0,i=!0}return n[u]}},map:function(u){return n.map(function(i,f){return typeof i<"u"?u(i,f):null}).filter(Boolean)},forEach:function(u){return n.forEach(function(i,f){typeof i<"u"&&u(i,f)})},append:function(u){n.push(u)}})}function Stack(n){var e=is_array(n)?n:n?[n]:[];$.extend(this,{data:function(){return e},map:function(u){return $.map(e,u)},size:function(){return e.length},pop:function(){if(0===e.length)return null;var u=e[e.length-1];return e=e.slice(0,e.length-1),u},push:function(u){return e=e.concat([u]),u},top:function(){return e.length>0?e[e.length-1]:null},clone:function(){return new Stack(e.slice(0))}})}function WorkerCache(n){var e=$.extend({validation:$.noop,action:$.noop,onCache:$.noop},n);this._onCache=e.onCache.bind(this),this._action=e.action.bind(this),this._validation=e.validation.bind(this),"Map"in root&&(this._cache=new Map)}function History(n,e,u){var p,i=!0,f="";"string"==typeof n&&""!==n&&(f=n+"_"),f+="commands",u?p=[]:p=(p=$.Storage.get(f))?JSON.parse(p):[];var D=p.length-1;$.extend(this,{append:function(g){i&&p[p.length-1]!==g&&(p.push(g),e&&p.length>e&&(p=p.slice(-e)),D=p.length-1,u||$.Storage.set(f,JSON.stringify(p)))},set:function(g){is_array(g)&&(p=g,u||$.Storage.set(f,JSON.stringify(p)))},data:function(){return p},reset:function(){D=p.length-1},last:function(){return p[p.length-1]},end:function(){return D===p.length-1},position:function(){return D},current:function(){return p[D]},next:function(){var g=D;if(D<p.length-1&&++D,g!==D)return p[D]},previous:function(){var g=D;if(D>0&&--D,g!==D)return p[D]},clear:function(){p=[],this.purge()},enabled:function(){return i},enable:function(){i=!0},purge:function(){u||$.Storage.remove(f)},disable:function(){i=!1},toggle:function(g){i=typeof g>"u"?!i:g}})}function OutputLines(n){this._settings=n,this._lines=[],this._snapshot=[]}function FormatBuffer(n){this._options=n,"Map"in root&&(this._format_cache=new Map),this._output_buffer=[]}function with_prompt(n,e,u){function i(g){var v=$.terminal.escape_brackets("[ERR]> ");e("[[;red;]"+v+"]"),alert_exception("Prompt",g)}function f(g){e(g),p.resolve()}var p=new $.Deferred;switch(typeof n){case"string":f(n);break;case"function":try{var D=n.call(u,function(g){f(g)});"string"==typeof D&&f(D),D&&D.then&&D.then(f).catch(i)}catch(g){i(g)}}return p.promise()}WorkerCache.prototype.validate=function(n){var e=this._validation(n),u=e===undefined||!0===e;return u||this._cache.clear(),u},WorkerCache.prototype.clear=function(){this._cache.clear()},WorkerCache.prototype.get=function(n){return this._cache?this.validate(n)&&this._cache.has(n)?(e=this._cache.get(n),this._onCache({cache:e}),e):(e=this._action(n),this._cache.set(n,e),e):this._action(n);var e},OutputLines.prototype.make_snapshot=function(n){this._snapshot.push(n)},OutputLines.prototype.get_partial=function(){return this._snapshot[this._snapshot.length-1]},OutputLines.prototype.update_snapshot=function(n,e){this._snapshot[n]=e},OutputLines.prototype.limit_snapshot=function(n){this._snapshot=this._snapshot.slice(n)},OutputLines.prototype.clear_snapshot=function(){this._snapshot=[]},OutputLines.prototype.get_snapshot=function(){return this._snapshot.reduce(function(n,e){return n.concat(e)},[]).join("\n")},OutputLines.prototype.join=function(){var n=[].slice.call(arguments);return n.some(is_function)?function(){return n.reduce(function(e,u){return is_function(e)&&(e=e()),is_function(u)&&(u=u()),is_promise(e)||is_promise(u)?$.when(e,u).then(function(i,f){return i+f}):u})}:n.some(is_promise)?n.reduce(function(e,u){return $.when(e,u).then(function(i,f){return i+f})}):n.join("")},OutputLines.prototype.import=function(n){this._lines=n},OutputLines.prototype.push=function(n){var e=n[0],u=n[1];if(this.has_newline())this._lines.push(n);else{var i=this.last_line();i[0]=this.join(i[0],e),i[1].newline=u.newline}},OutputLines.prototype.clear=function(n){this._lines.forEach(function(e,u){var i=e[1];is_function(i.onClear)&&i.onClear.call(self,n(u))}),this._lines=[],this._snapshot=[]},OutputLines.prototype.data=function(){return this._lines},OutputLines.prototype.has_newline=function(){return 0===this._lines.length||this.last_line()[1].newline},OutputLines.prototype.unmount=function(n){var e=n.data("index"),u=this._lines[e];if(u){var i=u[1];is_function(i.unmount)&&i.unmount.call(self,n)}},OutputLines.prototype.last_line=function(){var n=this._lines.length;return this._lines[n-1]},OutputLines.prototype.update=function(n,e,u){if(null!==e)return this._lines[n][0]=e,u&&(this._lines[n][1]=$.extend(this._lines[n][1],u)),this._lines[n][1];this._lines.splice(n,1)},OutputLines.prototype.length=function(){return this._lines.length},OutputLines.prototype.valid_index=function(n){return!!this._lines[n]},OutputLines.prototype.render=function(n,e){var u=this._settings(),i=[];if(this._snapshot=[],u.outputLimit>=0){var f;f=0===u.outputLimit?n:u.outputLimit,this._lines.forEach(function(D,g){var v=D[0],h=D[1];i.push({value:v,index:g,options:h})});var p=i.length-f-1;i=i.slice(p)}else i=this._lines.map(function(D,g){return{value:D[0],index:g,options:D[1]}});return e(i)},FormatBuffer.NEW_LINE=1,FormatBuffer.prototype.format=function(e,u,i){var f=this._format_cache&&this._settings.useCache;if(f){var p=JSON.stringify([e,this._settings]);if(this._format_cache.has(p))return this._format_cache.get(p)}var D={line:$.terminal.format(e,this._settings),raw:i,newline:u};return f&&this._format_cache.set(p,D),D},FormatBuffer.prototype.empty=function(){return!this._output_buffer.length},FormatBuffer.prototype.append=function(n,e,u,i){if(this._settings=$.extend({useCache:!0},this._options(u)),this._output_buffer.push(FormatBuffer.NEW_LINE),n instanceof Array)for(var f=i.split("\n"),p=0,D=n.length;p<D;++p)if(""===n[p]||"\r"===n[p])this._output_buffer.push({line:"",raw:""});else{var g=this.format(n[p],p===D-1,f[p]);this._output_buffer.push(g)}else u.raw?this._output_buffer.push({line:n,raw:i}):this._output_buffer.push(this.format(n,!1,i));this._output_buffer.push({finalize:u.finalize,index:e,raw:u.raw,newline:u.newline})},FormatBuffer.prototype.clear_cache=function(){this._format_cache&&this._format_cache.clear()},FormatBuffer.prototype.output=function(){return this._output_buffer.slice()},FormatBuffer.prototype.is_empty=function(){return!this._output_buffer.length},FormatBuffer.prototype.clear=function(){this._output_buffer=[]},FormatBuffer.prototype.forEach=function(n){for(var e=0;e<this._output_buffer.length;){var u=this._output_buffer[e++];u===FormatBuffer.NEW_LINE?n():n(u)}},FormatBuffer.prototype.flush=function(n){this.forEach(n),this.clear()};var cmd_index=0;$.cmd={defaults:{mask:!1,caseSensitiveSearch:!0,historySize:60,prompt:"> ",enabled:!0,history:!0,onPositionChange:$.noop,onCommandChange:$.noop,inputStyle:"textarea",mobileDelete:is_mobile,onPaste:$.noop,clickTimeout:200,holdTimeout:400,holdRepeatTimeout:200,mobileIngoreAutoSpace:[],repeatTimeoutKeys:[],tabindex:1,tabs:4}},$.fn.cmd=function(n){var e=$.extend({},$.cmd.defaults,n);function u(s){return e.mobileIngoreAutoSpace.length&&-1!==e.mobileIngoreAutoSpace.indexOf(s)&&is_android}var i=this,f=i.data("cmd");if(f)return f;var p=cmd_index++;i.addClass("cmd");var v,s,_,D=$('<div class="cmd-wrapper"/>').appendTo(i);D.append('<span class="cmd-prompt"></span>'),D.append('<div class="cmd-cursor-line"><span></span><span class="cmd-cursor"><span data-text class="end"><span>&nbsp;</span></span></span><span></span></div>'),a11y_hide(D.find(".cmd-cursor-line")),is_mobile?(v=function(){var s=$('<div class="cmd-editable" contenteditable/>').attr({autocapitalize:"off",autocorrect:"off",spellcheck:"false",tabindex:e.tabindex}).insertAfter(i);s.on("focus",function(){i.enable()}).on("blur",function(){i.disable()});var _,y={$node:s,val:function(B){if(typeof B>"u")return s.text();s.html(B)},reset:function(){clearTimeout(_),_=setTimeout(function(){s.css({top:"",bottom:""})},100)},focus:function(){css(s[0],{top:"calc(var(--terminal-scroll, 0) * 1px)"}),y.reset()},blur:function(){s.css({top:"100%",bottom:0}).blur(),window.getSelection().removeAllRanges(),y.reset()}};return y}(),i.addClass("cmd-mobile")):(s=generate_id(),(_=$("<textarea>").attr({autocapitalize:"off",spellcheck:"false",id:s,tabindex:e.tabindex}).addClass("cmd-clipboard").appendTo(i)).before('<label class="visually-hidden" for="'+s+'">Clipbard textarea for jQuery Terminal</label>'),(v={$node:_,val:function(y){return typeof y>"u"?_.val():_.val(y)}}).val(" ")),e.width&&i.width(e.width);var h,F,S,O,H,M,ee,ne,oe,re,Z,ue,_e,ge,I=0,J=i.find(".cmd-prompt"),C=!1,E="",N=null,A="",X="",P=0,ie=0,G=i.find(".cmd-cursor"),be=0,pe="\uffff",Ge=/\uFFFF$/,Ut=/^\uFFFF$/;var Dt={SPACEBAR:" ",UP:"ArrowUP",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight",DEL:"Delete",MULTIPLY:"*",DIVIDE:"/",SUBTRACT:"-",ADD:"+"};function it(s){var _=s.key.toUpperCase();return Dt[_]?Dt[_]:_}var Te,Xe={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"};for(Te=1;Te<25;Te++)Xe[111+Te]="F"+Te;var bt="";for(Te=65;Te<91;Te++)bt=String.fromCharCode(Te),Xe[Te]=[bt.toLowerCase(),bt.toUpperCase()];var Et={};Object.keys(Xe).forEach(function(s){is_array(Xe[s])?Xe[s].forEach(function(_){Et[_.toUpperCase()]=s}):Et[Xe[s].toUpperCase()]=s});var Be,Ze={"ALT+D":et({clipboard:!0}),"HOLD+ALT+D":et({clipboard:!0,hold:!0}),"HOLD+DELETE":et({clipboard:!1,hold:!0}),"HOLD+SHIFT+DELETE":et({clipboard:!1,hold:!0}),ENTER:function(){ue&&A&&!e.mask&&(is_function(e.historyFilter)&&e.historyFilter(A)||e.historyFilter instanceof RegExp&&A.match(e.historyFilter)||!e.historyFilter)&&ue.append(A);var _,s=A;return v.$node.blur(),ue.reset(),ke="",Ae=!0,e.commands&&(_=e.commands.call(i,s)),is_function(oe)&&(_&&is_function(_.then)?_.then(we):we()),i.set(""),v.val(""),v.$node.focus(),!1},"SHIFT+ENTER":function(){return i.insert("\n"),!0},BACKSPACE:Tt,"SHIFT+BACKSPACE":Tt,TAB:function(){i.insert("\t")},"CTRL+D":function(){return i.delete(1),!1},DELETE:function(){return i.delete(1),!0},"HOLD+ARROWUP":ht,ARROWUP:ht,"CTRL+ARROWUP":mt,"CTRL+P":mt,ARROWDOWN:Bt,"HOLD+ARROWDOWN":Bt,"CTRL+N":dt,"CTRL+ARROWDOWN":dt,ARROWLEFT:se,"HOLD+ARROWLEFT":debounce(se,10),"CTRL+B":se,"CTRL+ARROWLEFT":function(){var s=P-1,_=0;" "===A[s]&&--s;for(var y=s;y>0;--y){if(" "===A[y]&&" "!==A[y+1]){_=y+1;break}if("\n"===A[y]&&"\n"!==A[y+1]){_=y;break}}i.position(_)},"CTRL+R":function(){return C?Oe(!0):(ee=oe,Re(),ne=A,i.set(""),xe(),C=!0),!1},"CTRL+G":function(){if(C)return oe=ee,we(),i.set(ne),xe(),C=!1,E="",!1},ARROWRIGHT:t,"HOLD+ARROWRIGHT":debounce(t,10),"CTRL+F":t,"CTRL+ARROWRIGHT":function(){" "===A[P]&&++P;var _=A.slice(P).match(/\S[\n\s]{2,}|[\n\s]+\S?/);!_||_[0].match(/^\s+$/)?i.position(bare_text(A).length):" "!==_[0][0]?P+=_.index+1:(P+=_.index+_[0].length-1," "!==_[0][_[0].length-1]&&--P),xe()},F12:qe,END:vt(!0),"CTRL+END":vt(),"CTRL+E":vt(),HOME:ot(!0),"CTRL+HOME":ot(),"CTRL+A":ot(),"SHIFT+INSERT":wt,"CTRL+SHIFT+T":qe,"CTRL+W":ut({clipboard:!0,hold:!1}),"HOLD+BACKSPACE":ut({clipboard:!1,hold:!0}),"HOLD+SHIFT+BACKSPACE":ut({clipboard:!1,hold:!0}),"CTRL+H":function(){return""!==A&&P>0&&i.delete(-1),!1},"CTRL+X":qe,"CTRL+C":function(){return""===get_selected_html()},"CTRL+T":qe,"CTRL+Y":function(){""!==X&&i.insert(X)},"CTRL+V":wt,"META+V":wt,"CTRL+K":function(){var s=text(A).length;return s>P&&(X=i.delete(s-P),text_to_clipboard(v.$node,X)),!1},"CTRL+U":function(){return""!==A&&0!==P&&(X=i.delete(-P),text_to_clipboard(v.$node,X)),!1},"CTRL+TAB":function(){return!1},"META+`":qe,"META+R":qe,"META+L":qe};function et(s){return(s=s||{}).hold&&!e.mobileDelete?function(){return i.delete(1),!1}:function(){var y=/ *[^ ]+ *(?= )|[^ ]+$/,Y=A.slice(P).match(y);return Y&&(X=Y[0],s.clipboard&&text_to_clipboard(v.$node,X)),i.set(A.slice(0,P)+A.slice(P).replace(y,""),!0),!1}}function ut(s){return(s=s||{}).hold&&!e.mobileDelete?function(){i.delete(-1)}:function(){if(""!==A&&0!==P){var y=A.slice(0,P).match(/([^ ]* *$)/);y[0].length&&(X=i.delete(-y[0].length),s.clipboard&&text_to_clipboard(v.$node,X))}return!1}}function qe(){return!0}function wt(){return v.val(""),be=0,i.isenabled()&&!v.$node.is(":focus")&&v.$node.trigger("focus",[!0]),v.$node.one("input",at),!0}function at(){function s(){v.val(A),Se()}function _(y){i.insert(y),s()}be++>0||i.isenabled()&&i.oneTime(100,function(){var y=v.val().replace(/\r/g,"");if(is_function(e.onPaste)){var B=e.onPaste.call(i,{target:i,text:y});if(B!==undefined)return void(B&&is_function(B.then||B.done)?(B.then||B.done).call(B,_):"string"==typeof B?_(B):!1===B&&s())}_(y)})}function mt(){return d?(ne=A,i.set(ue.current())):i.set(ue.previous()),d=!1,!1}function dt(){return ue.end()?(d=!0,i.set(ne)):i.set(ue.next()),!1}function $t(s){return s.match(/\n/)}function At(s,_){var y=s.split("\n").map(function(Y){return $.terminal.length(Y)});return _&&(y[0]+=_),!!y.filter(function(Y){return Y>=h}).length}function kt(s){var _=S,y=$.terminal.split_equal(_+s,h),B=new RegExp("^"+$.terminal.escape_regex(_));return(y=y.map($.terminal.unescape_brackets))[0]=y[0].replace(B,""),y}function ht(){var s=$.terminal.substring(A,0,P),_=i.column(),y=i.find(".cmd-cursor-line"),B=y.prevUntil("span").length;if(1===B&&_<=M)return i.position(0),!1;if(0===B)return mt();if($t(s)||At(s,M)){var o,Y=y.prev(),W=Y.is(".cmd-end-line"),r=kt(A);return Y=r[B-1],r[B].substring(_).length>0?(o=_,B-1==0&&(o-=M),o=_+Y.substring(o).length,W&&++o):o=_+1,i.position(-o,!0),!1}return mt()}function Bt(){var s=$.terminal.substring(A,P);if($t(s)||At(s)){var _=kt(A),y=i.column(),B=i.find(".cmd-cursor-line"),W=B.prevUntil("span").length,r=B.is(".cmd-end-line"),a=B.next().is(".cmd-end-line"),o=_[W+1];if(!o)return dt();var c,l=_[W].substring(y).length;return 0===l?(c=o.length,a&&c++):(c=Math.min(y,o.length)+l,0===W&&(c+=M),r&&(c+=1)),i.position(c,!0),!1}return dt()}function Tt(){C?(E=E.slice(0,-1),Re()):""!==A&&P>0&&i.delete(-1),i.oneTime(1,function(){Ae=!0})}function se(){P>0&&i.position(-1,!0)}function t(){return P<bare_text(A).length&&i.position(1,!0),!1}function ot(s){function _(){i.position(0)}return s?function(){if(A.match(/\n/)){var y=A.substring(0,i.position());i.position(y.lastIndexOf("\n")+1)}else _()}:_}function vt(s){function _(){i.position(text(A).length)}return s?function(){if(A.match(/\n/))for(var y=A.split("\n"),B=i.position(),Y=0,W=0;W<y.length;++W)if((Y+=y[W].length)>B)return void i.position(Y+W);_()}:_}function St(){var s=v.$node,_=s.is(":focus");re?i.oneTime(10,function(){!s.is(":focus")&&re&&s.trigger("focus",[!0])}):_&&!re&&s.trigger("blur",[!0])}function Pt(){if(animation_supported){var _=window.getComputedStyle(G[0]).getPropertyValue("--animation");_=_.replace(/^\s*|\s*$/g,"");var y=i.attr("class");if(y.match(/-animation/)&&(y=y.replace(/[a-z]+-animation/g,"")),_&&!_.match(/blink/)){var B=_.replace(/terminal-/,"")+"-animation";y.match(B)||(y+=" "+B)}(y=y.replace(/\s+/g," "))!==i.attr("class").replace(/\s+/g," ")&&i.attr("class",y)}}function Se(s){i.isenabled()&&i.oneTime(10,function(){!is_mobile&&v.val()!==A&&!s&&v.val(" "+A),re&&i.oneTime(10,function(){try{var _=is_mobile?P:P+1;v.$node.caret()!==_&&v.$node.caret(_)}catch{}})})}if(animation_supported&&!is_android)_e=function(s){s?G.addClass("cmd-blink"):G.removeClass("cmd-blink")},ge=function(){var s=G.clone();s.insertBefore(G),G.remove(),G=s};else{var Ke=!1;_e=function(s){s&&!Ke?(Ke=!0,G.addClass("cmd-inverted cmd-blink"),i.everyTime(500,"blink",He)):Ke&&!s&&(Ke=!1,i.stopTime("blink",He),G.removeClass("cmd-inverted cmd-blink"))},ge=function(){_e(!1),_e(!0)}}function He(){G.toggleClass("cmd-inverted")}function Re(){oe="(reverse-i-search)`"+E+"': ",we()}function Oe(s){var y,B,_=ue.data(),Y=_.length;if(s&&N>0&&(Y-=N),E.length>0)for(var W=E.length;W>0;W--){B=$.terminal.escape_regex(E.slice(0,W)),y=e.caseSensitiveSearch?new RegExp(B):new RegExp(B,"i");for(var r=Y;r--;)if(y.test(_[r]))return N=_.length-r,i.position(_[r].indexOf(B)),i.set(_[r],!0),xe(),void(E.length!==W&&(E=E.slice(0,W),Re()))}E=""}function tt(){var s=i.find(".cmd-prompt"),_=s.html();s.html("<span>&nbsp;</span>");var y=s.find("span").get(0).getBoundingClientRect().width;return s.html(_),y}function gt(s){var _=i.width();return Math.floor(_/s)}var rt=new WorkerCache({validation:function(s){var _=!1;return this._previous_value&&this._previous_value!==s||this._cols&&this._cols!==h||(_=!0),this._previous_value=s,this._cols=h,_},action:function Ie(s){function _(T){return $.terminal.split_equal(T,h)}function y(T){var k=[];return T.forEach(function(R,j){$.terminal.strip(R).match(Ut)?(k[j]=!1,j>0&&(k[j-1]+=pe)):k[j]=T[j]}),k.filter(function(R){return!1!==R})}var Y,B=J.find(".cmd-line");Y=B.length?B.nextUntil(".cmd-line").text():J.text(),Y=$.terminal.escape_brackets(Y);var a,W=Ee(),r=new RegExp("^"+W+$.terminal.escape_regex(Y));if(s.match(/\n/)){for(var o=s.split("\n"),l=h-M-1,c=0;c<o.length-1;++c)o[c]+=pe;for(strlen(o[0])>l?((a=_(Y+o[0]))[0]=a[0].replace(r,""),a=y(a)):a=[o[0]],c=1;c<o.length;++c)if(strlen(o[c])>h){var x=_(o[c]);c<o.length-1&&(x=y(x)),a=a.concat(x)}else a.push(o[c])}else(a=_(W+Y+s))[0]=a[0].replace(r,"");return a.length>1&&$.terminal.length(a[a.length-1])===h&&a.push(""),a}});function yt(s,_){try{s=$.terminal.escape_formatting(s);var y=$.extend({},e,{unixFormattingEscapeBrackets:!0,position:P,command:!0}),B=$.terminal.apply_formatters(s,y),Y=$.terminal.normalize(B[0]),W=$.terminal.length(Y);return _||(ie=B[1])>W&&(ie=W),Y}catch(r){return alert_exception("[Formatting]",r.stack),s}}function We(s,_){var y=$.terminal.encode(function lt(s){return $.terminal.partition(s).join("")}(s),{tabs:e.tabs,before:_});return $.terminal.format(y,{charWidth:e.charWidth,allowedAttributes:e.allowedAttributes||[]})}function ze(s,_){return $.terminal.length(s,_)}function Ce(s,_,y){return $.terminal.substring(s,_,y)}var xe=function(){var s=G.prev(),_=G.next(),y=G.parent();function B(o,l){var c=o.match(Ge);c&&(o=o.replace(Ge," ")),y.toggleClass("cmd-end-line",!!c);var j,x=!1,w=$.extend({prompt:"",last:!1},l),T=w.position,k=ze(o),R=w.prompt;if(T===k)s.html(We(o)),j="&nbsp;",W(),_.html("");else if(0===T)s.html(""),j=Ce(o,0,1),G.html(We(j)),_.html(We(Ce(o,1),R+j));else{var z=$.terminal.substring(o,0,T);s.html(We(z,R)),j=Ce(o,T,T+1);var q=(R+z).replace(/^.*\t/,"");G.html(We(j,q)),T===k-1?(x=!0,_.html("")):(j.match(/\t/)?q="":q+=j,_.html(We(Ce(o,T+1),q)))}if(ch_unit_bug)if(typeof wcwidth<"u"){var te=strlen(text(j));1===te&&function Je(s){return!!$.terminal.is_formatting(s)&&s.replace(format_parts_re,"$4").match(/^emoji /)}(j)&&(te=2),G.width(F*te)}else G.width(F);G.toggleClass("cmd-end-line",x),Pt();var b=$.terminal.length(G.text());b>1&&G.find("[data-text]")[0].style.setProperty("--length",b);ge()}function Y(o,l){var x='<div role="presentation" aria-hidden="true"';return o.match(Ge)&&(o=o.replace(Ge," "),x+=' class="cmd-end-line"'),x+=">"+We(o,l||"")+"</div>"}function W(){G.html('<span data-text class="end"><span>&nbsp;<span></span>')}function r(o){var l=y;$.each(o,function(c,x){l=$(Y(x)).insertAfter(l)})}function a(o){$.each(o,function(l,c){y.before(Y(c,0===l?O:""))})}return function(){var o;switch(typeof e.mask){case"boolean":o=e.mask?A.replace(/./g,"*"):A;break;case"string":o=A.replace(/./g,e.mask)}var c,x,l=yt(o);if(c=ze(l)===text(o).length?P:ie,D.css({display:"none"}),D.find("div:not(.cmd-cursor-line)").remove(),s.html(""),function zt(s){return strlen(text(s))>h-M-1||s.match(/\n/)}(l)){var w=l.match(/\t/g),T=l;w&&(l=l.replace(/\t/g,"\0\0\0\0"));var k=function st(s){return rt.get(s)}(l);w&&(k=$.map(k,function(he){return he.replace(/\x00\x00\x00\x00/g,"\t")}));var R=ze(k[0]);if(0!==R||1!==k.length)if(c<R)B(k[0],{length:k.length,position:c,prompt:O}),r(k.slice(1));else if(c===R)y.before(Y(k[0],O)),B(k[1]||"",{length:k.length,position:0,last:k.length<=2}),k.length>2&&r(k.slice(2));else{var j=k.slice(-1)[0],q=ze(T)-c,te=ze(j),b=0;if(-1===q&&(q=0),q<=te)a(k.slice(0,-1)),b=te===q?0:te-q,B(j,{length:k.length,position:b,last:!0});else{var U,L;for(b=c,x=0;x<k.length;++x){var V=$.terminal.length(k[x]);if(!(b>V))break;b-=V}if(U=x,b===ze(L=k[x])&&(b=0,(L=k[++U])===undefined)){var Q=$.terminal.defaults.strings.redrawError;throw new Error(Q)}B(L,{length:k.length,position:b}),a(k.slice(0,U)),r(k.slice(U+1))}}i.find(".cmd-cursor-line ~ div:last-of-type").append("<span></span>")}else""===l?(s.html(""),W(),_.html("")):B(l,{length:1,position:c});var le=y.prevUntil(".cmd-prompt").length;is_css_variables_supported?i[0].style.setProperty("--cursor-line",le):v.$node.css("top",14*le+"px"),D.css({display:""})}}(),Ct=function(){function s(y,B){var Y=$.extend({},e,{position:B,command:!0});return $.terminal.apply_formatters(y,Y)[1]}function _(y,B,Y){var W=s(Y,B);return W===y?s(Y,B+1)>y?0:1:W<y?1:-1}return function(y,B){if(0===B)return 0;var Y=(y=bare_text(y)).length,r=binary_search(0,Y,B,_,[$.terminal.escape_brackets(A)]),a=$.terminal.split_characters(y);if(Y>a.length)for(var o=0,l=0;l<a.length;++l)if((o+=a[l].length)>=r)return o;return r}}();function Ee(){return I?new Array(I+1).join("\uffff"):""}var Ye,we=function(){function _(y){y&&(y=$.terminal.apply_formatters(y,{prompt:!0}),y=crlf(y=$.terminal.normalize(y)));var B=function s(y){if(!y)return M=(H=0)+I,y;var Y=Ee()+y,W=$.terminal.split_equal(Y,h);W=(W=W.map(function(l){return l.replace(/^\uFFFF+/,"")}).filter(Boolean)).map(function(l){return $.terminal.have_formatting(l)?$.terminal.format_split(l).map(function(c){return $.terminal.is_formatting(c)?c:"[[;;]"+$.terminal.escape_brackets(c)+"]"}).join(""):"[[;;]"+$.terminal.escape_brackets(l)+"]"});var r={charWidth:e.charWidth};O=W[W.length-1];var a=$.terminal.encode(W[W.length-1],{tabs:e.tabs}),o=$.terminal.format(a,r);return H=strlen(text(a)),M=H+I,W.slice(0,-1).map(function(l){return l=$.terminal.encode(l,{tabs:e.tabs}),'<span class="cmd-line">'+$.terminal.format(l,r)+"</span>"}).concat([o]).join("\n")}(y);if(S=y,B=B||$.terminal.format("[[;;]\u200b]"),J.html()!==B){J.html(B);var Y=J.find("> span span");v.$node.attr("data-cmd-prompt",J.text()),is_ch_unit_supported&&(J.hide(),Y.each(function(){var W=$(this),r=strlen(W.text());0===r?W.css("width",1):W.css("width",r+"ch")}),J.show())}}return function(){Ye&&Ye.set&&(Ye.set=$.noop,Ye=null);var y=Ye={set:_};with_prompt(oe,function(B){y.set(B)},i)}}();function ft(){is_function(e.onCommandChange)&&e.onCommandChange.call(i,A)}function xt(s,_,y){var B=s.substring(0,_);if(0===_||!s.length)return 0;var r=B.match(/\n?([^\n]*)$/)[1].length;return!$t(B)&&(y||At(B,M))&&(r+=M),0===r?r:0===(r%=h)?h:r}$.extend(i,{option:function(s,_){return typeof _>"u"?e[s]:(e[s]=_,i)},name:function(s){if(s!==undefined){Z=s;var _=ue&&ue.enabled()||!ue;return ue=new History(Z,e.historySize,"memory"===e.history),_||ue.disable(),i}return Z},purge:function(){return ue.clear(),i},history:function(){return ue},delete:function(s,_){var y,B;return 0===s?"":(s<0?P>0&&(y=A.slice(0,P).slice(s),B=(B=bare_text(A)).slice(0,P+s)+B.slice(P,B.length),_||i.position(P+s)):""!==A&&(B=text(A),P<B.length&&(y=B.slice(P).slice(0,s),B=B.slice(0,P)+B.slice(P+s,B.length))),y&&(A=B),xe(),Se(),ft(),y)},set:function(s,_,y){return s!==undefined&&(A=s,_||i.position(bare_text(A).length),xe(),Se(),y||ft()),i},keymap:function(s,_){function y(B,Y){var W=Ze[B];return is_function(W)&&(W=W.bind(i)),function(r){return Y.call(i,r,W)}}if(null===s)return Be=Ze,i;if(typeof s>"u")return Be;if("string"!=typeof s)return Be=$.extend({},Be||Ze,$.omap(s||{},y)),i;if(typeof _>"u"){if(Be[s])return Be[s];if(Ze[s])return Ze[s]}else Be[s]=y(s,_)},insert:function(s,_){var y=bare_text(A),B=bare_text(s).length;return P===y.length?s=y+s:0===P?s+=y:s=y.slice(0,P)+s+y.slice(P),A=s,_||i.position(B,!0,!0),Se(),xe(),ft(),i},get:function(){return A},commands:function(s){return s&&(e.commands=s,i)},destroy:function(){return Pe.unbind("keypress.cmd",ct),Pe.unbind("keydown.cmd",je),Pe.unbind("input.cmd",It),i.stopTime("blink",He),i.find(".cmd-wrapper").remove(),i.find(".cmd-prompt, .cmd-clipboard, .cmd-editable").remove(),i.removeClass("cmd").removeData("cmd").off(".cmd"),i},display_column:function(s){var _=yt(A);return xt(_=$.terminal.strip(_),ie,s)},column:function(s){return xt(A,P,s)},line:function(){var s=A.substring(0,P);return 0!==P&&A.length?s.split(/\n/).length-1:0},__set_prompt_margin:function(s){M=H+(I=s)},prompt:function(s){if(!0===s)return S;if(s===undefined)return oe;var _=s!==oe;if("string"!=typeof s&&"function"!=typeof s)throw new Error("prompt must be a function or string");return oe=s,_&&(we(),xe()),i},kill_text:function(){return X},position:function(s,_,y){if("number"==typeof s){var B=P,Y=bare_text(A).length;return _?P+=s:P=s<0?0:s>Y?Y:s,B!==P&&(xe(),!y&&is_function(e.onPositionChange)&&e.onPositionChange(P,ie),Se(!0)),i}return P},refresh:function(){return we(),xe(),Se(!0),i},display_position:function(s,_){if(s===undefined)return ie;var W,B=ze(yt($.terminal.escape_formatting(A),!0)),Y=bare_text(A).length;if(W=_?ie+s:s>B?B:s,B===Y)return ie=W,i.position(W);if(B===W)return ie=W,i.position(Y);var r=Ct(A,W);return-1!==r&&(ie=W,i.position(r)),i},visible:function(){var s=i.visible;return function(){return s.apply(i,[]),xe(),we(),i}}(),show:function(){var s=i.show;return function(){return s.apply(i,[]),xe(),we(),i}}(),resize:function(s){var _;return F=tt(),_="number"==typeof s?s:gt(F),(h!==_||!0===arguments[0])&&(h=_,xe(),we()),i},clear_cache:"Map"in root?function(){rt.clear()}:function(){return i},invoke_key:function(s){re||warn('invoke_key("'+s+'") called on disabled terminal');var _=s.toUpperCase().split("+"),y=_.pop(),B=-1!==_.indexOf("CTRL"),Y=-1!==_.indexOf("SHIFT"),W=-1!==_.indexOf("ALT"),r=-1!==_.indexOf("META"),a=$.Event("keydown",{ctrlKey:B,shiftKey:Y,altKey:W,metaKey:r,which:Et[y],key:y}),o=$(document.documentElement||window);return o.trigger(a),(a=$.Event("keypress")).key=y,a.which=a.keyCode=0,o.trigger(a),i},clip:function(){return v},enable:function(s){if(!re){re=!0,i.addClass("enabled");try{v.$node.is(":focus")||v.$node.focus(),v.$node.caret(P)}catch{}_e(!0),!s&&is_function(oe)&&we(),Pt(),Se()}return St(),i},isenabled:function(){return re},disable:function(s){return re=!1,i.removeClass("enabled"),_e(!1),s||St(),i},mask:function(s){return typeof s>"u"?e.mask:(e.mask=s,xe(),i)}}),i.name(e.name||e.prompt||""),!1!==e.prompt&&(oe=e.prompt,we()),!0===e.enabled&&i.enable(),F=tt(),h=gt(F),e.history||ue.disable();var Ne,Qe,d=!0,Rt=!1,$e=!1,me=!1,de=!1,ye=!1,Ae=!0,ve=!1,Ft=!1,ae=!1,K=!1,ke="";function De(s){return"BACKSPACE"===s.key.toUpperCase()||8===s.which}var Me=!1;function je(s){var _;s.key,s.fake,s.which,Ft="process"===(s.key||"").toLowerCase()||0===s.which,$e=de&&me&&!De(s);try{s.fake||(me=function nt(s){return s.key&&1===s.key.length&&!s.ctrlKey}(s),ye="unidentified"===String(s.key).toLowerCase(),ve=De(s))}catch{}if("Unidentified"!==s.key){!s.fake&&-1===["meta","os"].indexOf(s.key.toLowerCase())&&(Ae=!1),de=!0,v.$node.off("input",at);var y=function fe(s){if(s.key){var _=it(s).toUpperCase();if("CONTROL"===_)return"CTRL";var y=[];return s.ctrlKey&&y.push("CTRL"),s.metaKey&&"META"!==_&&y.push("META"),s.shiftKey&&"SHIFT"!==_&&y.push("SHIFT"),s.altKey&&"ALT"!==_&&y.push("ALT"),y.length&&" "===_&&(_="SPACEBAR"),s.key&&y.push(_),y.join("+")}}(s);if(is_function(e.keydown)&&(s.key=it(s),(_=e.keydown.call(i,s))!==undefined))return _||(Ne=!0),_;if(y!==Qe&&Fe(),re||"CTRL+C"===y&&is_terminal_selected(i)){if(ae){if(Qe=y,y="HOLD+"+y,K)return;e.holdRepeatTimeout>0&&function Nt(s){return-1!==["HOLD+SHIFT+BACKSPACE","HOLD+BACKSPACE"].indexOf(s)&&e.mobileDelete||-1!==e.repeatTimeoutKeys.indexOf(s)}(y)&&(K=!0,i.oneTime(e.holdRepeatTimeout,"delay",function(){K=!1}))}else i.oneTime(e.holdTimeout,"hold",function(){ae=!0}),Qe=y;if(!s.fake&&is_android){if(Me)return Fe(),Me=!1,!1;u(y)?Me=!0:u(Qe)&&(Me=!1)}if(ge(),Ne=-1!==["CTRL+V","META+V"].indexOf(y),"enter"===y.toLowerCase()&&(d=!0),C&&function Ot(s){return 35===s.which||36===s.which||37===s.which||38===s.which||39===s.which||40===s.which||13===s.which||27===s.which}(s))(function _t(){oe=ee,C=!1,N=null,E=""})(),we(),27===s.which&&i.set(""),xe(),13===s.which&&je.call(this,s);else{if(!is_function(Be[y])){if(s.altKey)return;return void(Rt=!1)}if(!0===(_=Be[y](s)))return;if(_!==undefined)return _}}}else Ae=!0}function Fe(){i.stopTime("hold"),i.stopTime("delay"),K=ae=!1}var Pe=$(document.documentElement||window);function ct(s){var _;if(s.key,s.fake,Fe(),s.fake||(de=!1),(!s.ctrlKey&&!s.metaKey||s.altKey)&&!Rt){if(is_function(e.keypress)&&(_=e.keypress.call(i,s))!==undefined)return _||(Ne=!0),_;if(re){if(s.fake)return;var y;if(is_key_native){var B=(y=s.key).toUpperCase();Dt[B]&&(y=Dt[B])}if((!y||ye)&&(y=String.fromCharCode(s.which)),$.inArray(s.which,[13,0,8])>-1)return 123===s.keyCode&&void 0;y&&(!s.ctrlKey||s.ctrlKey&&s.ctrlKey)&&(!s.altKey||100!==s.which||s.altKey)&&!$e&&(C?(E+=y,Oe(),Re()):1===y.length&&i.insert(y))}}}function Le(s,_,y){var B=$.Event(s);B.which=y,B.key=_,B.fake=!0,Pe.trigger(B)}i.keymap(e.keymap||{});var Lt=!1;function Ue(){ke=A,Ne=!1,Ae=!0}function It(){var s=v.val();if(is_mobile||(s=s.replace(/^ /,"")),Ae||Ft||(de||$e)&&!Ne&&(me||ye)&&!ve){if(s&&s===A)return is_android&&Ae&&Le("keydown","Enter",13),void Ue();var _=P;if(Ae){var y=ke;ve=y.slice(0,y.length-1).length===s.length}if(Lt)return Lt=!1,void v.val(A);if(C)E=s,Oe(),Re();else{var B=s.slice(P);if(1===B.length||ve){var W,Y=get_next_character(B);if(u(Y)&&(Lt=!0),Ae)W=ve?8:B.toUpperCase().charCodeAt(0),Le("keydown",ve?"Backspace":B,W);de&&!ve&&Le("keypress",Y,B.charCodeAt(0))}if(ve)return void(ke=A);if(Ne)return void(Ne=!1);i.set(s)}ve?i.position(_-1):i.position(_+Math.abs(s.length-ke.length))}Ue()}return Pe.bind("keypress.cmd",ct),Pe.bind("keydown.cmd",je),Pe.bind("keyup.cmd",Fe),Pe.bind("input.cmd",It),function(){if(is_mobile)return $(i[0]).add(v.$node).on("touchstart.cmd",function(){i.isenabled()?v.blur():v.focus()}),void i.disable();var s=!1,_=0;i.on("mousedown.cmd",function(){s=!0}).on("mouseup.cmd",function(y){function B(){var a=$(y.target);!a.is(".cmd-prompt")&&r&&""===get_selected_html()&&re&&(a.is(".cmd")?i.position(text(A).length):i.display_position(function jt(s){var _=$(s.target);if(_.is("span,img,a"))return(_=_.closest("[data-text]")).index()+_.parent("span").prevAll().find("[data-text]").length+_.closest('[role="presentation"]').prevUntil(".cmd-prompt").find("[data-text]").length;if(_.is('div[role="presentation"]')){var y=!_.next().length;return _.find("[data-text]").length+_.prevUntil(".cmd-prompt").find("[data-text]").length-(y?0:1)}}(y))),_=0}if(0===(y.originalEvent===undefined?y.button:y.originalEvent.button)&&""===get_selected_html()){var W="click_"+p;if(1==++_){var r=s;re?0===e.clickTimeout?B():i.oneTime(e.clickTimeout,W,B):_=0}else i.stopTime(W),_=0}s=!1})}(),i.data("cmd",i),"KeyboardEvent"in window&&"key"in window.KeyboardEvent.prototype||setTimeout(function(){throw new Error("key event property not supported try https://github.com/inexorabletash/polyfill/blob/master/keyboard.js")},0),i};var strlen=typeof wcwidth>"u"?function(n){return n=n.replace(/\u200B/g,""),$.terminal.length(n)}:wcwidth;function count_selfclosing_formatting(n){var e=0;if($.terminal.have_formatting(n)){var u=new RegExp(format_parts_re.source,"i");$.terminal.format_split(n).forEach(function(i){if($.terminal.is_formatting(i)){var f=i.match(u);f&&f[1].match(/@/)&&""===f[6]&&e++}})}return e}var entities={"&amp;":"&","&lt;":"<","&gt;":">","&Agrave;":"\xc0","&Aacute;":"\xc1","&Acirc;":"\xc2","&Atilde;":"\xc3","&Auml;":"\xc4","&Aring;":"\xc5","&AElig;":"\xc6","&Ccedil;":"\xc7","&Egrave;":"\xc8","&Eacute;":"\xc9","&Ecirc;":"\xca","&Euml;":"\xcb","&Igrave;":"\xcc","&Iacute;":"\xcd","&Icirc;":"\xce","&Iuml;":"\xcf","&ETH;":"\xd0","&Ntilde;":"\xd1","&Ograve;":"\xd2","&Oacute;":"\xd3","&Ocirc;":"\xd4","&Otilde;":"\xd5","&Ouml;":"\xd6","&Oslash;":"\xd8","&Ugrave;":"\xd9","&Uacute;":"\xda","&Ucirc;":"\xdb","&Uuml;":"\xdc","&Yacute;":"\xdd","&THORN;":"\xde","&szlig;":"\xdf","&agrave;":"\xe0","&aacute;":"\xe1","&acirc;":"\xe2","&atilde;":"\xe3","&auml;":"\xe4","&aring;":"\xe5","&aelig;":"\xe6","&ccedil;":"\xe7","&egrave;":"\xe8","&eacute;":"\xe9","&ecirc;":"\xea","&euml;":"\xeb","&igrave;":"\xec","&iacute;":"\xed","&icirc;":"\xee","&iuml;":"\xef","&eth;":"\xf0","&ntilde;":"\xf1","&ograve;":"\xf2","&oacute;":"\xf3","&ocirc;":"\xf4","&otilde;":"\xf5","&ouml;":"\xf6","&oslash;":"\xf8","&ugrave;":"\xf9","&uacute;":"\xfa","&ucirc;":"\xfb","&uuml;":"\xfc","&yacute;":"\xfd","&thorn;":"\xfe","&yuml;":"\xff","&nbsp;":"\xa0","&iexcl;":"\xa1","&cent;":"\xa2","&pound;":"\xa3","&curren;":"\xa4","&yen;":"\xa5","&brvbar;":"\xa6","&sect;":"\xa7","&uml;":"\xa8","&copy;":"\xa9","&ordf;":"\xaa","&laquo;":"\xab","&not;":"\xac","&shy;":"\xad","&reg;":"\xae","&macr;":"\xaf","&deg;":"\xb0","&plusmn;":"\xb1","&sup2;":"\xb2","&sup3;":"\xb3","&acute;":"\xb4","&micro;":"\xb5","&para;":"\xb6","&cedil;":"\xb8","&sup1;":"\xb9","&ordm;":"\xba","&raquo;":"\xbb","&frac14;":"\xbc","&frac12;":"\xbd","&frac34;":"\xbe","&iquest;":"\xbf","&times;":"\xd7","&divide;":"\xf7","&forall;":"\u2200","&part;":"\u2202","&exist;":"\u2203","&empty;":"\u2205","&nabla;":"\u2207","&isin;":"\u2208","&notin;":"\u2209","&ni;":"\u220b","&prod;":"\u220f","&sum;":"\u2211","&minus;":"\u2212","&lowast;":"\u2217","&radic;":"\u221a","&prop;":"\u221d","&infin;":"\u221e","&ang;":"\u2220","&and;":"\u2227","&or;":"\u2228","&cap;":"\u2229","&cup;":"\u222a","&int;":"\u222b","&there4;":"\u2234","&sim;":"\u223c","&cong;":"\u2245","&asymp;":"\u2248","&ne;":"\u2260","&equiv;":"\u2261","&le;":"\u2264","&ge;":"\u2265","&sub;":"\u2282","&sup;":"\u2283","&nsub;":"\u2284","&sube;":"\u2286","&supe;":"\u2287","&oplus;":"\u2295","&otimes;":"\u2297","&perp;":"\u22a5","&sdot;":"\u22c5","&Alpha;":"\u0391","&Beta;":"\u0392","&Gamma;":"\u0393","&Delta;":"\u0394","&Epsilon;":"\u0395","&Zeta;":"\u0396","&Eta;":"\u0397","&Theta;":"\u0398","&Iota;":"\u0399","&Kappa;":"\u039a","&Lambda;":"\u039b","&Mu;":"\u039c","&Nu;":"\u039d","&Xi;":"\u039e","&Omicron;":"\u039f","&Pi;":"\u03a0","&Rho;":"\u03a1","&Sigma;":"\u03a3","&Tau;":"\u03a4","&Upsilon;":"\u03a5","&Phi;":"\u03a6","&Chi;":"\u03a7","&Psi;":"\u03a8","&Omega;":"\u03a9","&alpha;":"\u03b1","&beta;":"\u03b2","&gamma;":"\u03b3","&delta;":"\u03b4","&epsilon;":"\u03b5","&zeta;":"\u03b6","&eta;":"\u03b7","&theta;":"\u03b8","&iota;":"\u03b9","&kappa;":"\u03ba","&lambda;":"\u03bb","&mu;":"\u03bc","&nu;":"\u03bd","&xi;":"\u03be","&omicron;":"\u03bf","&pi;":"\u03c0","&rho;":"\u03c1","&sigmaf;":"\u03c2","&sigma;":"\u03c3","&tau;":"\u03c4","&upsilon;":"\u03c5","&phi;":"\u03c6","&chi;":"\u03c7","&psi;":"\u03c8","&omega;":"\u03c9","&thetasym;":"\u03d1","&upsih;":"\u03d2","&piv;":"\u03d6","&OElig;":"\u0152","&oelig;":"\u0153","&Scaron;":"\u0160","&scaron;":"\u0161","&Yuml;":"\u0178","&fnof;":"\u0192","&circ;":"\u02c6","&tilde;":"\u02dc","&ensp;":"\u2002","&emsp;":"\u2003","&thinsp;":"\u2009","&zwnj;":"\u200c","&zwj;":"\u200d","&lrm;":"\u200e","&rlm;":"\u200f","&ndash;":"\u2013","&mdash;":"\u2014","&lsquo;":"\u2018","&rsquo;":"\u2019","&sbquo;":"\u201a","&ldquo;":"\u201c","&rdquo;":"\u201d","&bdquo;":"\u201e","&dagger;":"\u2020","&Dagger;":"\u2021","&bull;":"\u2022","&hellip;":"\u2026","&permil;":"\u2030","&prime;":"\u2032","&Prime;":"\u2033","&lsaquo;":"\u2039","&rsaquo;":"\u203a","&oline;":"\u203e","&euro;":"\u20ac","&trade;":"\u2122","&larr;":"\u2190","&uarr;":"\u2191","&rarr;":"\u2192","&darr;":"\u2193","&harr;":"\u2194","&crarr;":"\u21b5","&lceil;":"\u2308","&rceil;":"\u2309","&lfloor;":"\u230a","&rfloor;":"\u230b","&loz;":"\u25ca","&spades;":"\u2660","&clubs;":"\u2663","&hearts;":"\u2665","&diams;":"\u2666"};function render_entities(n){return n.replace(/&#(x?)([0-9]+);/g,function(e,u,i){return i=parseInt(i,u?16:10),String.fromCharCode(i)}).replace(/(&[^;]+;)/g,function(e,u){return entities[u]||u})}function bare_text(n){return n.match(/&/)?render_entities(safe(n)):n}function text(n){return bare_text($.terminal.strip(n))}function safe(n){return n.match(/[<>&]/)?n.replace(/&(?![^;]+;)/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;"):n}function crlf(n){return n.replace(/\r/g,"")}function char_len(n){return entity_re.test(n)?1:n.length}function make_re_fn(n){return function(e){var u=e.match(n);if(starts_with(u))return u[1]}}function starts_with(n){return n&&0===n.index}function make_next_char_fun(n){var e=[];return[entity_re,emoji_re,combine_chr_re].forEach(function(u){n.match(u)&&e.push(make_re_fn(u))}),n.match(astral_symbols_re)&&e.push(function(u){var i=u.match(astral_symbols_re);if(starts_with(i)){var f=u.match(combine_chr_re);return f&&1===f.index?u.slice(0,3):i[1]}}),function(u){for(var i=0;i<e.length;++i){var p=(0,e[i])(u);if(p)return p}return u[0]}}function get_next_character(n){var e=n.match(entity_re);if(starts_with(e))return e[1];var u=n.match(combine_chr_re);if(starts_with(u))return u[1];var i=n.match(emoji_re);return starts_with(i)?i[1]:n.charCodeAt(0)<255?n[0]:starts_with(n.match(astral_symbols_re))?(u=n.match(combine_chr_re))&&1===u.index?n.slice(0,3):n.slice(0,2):n[0]}function normalize_position(n,e){if(0===e)return e;n=$.terminal.strip(n);var u=$.terminal.split_characters(n).reduce(function(i,f){if("number"==typeof i)return i;var p=i.length+char_len(f);return p>=e?i.position+1:{position:i.position+1,length:p}},{position:0,length:0});return"number"==typeof u?u:u.position}function style_to_string(n){return Object.keys(n).map(function(e){return e+":"+n[e]}).join(";")}function escape_html_attr(n){return n.replace(/"/g,"&quot;")}function char_width_object(n,e){var u={};return 0===n?u.width="1px":is_ch_unit_supported?u.width=n+"ch":is_css_variables_supported?u["--length"]=n:e.charWidth&&(u.width=e.charWidth*n+"px"),u}function char_width_prop(n,e){return style_to_string(char_width_object(n,e))}function extra_css(n,e){if(typeof wcwidth<"u"){var u=bare_text(n),i=strlen(u);if(i>1&&i!==$.terminal.length(u))return char_width_object(i,e)}}function wide_characters(n,e){if(typeof wcwidth<"u"){var u=bare_text(n),i=$.terminal.split_characters(u);return 1===i.length?n:i.map(function(g){return{len:strlen(g),chr:g}}).reduce(function(g,v){var h=g[g.length-1];return h?h.len!==v.len?g.concat([{sum:v.len,len:v.len,specs:[v]}]):(g.pop(),g.concat([{sum:h.sum+v.len,len:h.len,specs:h.specs.concat(v)}])):[{sum:v.len,specs:[v],len:v.len}]},[]).map(function(g){if(1===g.len)return p(g);var v=char_width_prop(g.sum,e);return g.sum!==i.length&&v.length?g.specs.length>1?D(v,g.specs.map(function(h){return D(char_width_prop(h.len),h.chr)}).join("")):D(v,p(g)):"<span>"+p(g)+"</span>"}).join("")}function p(g){return g.specs.map(function(v){return v.chr}).join("")}function D(g,v){return'<span style="'+g+'">'+v+"</span>"}return n}function binary_search(n,e,u,i,f){var p=e-n,D=n+Math.floor(p/2),g=[u,D].concat(f),v=i.apply(null,g);return 0===v?D:v>0&&p>1?binary_search(D,e,u,i,f):v<0&&p>1?binary_search(n,D,u,i,f):-1}function is_terminal_selected(n){if(is_function(window.getSelection)){var e=window.getSelection();if(e.toString()){var u=e.getRangeAt(0).startContainer.parentNode,i=$(u).closest(".terminal");return i.length&&(n&&i.find(".cmd").is(n)||!n)}}}function get_selected_html(){var n="";if(is_function(window.getSelection)){var e=window.getSelection();if(e.rangeCount){for(var u=document.createElement("div"),i=0,f=e.rangeCount;i<f;++i)u.appendChild(e.getRangeAt(i).cloneContents());n=u.innerHTML}}return n}function with_selection(n){var e="",u=[];if(is_function(window.getSelection)){var i=window.getSelection();if(i.rangeCount){for(var f=document.createElement("div"),p=0,D=i.rangeCount;p<D;++p){var g=i.getRangeAt(p).cloneRange();u.push(g),f.appendChild(g.cloneContents())}e=f.innerHTML}}return n(e),u.length&&(i.removeAllRanges(),u.forEach(function(v){i.addRange(v)})),""!==e}function process_selected_line(){var n=$(this),e=n.text();return n.hasClass("cmd-end-line")&&(e+="\n"),e}function process_div(n){return $(n).find("> div, > span").map(process_selected_line).get().join("\n").replace(/\n$/,"")}function process_selected_html(n){var e,u="",i=$("<div>"+n+"</div>");n.match(/<\/div>/)&&(!(e=i.find("div[data-index]").map(function(){return process_div(this)}).get().join("\n"))&&n.match(/style="width: 100%;?"/)&&(e=process_div(i)),u=e);var f=i.find(".cmd-prompt");f.length&&(u.length&&(u+="\n"),u+=f.text());var p=i.find('[role="presentation"]');return p.length&&(u+=p.map(process_selected_line).get().join("")),!u.length&&n&&(u=i.text()),u.replace(/\xA0/g," ")}var support_copy=!(typeof document>"u"||!is_function(document.queryCommandSupported))&&document.queryCommandSupported("copy"),text_to_clipboard;text_to_clipboard=support_copy?function(e,u){var i=e.val(),f=e.is(":focus"),p=e.caret();if(window.navigator&&window.navigator.clipboard)navigator.clipboard.writeText(u);else if(f)e.val(u).focus(),e[0].select(),document.execCommand("copy"),e.val(i),e.caret(p);else{var D=$("<textarea/>").css({position:"fixed",top:0,left:0}).appendTo("body");D.val(u).focus(),D[0].select(),document.execCommand("copy"),D.blur(),D.remove()}return!0}:$.noop;var get_textarea_selection=function(){function n(){return""}if(typeof document>"u")return n;var e=document.createElement("textarea"),u="selectionStart"in e;return e=null,u?function(i){var f=i.selectionEnd-i.selectionStart;return i.value.substr(i.selectionStart,f)}:document.selection?function(){return document.selection.createRange().text()}:n}();function clear_textarea_selection(n){n.selectionStart=n.selectionEnd=0}function common_string(n,e,u){if(!e.length)return"";for(var i=string_case(n),f=[],p=n.length;p<e[0].length;++p){for(var D=!1,g=e[0].charAt(p),v=g.toLowerCase(),h=1;h<e.length;++h){D=!0;var F=e[h].charAt(p),S=F.toLowerCase();if(g!==F){if(u||"mixed"===i){D=!1;break}if(v!==S){D=!1;break}if("lower"===i)g=g.toLowerCase();else{if("upper"!==i){D=!1;break}g=g.toUpperCase()}}}if(!D)break;f.push(g)}return n+f.join("")}function trigger_terminal_change(n){terminals.forEach(function(e){e.settings().onTerminalChange.call(e,n)})}var select=root.getSelection?root.getSelection().setBaseAndExtent?function(e,u){root.getSelection().setBaseAndExtent(e,0,u,1)}:function(e,u){var i=root.getSelection(),f=document.createRange();f.setStart(e,0),f.setEnd(u,u.childNodes.length),i.removeAllRanges(),i.addRange(f)}:$.noop;function process_command(n,e){var u=n.trim(),i=u.match(command_re)||[];if(i.length){var f=i.shift();return{command:n,name:f,args:$.map(i,function(v){return v.match(/^["']/)?(v=v.replace(/\n/g,"\\u0000\\u0000\\u0000\\u0000"),(v=e(v)).replace(/\x00\x00\x00\x00/g,"\n")):e(v)}),args_quotes:$.map(i,function(v){var h=v.match(/^(['"`]).*\1$/);return h&&h[1]||""}),rest:u.slice(f.length).trim()}}return{command:n,name:"",args:[],args_quotes:[],rest:""}}$.terminal={version:"2.35.3",date:"Mon, 06 Feb 2023 20:13:15 +0000",color_names:["transparent","currentcolor","black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","rebeccapurple"],Cycle,History,Stack,valid_color:function(e){return!!e.match(color_re)||-1!==$.inArray(e.toLowerCase(),$.terminal.color_names)},unclosed_strings:function(e){return!!e.match(unclosed_strings_re)},escape_regex:function(e){if("string"==typeof e){return e.replace(/([-\\^$[\]()+{}?*.|])/g,"\\$1")}},have_formatting:function(e){return"string"==typeof e&&!!e.match(format_exist_re)},is_formatting:function(e){return"string"==typeof e&&!!e.match(format_full_re)},is_extended_command:function(e){return"string"==typeof e&&e.match(format_exec_re)&&!$.terminal.is_formatting(e)},each_extended_command:function(n,e){var u=n.split(format_exec_split_re);return $.map(u,function(i){if($.terminal.is_extended_command(i)){var f=i.replace(/^\[\[|\]\]$/g,"");return e(f)||""}return i}).join("")},format_split:function(e){return e.split(format_split_re).filter(Boolean)},tracking_replace:function(e,u,i,f){if(!(u instanceof RegExp))throw new Error("tracking_replace: Second argument need to be RegExp");function p(M,J,C){return M.slice(J,C)}function D(M){return $.terminal.strip(M).length}var v,F,O,g="",h=0,S=f;for(u.lastIndex=0;v=u.exec(e);){if(u.global){var H=D(p(e,0,u.lastIndex));O=H-D(v[0])}else H=(O=v.index)+D(v[0]);if(h<O&&(g+=p(e,h,O)),h=H,g+=F="function"==typeof i?i.apply(null,v):i.replace(/\$(\$|\d)/g,function(M,J){return"$"===J?"$":v[J]}),O<f){var I=D(F);I+=count_selfclosing_formatting(F),H<f?S=Math.max(0,S+I-D(v[0])):S+=I-(f-O)}if(!u.global)break}return h<D(e)&&(g+=p(e,h)),e===g?[e,f]:[g,S]},iterate_formatting:function(e,u){function f(pe){return e.slice(pe).match(entity_re)}function D(pe){return"\\"!==e[pe-1]&&"\\"===e[pe]&&"]"===e[pe+1]}function g(pe){return ie&&!Z&&("]"!==e[pe]&&!re||!H)||M&&!I}var v=make_next_char_fun(e);function h(){var pe=v(oe);return pe.length>1&&$.terminal.length(oe)>1?pe.length-1:0}function F(){return function i(pe){return"&nbsp;"===e.slice(pe-6,pe)||e.slice(pe-1,pe).match(/\s/)}(P)&&(ie||Z)&&(-1===E&&ee!==P||-1!==E)}var pe,S=!1;for(var C,ee,H=$.terminal.have_formatting(e),I="",M=!1,J=0,E=-1,N=-1,A=0,ne=0,X=/(&[^;]+);$/,P=0;P<e.length;P++){var oe=e.slice(P),re=!1;(C=oe.match(format_start_re))?(I=C[1],M=!1):I?"]"===e[P]&&(re=M,M?(I="",M=!1):M=!0):M=!0;var ie=I&&M||!I,Z="["===e[pe=P]&&"["===e[pe+1];F()&&(E=P,N=J);var ue=e[P].match(/[[\]]/);if(ne=0,ie)if("&"===e[P]){if(C=f(P)){P+=C[1].length-2;continue}++J,++A}else D(P)?(++J,++A,ne=1,P+=1):(!ue||!H||M&&!I)&&(++J,++A);if(g(P)){2===strlen(e[P])&&A++;var G=v(oe),_e=G.length;";"===G&&((C=e.slice(0,P+1).match(X))&&(_e=(ne=C[1].length)+1));var be=u({last:S=P===e.length-1&&!S||I&&!!oe.match(/^.]$/),count:J,index:P-ne,formatting:I,length:A,text:M,size:_e,space:E,space_count:N});if(!1===be)break;if(be&&(be.count!==undefined&&(J=be.count),be.length!==undefined&&(A=be.length),be.space!==undefined&&(ee=E,E=be.space),be.index!==undefined)){P=be.index;continue}}else P===e.length-1&&!S&&u({last:!0,count:J+1,index:P,formatting:I,length:0,text:M,space:E});M&&(P+=h())}},partition:function(e,u){var i=$.extend({wrap:!0},u);if(!$.terminal.have_formatting(e))return $.terminal.split_characters(e).map(D);var p=[];function D(v){return v.match(/\\$/)&&(v+="\\"),"[[;;]"+v+"]"}return $.terminal.iterate_formatting(e,function(v){if(v.text){var h=[];v.formatting&&h.push(v.formatting),h.push(e.substring(v.index,v.index+v.size)),v.formatting&&h.push("]"),p.push(function g(v){return $.terminal.is_formatting(v)?v.match(/\\]$/)&&(v=v.replace(/\\]/g,"\\\\]")):i.wrap&&(v=D(v)),v}(h.join("")))}}),p},substring:function(e,u,i){var f=$.terminal.split_characters(e);if(!f.slice(u,i).length)return"";if(!$.terminal.have_formatting(e))return f.slice(u,i).join("");var D,h,p=0,g="",v="",F=1;return $.terminal.iterate_formatting(e,function(S){u&&S.count===u+1&&(p=S.index,S.formatting&&(g=S.formatting)),i&&S.count===i&&(v=S.formatting,h=S.index,F=S.size),S.count===i+1&&(D=S.index,S.formatting&&(D=h+F))}),u&&!p?"":(D===undefined&&(D=e.length),e=g+e.slice(p,D),v&&(e=e.replace(/(\[\[^\]]+)?\]$/,""),e+="]"),e)},normalize:function(e){return e=e.replace(format_re,function(u,i,f){if(i.match(self_closing_re)&&""===f)return"[["+i+"] ]";if(""===f)return"";function p(F){return F.replace(/\\\]/g,"&#93;").replace(/\n/g,"\\n").replace(/&nbsp;/g," ")}var D=(i=p(i)).match(/;/g).length;if(D>=4){var g=i.split(/;/);return"[["+g.slice(0,4).join(";")+";"+(g.slice(4).join(";")||f)+"]"+f+"]"}return 2===D?D=";;":3===D&&(D=";"),"[["+(i+=D+p(f))+"]"+f+"]"}),$.terminal.amp(e)},split_equal:function(e,u,i){for(var f="",p=[],D=$.terminal.normalize(e).split(/\n/g),g=0,v=D.length;g<v;++g)if(""!==D[g]){var O,h=D[g],F=make_next_char_fun(h),S=0,H=h.length,I=!!h.match(/\[\[[^\]]+\](?:[^\][]|\\\])+\]$/),M=!!h.match(/^(&nbsp;|\s)/);$.terminal.iterate_formatting(h,function(J){var C,E;if(J.length>=u||J.last||J.length===u-1&&2===strlen(h[J.index+1])){var N=!1;if(i&&-1!==J.space){var ee=text(h).substring(J.space_count);ee=ee.slice(0,u).replace(/\s+$/,"");var A=strlen(ee);(ee.match(/\s/)||A<u)&&(N=!0)}var X,ne=J.index+J.size;if(I&&(ne+=1),i&&-1!==J.space&&ne!==H&&N?(O=h.slice(S,J.space),X=J.space-1):(E=h.slice(J.index),C=F(E),O=h.slice(S,J.index)+C,J.last&&I&&"]"!==C&&(O+="]"),X=J.index+C.length-1),i&&(O=O.replace(/(&nbsp;|\s)+$/g,""),M||(O=O.replace(/^(&nbsp;|\s)+/g,""))),S=(X||J.index)+1,f){var P=O.match(/^[^\]]*\]/);O=f+O,P&&(f="")}var oe=O.match(format_re);if(oe){var re=oe[oe.length-1];"]"!==re[re.length-1]?(f=re.match(format_begin_re)[1],O+="]"):O.match(format_end_re)&&(O=O.replace(format_end_re,""),f=re.match(format_begin_re)[1])}return p.push(O),{index:X,length:0,space:-1}}})}else p.push("");return p},amp:function(e){return e.replace(/&(?!#[0-9]+;|#x[0-9a-f]+;|[a-z]+;)/gi,"&amp;")},encode:function(e,u){var i=$.extend({tabs:4,before:""},u);return $.terminal.amp(e).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").split("\n").map(function(f){var p=f.split(/((?:\[\[[^\]]+\])?\t(?:\])?)/);return(p=p.filter(Boolean)).map(function(D,g){return D.match(/\t/)?D.replace(/\t([^\t]*)$/,function(v,h){if(0!==g&&p[g-1].match(/\t\]?$/))return new Array(i.tabs+1).join("&nbsp;")+h;var S=p.slice(g-1,g).join("");i.before&&g<=1&&(S=i.before+S);var O=$.terminal.length(S),H=i.tabs-O%i.tabs;return 0===H&&(H=4),new Array(H+1).join("&nbsp;")+h}):D}).join("")}).join("\n")},nested_formatting:function(e){if(!$.terminal.have_formatting(e))return e;var u=[],f=/\[\[([^\][]+)\][\s\S]*/,p=/^\[\[([^;]*);([^;]*);([^\]]*)\]/,D=3,g=5;function v(C,E,N){return N.indexOf(C)===E}function h(C,E){return C=function F(C){var E={};return C.split(/\s*;\s*/).forEach(function(N){var ee=N.split(":").map(function(X){return X.trim()}),A=ee[0],ne=ee[1];E[A]=ne}),E}(C),E?$.extend(E,C):C}function S(C){var E=C.slice();return C[g]&&(E[g]=function H(C){return JSON.stringify(C,function(E,N){return"style"===E?function M(C){return Object.keys(C).map(function(E){return E+":"+C[E]}).join(";")}(N):N})}(C[g])),C[D]&&(E[D]=function I(C){return C.filter(v).join(" ")}(C[D])),E[0]=function O(C){var E=C.filter(function(N){return"-"===N[0]}).map(function(N){return N[1]});return C.filter(function(N){return-1===E.indexOf(N)&&-1===E.indexOf(N[1])}).join("")}(C[0]),E.join(";")}function J(C){function E(ie){N[g]||(N[g]={});try{var Z=JSON.parse(ie);if(Z.style){var ue=Z.style,G=N[g].style;Z.style=h(ue,G),N[g]=$.extend(Z,N[g],{style:h(ue,G)})}else N[g]=$.extend(Z,N[g])}catch{warn("Invalid JSON "+ie)}}var N=[[],"",""];if(!C.length)return N;for(var ee=C.length;ee--;){var A=$.terminal.parse_formatting(C[ee]);if(A.length>5){var ne=A.slice(5).join(";");A=A.slice(0,5).concat(ne)}A[0].split(/(-?[@!gbiuso])/g).filter(Boolean).forEach(function(ie){-1===N[0].indexOf(ie)&&N[0].push(ie)});for(var P=1;P<A.length;++P){var oe=A[P].trim();if(oe)if(P===D){N[D]||(N[D]=[]);var re=oe.split(/\s+/);N[D]=N[D].concat(re)}else P===g?E(oe):N[P]||(N[P]=oe)}}return S(N)}return e.split(/((?:\[\[(?:[^\][]|\\\])+\])?(?:[^\][]|\\\])*\]?)/).filter(Boolean).map(function(C){var E;if(C.match(/^\[\[/)&&!$.terminal.is_extended_command(C)){var N=C.replace(f,"$1"),ee=$.terminal.is_formatting(C);C=C.replace(p,""),u.push(N),E=$.terminal.nested_formatting.__inherit__?J(u):N,ee?u.pop():C+="]",C="[["+E+"]"+C}else{var A=!1;C.match(/\]/)&&(A=!0),u.length&&(C="[["+(E=$.terminal.nested_formatting.__inherit__?J(u):u[u.length-1])+"]"+C),A?u.pop():u.length&&(C+="]")}return C}).join("")},escape_formatting:function(e){return $.terminal.escape_brackets(e)},apply_formatters:function(e,u){if(""===e)return u&&"number"==typeof u.position?["",u.position]:"";var v,p=(u=u||{}).formatters||$.terminal.defaults.formatters,D=0;function g(I,M){var J=$.extend({},u,{position:M[1]}),C=I(M[0],J);return"string"==typeof C?(function i(I,M,J,C){!I.__no_warn__&&$.terminal.length(J)!==$.terminal.length(C)&&warn("Your formatter["+M+"] change length of the string, you should use [regex, replacement] formatter or function  that return [replacement, position] instead")}(I,D-1,C,M[0]),"string"==typeof C?[C,J.position]:M):is_array(C)&&2===C.length?C:M}v="number"==typeof u.position?[e,u.position]:[e,0];try{var h=p.reduce(function(I,M){if(D++,"function"==typeof M&&M.__meta__)return g(M,I);var ne,J=0,C=!1,N=$.terminal.format_split(I[0]).map(function(re){var ie,Z=text(re).length;I[1]<J+Z&&!C?(ie=I[1]-J,C=!0):ie=C?-1:I[1];var G,ue=J;if(J+=Z,$.terminal.is_formatting(re))return C?[re,ie]:[re,-1];if(is_array(M)){var _e=M[2]||{};if((G=[re,ie<0?0:ie])[0].match(M[0])&&function f(I){if(!u||!I)return!0;var M=["echo","command","prompt"];if(!M.some(function(N){return!0===I[N]}))return!0;for(var C=M.length;C--;){var E=M[C];if(!0===I[E]&&!0===u[E])return!0}return!1}(M[2]))if(_e.loop)for(;G[0].match(M[0]);)G=$.terminal.tracking_replace(G[0],M[0],M[1],G[1]);else G=$.terminal.tracking_replace(G[0],M[0],M[1],G[1]);if(ie<0)return[G[0],-1]}else"function"==typeof M&&(G=g(M,[re,ie]));if(typeof G<"u"){-1!==G[1]&&(G[1]+=ue);text(G[0]).length;return G}return[re,-1]}),ee=N.filter(function(re){return-1!==re[1]})[0],A=N.map(function(re){return re[0]}).join("");ne=typeof ee>"u"?I[1]:ee[1];var X=text(A).length;return ne>(X+=count_selfclosing_formatting(A))&&(ne=X),A===I[0]?I:$.terminal.strip(I[0])===$.terminal.strip(A)?[A,I[1]]:[A,ne]},v);if("number"==typeof u.position){var F=$.terminal.strip(h[0]).length;if($.terminal.length(h[0])<F){var S=h[1];S=normalize_position(h[0],S);var O=$.terminal.length(h[0]);S>O&&(S=O),h[1]=S}return h}return h[0]}catch(I){var H="Error in formatter ["+(D-1)+"]";throw p.splice(D-1),new $.terminal.Exception("formatting",H,I.stack)}},escape_brackets:function(e){return e.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;").replace(/\\/g,"&#92;")},unescape_brackets:function(e){return e.replace(/&#91;/g,"[").replace(/&#93;/g,"]").replace(/&#92;/g,"\\")},length:function(n,e){return n?$.terminal.split_characters(e?n:text(n)).length:0},split_characters:function(e){for(var u=[],i=make_next_char_fun(e);e.length;){var f=i(e);e=e.slice(f.length),u.push(f)}return u},columns:function(n,e,u){var f=(n=n.map(function(O){return"string"!=typeof O?String(O):O})).map(function(O){return $.terminal.strip(O)}).map(function(O){return strlen(O)});typeof u>"u"&&(u=4);var p=Math.max.apply(null,f)+u,D=Math.floor(e/p)-1;if(D<1)return n.join("\n");for(var g=[],v=0,h=n.length;v<h;v+=D){var F=n.slice(v,v+D),S=F.pop();g.push(F.reduce(function(O,H){var I=$.terminal.strip(H),M=new Array(p-I.length+1).join(" ");return O.push(H+M),O},[]).join("")+S)}return g.join("\n")},strip:function(e){return $.terminal.have_formatting(e)?$.terminal.format_split(e).map(function(u){return $.terminal.is_formatting(u)?(u=u.replace(format_parts_re,"$6")).replace(/\\([[\]])/g,function(i,f){return f}):u}).join(""):e},active:function(){return terminals.front()},last_id:function(){return terminals.length()-1},parse_argument:function(e,u){function i(p){return p.split(string_re).map(function(D){if(D.match(/^['"`]/)){if('""'===D||"''"===D||"``"===D)return"";var g=D[0],v=new RegExp("(\\\\\\\\(?:\\\\\\\\)*)"+g,"g");D=D.replace(v,"$1").replace(/^[`'"]|[`'"]$/g,""),"'"===g&&(D=D.replace(/"/g,'\\"'))}return D='"'+D+'"',JSON.parse(D)}).join("")}if(!1===u)return"'"===e[0]&&"'"===e[e.length-1]?e.replace(/^'|'$/g,""):"`"===e[0]&&"`"===e[e.length-1]?e.replace(/^`|`$/g,""):'"'===e[0]&&'"'===e[e.length-1]?e.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1"):e.match(/\/.*\/[gimy]*$/)?e:e.match(/['"`]]/)?i(e):e.replace(/\\ /g," ");if("true"===e)return!0;if("false"===e)return!1;var f=e.match(re_re);return f?new RegExp(f[1],f[2]):e.match(/['"`]/)?i(e):e.match(/^-?[0-9]+$/)?parseInt(e,10):e.match(float_re)?parseFloat(e):e.replace(/\\(['"() ])/g,"$1")},parse_arguments:function(e){return $.map(e.match(command_re)||[],$.terminal.parse_argument)},split_arguments:function(e){return $.map(e.match(command_re)||[],function(u){return $.terminal.parse_argument(u,!1)})},parse_command:function(e){return process_command(e,$.terminal.parse_argument)},split_command:function(e){return process_command(e,function(u){return $.terminal.parse_argument(u,!1)})},parse_options:function n(e,u){var i=$.extend({},{boolean:[]},u);if("string"==typeof e)return n($.terminal.split_arguments(e),u);var f={_:[]};function p(g){this.value=g}var D=e.reduce(function(g,v){var h="string"==typeof v?v:"";if(h.match(/^--?[^-]/)&&g instanceof p&&(f[g.value]=!0),h.match(/^--[^-]/)){var F=h.replace(/^--/,"");if(-1===i.boolean.indexOf(F))return new p(F);f[F]=!0}else if(h.match(/^-[^-]/)){var S=h.replace(/^-/,"").split("");if(-1===i.boolean.indexOf(S.slice(-1)[0]))var O=S.pop();if(S.forEach(function(H){f[H]=!0}),O)return new p(O)}else g instanceof p?f[g.value]=v:v&&f._.push(v);return null},null);return D instanceof p&&(f[D.value]=!0),f},parse_formatting:function(n){var e=$.terminal.unescape_brackets(n).split(";");if(e.length>=5){var i=$.terminal.escape_brackets(e[4]);e[4]=i}return e},extended_command:function extended_command(term,string,options){var settings=$.extend({invokeMethods:!1},options),deferred=new $.Deferred;try{change_hash=!1;var m=string.match(extended_command_re);if(!m)return term.exec(string,!0).done(function(){change_hash=!0});if(settings.invokeMethods){string=m[1];var obj="terminal"===m[2]?term:term.cmd(),fn=m[3];try{var args=eval("["+m[4]+"]");if(obj[fn]){var ret=obj[fn].apply(term,args);if(ret&&ret.then)return ret}else term.error("Unknow function "+fn);deferred.resolve()}catch(n){term.error("Invalid invocation in "+$.terminal.escape_brackets(string)),deferred.reject()}}else warn("To invoke terminal or cmd methods you need to enable invokeMethods option"),deferred.reject()}catch(n){deferred.reject()}return deferred.promise()},iterator:function(n){function e(p){return $.terminal.is_formatting(p)&&p.match(/\]\\\]/)&&(p=p.replace(/\]\\\]/g,"]\\\\]")),p}if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){var u=$.terminal.length(n),i=0,f={};return f[Symbol.iterator]=function(){return{next:function(){if(i<u){var p=$.terminal.substring(n,i,i+1);return i++,{value:e(p)}}return{done:!0}}}},f}},formatter:new function(){try{this[Symbol.split]=function(n){return $.terminal.format_split(n)},this[Symbol.match]=function(n){return n.match(format_re)},this[Symbol.replace]=function(n,e){return n.replace(format_parts_re,e)},this[Symbol.search]=function(n){return n.search(format_re)}}catch{}},process_formatting:function(n){return $.terminal.format_split(n).map(function(e){if($.terminal.is_formatting(e)){for(var u=e.match(new RegExp(format_parts_re,"i")),i=u.pop(),f=1;f<=2;++f)$.terminal.valid_color(u[f])||(u[f]="");return u.slice(1,4).concat(i)}return["","","",e]})},new_formatter:function(n){for(var e=$.terminal.defaults.formatters,u=0;u<e.length;++u)if(e[u]===$.terminal.nested_formatting)return void e.splice(u,0,n);e.push(n)}},function(){function n(i,f){return""===i?f:i.replace(/&#93;/g,"]").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function e(i){return i.match(/^\.{1,2}\//)||i.match(/^\//)||!(i.match(/\//)||i.match(/^[^:]+:/))}function u(i,f){return function(p){if(f.anyLinks)return!0;var D=i(p);return D||warn("Invalid URL "+p+" only http(s) ftp and path are allowed"),D}}$.terminal.format=function(f,p){var D=$.extend({},{linksNoReferrer:!1,linksNoFollow:!1,allowedAttributes:[],charWidth:undefined,escape:!0,anyLinks:!1},p||{}),g=u(function(C){return C.match(/^((https?|file|ftp):\/\/|\.{0,2}\/)/)||e(C)},D),v=u(function(C){return C.match(/^(https?:|file:|blob:|data:)/)||e(C)},D);function h(C){return C.length&&D.allowedAttributes.length?C.filter(function(E){if("data-text"===E)return!1;for(var N=!1,ee=D.allowedAttributes,A=0;A<ee.length;++A)if(ee[A]instanceof RegExp){if(ee[A].test(E)){N=!0;break}}else if(ee[A]===E){N=!0;break}return N}):[]}var O=function S(){var C=["noopener"];return D.linksNoReferrer&&C.unshift("noreferrer"),D.linksNoFollow&&C.unshift("nofollow"),C}().join(" ");function M(C,E,N,ee,A,ne,X){var P,oe=[];if(ne.match(/;/))try{var re=ne.split(";"),ie=re.slice(1).join(";").replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">");ie.match(/^\s*\{[^}]*\}\s*$/)&&(P=JSON.parse(ie),oe=h(Object.keys(P)),ne=re[0])}catch{}if(""===X&&!E.match(/@/))return"";X=(X=safe(X)).replace(/\\\]/g,"&#93;"),D.escape&&(X=X.replace(/\\\\/g,"\\"));var Z={};-1!==E.indexOf("b")&&(Z["font-weight"]="bold");var ue=[];-1!==E.indexOf("u")&&ue.push("underline"),-1!==E.indexOf("s")&&ue.push("line-through"),-1!==E.indexOf("o")&&ue.push("overline"),ue.length&&(Z["text-decoration"]=ue.join(" ")),-1!==E.indexOf("i")&&(Z["font-style"]="italic"),$.terminal.valid_color(N)&&($.extend(Z,{color:N,"--color":N,"--original-color":N}),-1!==E.indexOf("!")&&(Z["--link-color"]=N),-1!==E.indexOf("g")&&(Z["text-shadow"]="0 0 5px "+N)),$.terminal.valid_color(ee)&&$.extend(Z,{"background-color":ee,"--background":ee});var G=n(ne,X),_e=extra_css(X,D);_e&&(X=wide_characters(X,D),$.extend(Z,_e));var ge,be=style_to_string(Z);ge=-1!==E.indexOf("!")?function H(C,E,N){if(C.match(email_re))return'<a href="mailto:'+C+'"';var ee=["<a"];return C&&g(C)&&ee.push('href="'+C+'"'),E?(N.includes("target")&&E.target===undefined&&(E.target="_blank"),N.includes("rel")&&E.rel===undefined&&(E.rel=O)):(ee.push('rel="'+O+'"'),ee.push('target="_blank"')),ee.join(" ")}(G,P,oe):-1!==E.indexOf("@")?function I(C){var E="<img";return v(C)&&(E+=' src="'+C+'"',text&&(E+=' alt="'+text+'"')),E}(G):"<span";var pe=function F(C,E){if(E){var N=h(Object.keys(E));if(N.length){var ee=N.map(function(A){if(null===E[A])return"";if(!0===E[A])return A;var ne=escape_html_attr(E[A]);return"style"===A&&(ne=ne?C+";"+ne:C),A+'="'+ne+'"'}).filter(Boolean);return ee.length?ee.join(" "):""}}return C?'style="'+C+'"':""}(be,P);return pe&&(ge+=" "+pe),""!==A&&(ge+=' class="'+A+'"'),-1!==E.indexOf("!")?ge+=" data-text>"+X+"</a>":-1!==E.indexOf("@")?ge+=" data-text/>":ge+=' data-text="'+G+'"><span>'+X+"</span></span>",ge}if("string"==typeof f){var J=$.terminal.format_split(f);return(f=$.map(J,function(C){if(""===C)return C;if($.terminal.is_formatting(C))return(C=C.replace(/\[\[[^\]]+\]/,function(A){return A.replace(/&nbsp;/g," ")})).replace(format_parts_re,M);var ee,E=n(C=(C=safe(C)).replace(/\\\]/,"&#93;")),N=extra_css(C,D);return N?(C=wide_characters(C,D),ee='<span style="'+style_to_string(N)+'"'):ee="<span",ee+' data-text="'+E+'">'+C+"</span>"}).join("")).replace(/<span><br\s*\/?><\/span>/gi,"<br/>")}return""}}(),$.terminal.Exception=function n(e,u,i){1===arguments.length?(this.message=arguments[0],this.type="TERMINAL"):(this.type=e,this.message=u,i&&(this.stack=i))},$.terminal.Exception.prototype=new Error,$.terminal.Exception.prototype.toString=function(){return this.message+"\n"+this.stack},$.fn.visible=function(){return this.css("visibility","visible")},$.fn.hidden=function(){return this.css("visibility","hidden")};var warnings=[];function warn(n){n="[jQuery Terminal] "+n,-1===warnings.indexOf(n)&&(warnings.push(n),console?console.warn?console.warn(n):console.log&&console.log(n):setTimeout(function(){throw new Error("WARN: "+n)},0))}var ids={};function terminal_ready(n){return!!(n.closest("body").length&&n.is(":visible")&&n.find(".cmd-prompt").length)}function format_stack_trace(n){return(n=$.terminal.escape_brackets(n)).split(/\n/g).map(function(e){return"[[;;;terminal-error]"+e.replace(url_re,function(u){return"]"+u+"[[;;;terminal-error]"})+"]"}).join("\n")}function get_char_size(n){var e;if(terminal_ready(n)){var u=n.find(".cmd-prompt").clone().css({visiblity:"hidden",position:"absolute"});u.appendTo(n.find(".cmd")).html("&nbsp;").wrap('<div class="cmd-wrapper"/>'),e={width:u.width(),height:u.height()},u.parent().remove()}else{var i=$('<div class="terminal terminal-temp"><div class="terminal-wrapper"><div class="terminal-output"><div><div class="terminal-line" style="float: left"><span>&nbsp;</span></div></div></div><div class="terminal-pixel"></div></div>').appendTo("body");if(i.addClass(n.attr("class")).attr("id",n.attr("id")),n){var f=n.attr("style");f&&(f=f.split(/\s*;\s*/).filter(function(D){return!D.match(/display\s*:\s*none/i)}).join(";"),i.attr("style",f))}var p=i.find(".terminal-line");e={width:p.width(),height:p.height()},i.remove()}return e}function get_num_chars(n,e){var u=n.find(".terminal-fill").width();return Math.floor(u/e.width)||1e3}function get_num_rows(n,e){var i=n.find(".terminal-fill").height();return Math.floor(i/e.height)}function all(n,e){return n.filter(function(i){return i[e]()===i}).length===n.length}function string_case(n){var e=n.split("");return all(e,"toLowerCase")?"lower":all(e,"toUpperCase")?"upper":"mixed"}function same_case(n){return"mixed"!==string_case(n)}function is_function(n){return"function"===get_type(n)}function is_object(n){return n&&"object"==typeof n}function is_promise(n){return is_object(n)&&is_function(n.then||n.done)}function is_deferred(n){return is_promise(n)&&is_function(n.promise)}function is_array(n){return Array.isArray(n)}function get_type(n){return"function"==typeof n?"function":null===n?n+"":Array.isArray(n)?"array":"object"==typeof n?"object":typeof n}$.jrpc=function(n,e,u,i,f){var D,p=new $.Deferred;D=$.isPlainObject(n)?n:{url:n,method:e,params:u,success:i,error:f},ids[D.url]=ids[D.url]||0;var v={jsonrpc:"2.0",method:D.method,params:D.params,id:++ids[D.url]};return $.ajax({url:D.url,beforeSend:function(F,S){is_function(D.request)&&D.request(F,v),S.data=JSON.stringify(v)},success:function(F,S,O){var I;O.getResponseHeader("Content-Type").match(/(application|text)\/json/)||warn("Response Content-Type is neither application/json nor text/json");try{I=JSON.parse(F)}catch(M){if(!D.error)throw new $.terminal.Exception("JSON","Invalid JSON",M.stack);return D.error(O,"Invalid JSON",M),void p.reject({message:"Invalid JSON",response:F})}is_function(D.response)&&D.response(O,I),function g(h){return $.isNumeric(h.id)&&(typeof h.result<"u"||typeof h.error<"u")}(I)||"system.describe"===D.method?(D.success&&D.success(I,S,O),p.resolve(I)):(D.error&&D.error(O,"Invalid JSON-RPC"),p.reject({message:"Invalid JSON-RPC",response:F}))},error:D.error,contentType:"application/json",dataType:"text",async:!0,cache:!1,type:"POST"}),p.promise()},$.rpc=function(n,e,u){var i=new $.Deferred;return $.jrpc(n,e,u,function f(D){D.error?i.reject(D.error):i.resolve(D.result)},function p(D,g,v){i.reject({message:v})}),i.promise()},Array.isArray||(Array.isArray=function(n){return"[object Array]"===Object.prototype.toString.call(n)});var version_set=!$.terminal.version.match(/^\{\{/),copyright="Copyright (c) 2011-2022 Jakub T. Jankiewicz <https://jcubic.pl/me>",version_string=version_set?" v. "+$.terminal.version:" ",reg=new RegExp(" {"+version_string.length+"}$"),name_ver="jQuery Terminal Emulator"+(version_set?version_string:""),signatures=[["jQuery Terminal","(c) 2011-2022 jcubic"],[name_ver,copyright.replace(/^Copyright | *<.*>/g,"")],[name_ver,copyright.replace(/^Copyright /,"")],["      _______                 ________                        __","     / / _  /_ ____________ _/__  ___/______________  _____  / /"," __ / / // / // / _  / _/ // / / / _  / _/     / /  \\/ / _ \\/ /","/  / / // / // / ___/ // // / / / ___/ // / / / / /\\  / // / /__","\\___/____ \\\\__/____/_/ \\__ / /_/____/_//_/_/_/_/_/  \\/\\__\\_\\___/","         \\/          /____/                                   ".replace(reg," ")+version_string,copyright],["      __ _____                     ________                              __","     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /"," __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /","/  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__","\\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/","          \\/              /____/                                          ".replace(reg,"")+version_string,copyright]];$.terminal.nested_formatting.__meta__=!0,$.terminal.nested_formatting.__inherit__=!0,$.terminal.nested_formatting.__no_warn__=!0,$.terminal.defaults={prompt:"> ",history:!0,exit:!0,clear:!0,enabled:!0,maskChar:"*",wrap:!0,checkArity:!0,raw:!1,tabindex:1,invokeMethods:!1,exceptionHandler:null,pauseEvents:!0,softPause:!1,mousewheel:null,touchscroll:null,memory:!1,cancelableAjax:!0,processArguments:!0,execAnimation:!1,execAnimationDelay:100,linksNoReferrer:!1,externalPause:!0,useCache:!0,anyLinks:!1,linksNoFollow:!1,processRPCResponse:null,completionEscape:!0,onCommandChange:null,mobileDelete:is_mobile,onPositionChange:null,convertLinks:!0,extra:{},tabs:4,historySize:60,scrollObject:null,historyState:!1,importHistory:!1,historyFilter:null,echoCommand:!0,scrollOnEcho:!0,login:null,outputLimit:-1,formatters:[$.terminal.nested_formatting],unixFormatting:{escapeBrackets:!1,ansiParser:{},ansiArt:!1},onAjaxError:null,pasteImage:!0,scrollBottomOffset:20,wordAutocomplete:!0,caseSensitiveAutocomplete:!0,caseSensitiveSearch:!0,clickTimeout:200,holdTimeout:400,holdRepeatTimeout:200,repeatTimeoutKeys:[],mobileIngoreAutoSpace:[],request:$.noop,response:$.noop,describe:"procs",onRPCError:null,keymap:null,doubleTab:null,doubleTabEchoCommand:!1,completion:!1,onInit:$.noop,onClear:$.noop,onBlur:$.noop,onFocus:$.noop,onTerminalChange:$.noop,onExit:$.noop,onPush:$.noop,onPop:$.noop,keypress:$.noop,keydown:$.noop,renderHandler:null,onAfterRedraw:$.noop,onEchoCommand:$.noop,onPaste:$.noop,onFlush:$.noop,onBeforeCommand:null,onAfterCommand:null,onBeforeEcho:null,onAfterEcho:null,onBeforeLogin:null,onAfterLogout:null,onBeforeLogout:null,allowedAttributes:["title","target","rel",/^aria-/,"id",/^data-/],strings:{comletionParameters:"From version 1.0.0 completion function need to have two arguments",wrongPasswordTryAgain:"Wrong username or password try again!",wrongPassword:"Wrong username or password!",ajaxAbortError:"Error while aborting ajax call!",wrongArity:"Wrong number of arguments. Function '%s' expects %s got %s!",commandNotFound:"Command '%s' Not Found!",oneRPCWithIgnore:"You can use only one rpc with describe == false or rpc without system.describe",oneInterpreterFunction:"You can't use more than one function (rpc without system.describe or with option describe == false counts as one)",loginFunctionMissing:"You didn't specify a login function",noTokenError:"Access denied (no token)",serverResponse:"Server responded",wrongGreetings:"Wrong value of greetings parameter",notWhileLogin:"You can't call `%s' function while in login",loginIsNotAFunction:"Authenticate must be a function",canExitError:"You can't exit from main interpreter",invalidCompletion:"Invalid completion",invalidSelector:"Sorry, but terminal said that you use invalid selector!",invalidTerminalId:"Invalid Terminal ID",login:"login",password:"password",recursiveLoop:"Recursive loop in echo detected, skip",notAString:"%s function: argument is not a string",redrawError:"Internal error, wrong position in cmd redraw",invalidStrings:"Command %s have unclosed strings",invalidMask:"Invalid mask used only string or boolean allowed",defunctTerminal:"You can't call method on terminal that was destroyed"}};var requests=[],terminals=new Cycle,save_state=[],hash_commands,change_hash=!1,fire_hash_change=!0,first_instance=!0;$.fn.terminal=function(n,e){function i(r){if($.terminal.unclosed_strings(r)){var a=$.terminal.escape_brackets(r),o=sprintf(se().invalidStrings,"`"+a+"`");throw new $.terminal.Exception(o)}return is_function(d.processArguments)?process_command(r,d.processArguments):d.processArguments?$.terminal.parse_command(r):$.terminal.split_command(r)}function f(r,a){return a=a||{},$.terminal.Animation&&r instanceof $.terminal.Animation?(r.start(t),!1):is_function(d.renderHandler)?unpromise(r,function(o){try{var l=d.renderHandler.call(t,o,a,t);return!1!==l&&("string"==typeof l||v(l)||is_promise(l)?l:o)}catch(c){return["[[;red;]"+c.message+"]",format_stack_trace(c.stack)].join("\n")}}):r}function p(r,a){if(v(r))return['<div class="terminal-render-item"/>',$.extend({},a,{raw:!0,finalize:function(l){l.find(".terminal-render-item").replaceWith(r),a&&is_function(a.finalize)&&a.finalize(l,t)}})]}function D(r,a){var o=p(r,a);if(o)return t.echo.apply(t,o),!0}function v(r){return r instanceof $.fn.init||r instanceof Element}function h(r){!1!==(r=f(r))&&(D(r)||("string"==typeof r?t.echo(r):is_array(r)?t.echo($.map(r,function(a){return JSON.stringify(a)}).join(" ")):"object"==typeof r?t.echo(JSON.stringify(r)):t.echo(r)))}function S(r){if(is_function(d.onRPCError))d.onRPCError.call(t,r);else if(t.error("&#91;RPC&#93; "+r.message),r.error&&r.error.message){var a="\t"+(r=r.error).message;r.file&&(a+=' in file "'+r.file.replace(/.*\//,"")+'"'),r.at&&(a+=" at line "+r.at),t.error(a)}}function O(r,a){var o=function(l,c){t.pause(d.softPause),$.jrpc({url:r,method:l,params:c,request:function(x,w){try{d.request.call(t,x,w,t)}catch(T){E(T,"USER")}},response:function(x,w){try{d.response.call(t,x,w,t)}catch(T){E(T,"USER")}},success:function(w){w.error?S(w.error):is_function(d.processRPCResponse)?d.processRPCResponse.call(t,w.result,t):null!==w.result&&h(w.result),t.resume()},error:I})};return function(l,c){if(""!==l){try{l=i(l)}catch(w){return void E(w,"TERMINAL (get_processed_command)")}if(a&&"help"!==l.name){var x=c.token(!0);x?o(l.name,[x].concat(l.args)):c.error("&#91;AUTH&#93; "+se().noTokenError)}else o(l.name,l.args)}}}function H(r,a,o,l){return function(c,x){if(""!==c){var w;try{w=i(c)}catch(j){return void(is_function(d.exception)?d.exception(j,t):t.error("Error: "+(j.message||j)))}var T=r[w.name],k=get_type(T);if("function"===k){if(!a||T.length===w.args.length)return T.apply(t,w.args);t.error("&#91;Arity&#93; "+sprintf(se().wrongArity,w.name,T.length,w.args.length))}else if("object"===k||"string"===k){var R=[];"object"===k&&(R=Object.keys(T),T=H(T,a,o)),x.push(T,{prompt:w.name+"> ",name:w.name,completion:"object"===k?R:undefined})}else is_function(l)?l(c,t):is_function(d.onCommandNotFound)?d.onCommandNotFound.call(t,c,t):x.error(sprintf(se().commandNotFound,w.name))}}}function I(r,a,o){t.resume(),is_function(d.onAjaxError)?d.onAjaxError.call(t,r,a,o):"abort"!==a&&t.error("&#91;AJAX&#93; "+a+" - "+se().serverResponse+":\n"+$.terminal.escape_brackets(r.responseText))}function M(r,a,o){function l(T){T.error?S(T.error):is_function(d.processRPCResponse)?d.processRPCResponse.call(t,T.result,t):h(T.result),t.resume()}function c(T,k){try{d.request.call(t,T,k,t)}catch(R){E(R,"USER")}}function x(T,k){try{d.response.call(t,T,k,t)}catch(R){E(R,"USER")}}return $.jrpc({url:r,method:"system.describe",params:[],success:function w(T){var k=T;if(!1!==d.describe&&""!==d.describe&&d.describe.split(".").forEach(function(z){k=k[z]}),k&&k.length){var R={};$.each(k,function(z,q){$.isPlainObject(q)&&"string"==typeof q.name&&(R[q.name]=function(){var te=a&&"help"!==q.name,b=Array.prototype.slice.call(arguments),U=b.length+(te?1:0);if(d.checkArity&&q.params&&q.params.length!==U)t.error("&#91;Arity&#93; "+sprintf(se().wrongArity,q.name,q.params.length,U));else{if(t.pause(d.softPause),te){var L=t.token(!0);L?b=[L].concat(b):t.error("&#91;AUTH&#93; "+se().noTokenError)}$.jrpc({url:r,method:q.name,params:b,request:c,response:x,success:l,error:I})}})});var j="string"==typeof a?a:"login";R.help=R.help||function(z){if(typeof z>"u"){var q=k.map(function(U){return U.name}).join(", ")+", help";t.echo("Available commands: "+q)}else{var te=!1;if($.each(k,function(U,L){if(L.name===z){te=!0;var V="";if(V+="[[bu;;]"+L.name+"]",L.params){var Q=L.params;a&&L.name!==j&&(Q=Q.slice(1)),V+=" "+Q.join(" ")}return L.help&&(V+="\n"+L.help),t.echo(V),!1}}),!te)if("help"===z)t.echo("[[bu;;]help] [method]\ndisplay help for the method or list of methods if not specified");else{var b="Method `"+z+"' not found ";t.error(b)}}},o(R)}else o(null)},request:c,response:x,error:function(){o(null)}})}function J(r,a,o){o=o||$.noop;var c,T,l=get_type(r),x={},w=0;if("array"===l)c={},function R(j,z){if(j.length){var q=j[0],te=j.slice(1),b=get_type(q);"string"===b?(t.pause(d.softPause),!1===d.describe?(1==++w?T=O(q,a):t.error(se().oneRPCWithIgnore),R(te,z)):M(q,a,function(U){U?$.extend(c,U):1==++w?T=O(q,a):t.error(se().oneRPCWithIgnore),t.resume(),R(te,z)})):"function"===b?(T?t.error(se().oneInterpreterFunction):T=q,R(te,z)):"object"===b&&($.extend(c,q),R(te,z))}else z()}(r,function(){o({interpreter:H(c,!1,a,T&&T.bind(t)),completion:Object.keys(c)})});else if("string"===l)!1===d.describe?(c={interpreter:O(r,a)},$.isArray(d.completion)&&(c.completion=d.completion),o(c)):(t.pause(d.softPause),M(r,a,function(R){R?(x.interpreter=H(R,!1,a),x.completion=Object.keys(R)):x.interpreter=O(r,a),o(x),t.resume()}));else if("object"===l)o({interpreter:H(r,d.checkArity,a),completion:Object.keys(r)});else{if("undefined"===l)r=$.noop;else if("function"!==l){var k=l+" is invalid interpreter value";throw new $.terminal.Exception(k)}o({interpreter:r,completion:d.completion})}}function C(r,a){var o="boolean"===get_type(a)?"login":a;return function(l,c,x){t.pause(d.softPause),$.jrpc({url:r,method:o,params:[l,c],request:function(w,T){try{d.request.call(t,w,T,t)}catch(k){E(k,"USER")}},response:function(w,T){try{d.response.call(t,w,T,t)}catch(k){E(k,"USER")}},success:function(T){!T.error&&T.result?x(T.result):x(null),t.resume()},error:I})}}function E(r,a,o){is_function(d.exceptionHandler)?d.exceptionHandler.call(t,r,a):(t.exception(r,a),o||setTimeout(function(){throw r},0))}var A;function X(r){try{var a=!is_function(r.value),o=$.extend({exec:!0,raw:!1,finalize:$.noop,useCache:a,invokeMethods:!1,formatters:!0,convertLinks:d.convertLinks},r.options||{}),l=y(r.value);if(l&&is_function(l.then))return l.then(function(z){X($.extend(r,{value:z,options:o}))});if(""!==l){if(!o.raw){if(d.useCache&&o.useCache){var c=l;if(A&&A.has(c)){var x=A.get(c);return $e.append(x.input,r.index,o,x.raw),!0}}if(o.formatters)try{l=$.terminal.apply_formatters(l,$.extend(d,{echo:!0}))}catch(z){E(z,"FORMATTING")}if(l=function ne(r,a,o){return o.exec||a.options.clear_exec?$.terminal.each_extended_command(r,function(l){if(o.exec){a.options.exec=!1,a.options.clear_exec=!0;var c=l.trim();Re&&Re===c?(Re="",t.error(se().recursiveLoop)):(Re=c,$.terminal.extended_command(t,l,{invokeMethods:o.invokeMethods}).then(function(){Re=""}))}}):r}(l,r,o),""===l)return;o.convertLinks&&(l=function N(r){function a(l,c,x,w,T,k,R){function j(b,U){return"[["+[c+(b||""),x,w,T,U||k].join(";")+"]"}function z(b){return"]"+j("!",b)+b+"]"+j()}if(!c.match(/!/)){var q=R.match(email_full_re)||R.match(url_full_re);if(q)return j("!",q[1])+R+"]";if(R.match(email_re)||R.match(url_nf_re)){var te=R.replace(email_re,z).replace(url_nf_re,z);return j("",k)+te+"]"}}return l}function o(l){return l.replace(email_re,"[[!;;]$1]").replace(url_nf_re,"[[!;;]$1]")}return $.terminal.have_formatting(r)?$.terminal.format_split(r).map(function(l){return $.terminal.is_formatting(l)?l.replace(format_parts_re,a):o(l)}).join(""):o(r)}(l));var w=l;l=crlf($.terminal.normalize(l)),l=$.terminal.encode(l,{tabs:d.tabs});var T,k=o.cols=t.cols();if(function ee(r,a){return(strlen(text(r))>a.cols||r.match(/\n/))&&(!0===d.wrap&&a.wrap===undefined||!1===d.wrap&&!0===a.wrap)}(l,o)){var R=o.keepWords;T=$.terminal.split_equal(l,k,R)}else l.match(/\n/)&&(T=l.split(/\n/))}}else w="";var j=T||l;A&&c&&a&&A.set(c,{input:j,raw:w}),$e.append(j,r.index,o,w)}catch(z){$e.clear(),is_function(d.exceptionHandler)?d.exceptionHandler.call(t,z,"TERMINAL"):alert_exception("[Internal Exception(process_line)]",z)}return!0}function P(r){if(!(r=$.extend({},{update:!1,scroll:!0},r||{})).update){K.resize(Ie);var a=Oe.empty().detach()}try{$e.clear(),unpromise(me.render(t.rows(),function(o){return o.map(X)}),function(){t.flush(r),r.update||K.before(a),fe("onAfterRedraw")})}catch(o){is_function(d.exceptionHandler)?d.exceptionHandler.call(t,o,"TERMINAL (redraw)"):alert_exception("[redraw]",o)}}function re(){if(d.greetings===undefined)t.echo(t.signature,{finalize:a11y_hide,formatters:!1});else if(d.greetings){var r=typeof d.greetings;"string"===r?t.echo(d.greetings):"function"===r?t.echo(function(){if(d.greetings)try{var a=new $.Deferred,o=d.greetings.call(t,a.resolve);return o&&a.resolve(o),a.promise()}catch(l){d.greetings=null,E(l,"greetings")}}):t.error(se().wrongGreetings)}}function ie(r){var a=K.mask();switch(typeof a){case"string":return r.replace(/./g,a);case"boolean":return a?r.replace(/./g,d.maskChar):$.terminal.escape_formatting(r)}throw new $.terminal.Exception(se().invalidMask)}function Z(r){typeof r>"u"&&(r=t.get_command());var a=K.prompt(!0);r=ie(r);var o={exec:!1,formatters:!1,convertLinks:!1,finalize:function(c){a11y_hide(c.addClass("terminal-command")),fe("onEchoCommand",[c,r])}};r=$.terminal.apply_formatters(r,{command:!0}),t.echo(a+r,o)}function _e(r){return function(a){t.error("["+r+"] "+(a.message||a)).resume()}}"Map"in root&&(A=new Map);var be=!0,pe=[];function Ge(r,a,o){function c(){o||(change_hash=!0,d.historyState&&t.save_state(r,!1),change_hash=z)}function x(){j.resolve(),fe("onAfterCommand",[r])}function w(b,U){typeof b<"u"&&h(b),x(),U&&t.resume()}be&&(be=!1,function l(){(d.historyState||d.execHash&&o)&&(save_state.length?t.save_state(null):t.save_state())}());try{if(!1===fe("onBeforeCommand",[r]))return;o?(Re=r.trim(),He=$.terminal.split_command(Re)):He=$.terminal.split_command(r),Ze()||o&&(is_function(d.historyFilter)&&d.historyFilter(r)||r.match(d.historyFilter))&&K.history().append(r);var R=ae.top();!a&&d.echoCommand&&Z(r);var j=new $.Deferred,z=change_hash;if(r.match(/^\s*login\s*$/)&&t.token(!0))c(),t.level()>1?t.logout(!0):t.logout(),x();else if(d.exit&&r.match(/^\s*exit\s*$/)&&!Ee){c();var q=t.level();(1===q&&t.get_token()||q>1)&&(t.get_token(!0)&&t.set_token(undefined,!0),t.pop()),x()}else if(d.clear&&r.match(/^\s*clear\s*$/)&&!Ee)c(),t.clear(),x();else{var te=function k(){var b=R.interpreter.call(t,r,t);if(c(),b){gt||(function T(b){return is_function(b.done||b.then)&&lt}(b)?ve=!0:is_promise(b)&&t.pause(d.softPause)),gt=!1;var U=_e("Command");return is_function(b.done||b.then)?unpromise(b,function(L){w(L,!0)},U):$.when(b).done(w).catch(U)}return ve?pe.push(function(){x()}):x(),j.promise()}();if(te)return te}return j.promise()}catch(b){if(E(b,"USER",o),t.resume(),o)throw b}}function jt(){var r=t.prefix_name(!0)+"_";de.remove(r+"token"),de.remove(r+"login")}function it(r){var a=ae.top(),o=t.prefix_name(!0);Ze()||function Dt(r){var a=t.prefix_name()+"_interpreters",o=de.get(a);o=o?JSON.parse(o):[],-1===$.inArray(r,o)&&(o.push(r),de.set(a,JSON.stringify(o)))}(o);var l=t.login_name(!0);K.name(o+(l?"_"+l:""));var c=a.prompt;is_function(c)&&(c=B(c)),c!==K.prompt()&&(is_function(a.prompt)&&K.prompt(""),K.prompt(a.prompt)),typeof a.history<"u"&&t.history().toggle(a.history),$.isPlainObject(a.keymap)&&K.keymap(null).keymap($.extend({},W,$.omap(a.keymap,function(x,w){return function(){var T=[].slice.call(arguments);try{return w.apply(t,T)}catch(k){E(k,"USER KEYMAP")}}}))),K.set(""),zt.resolve(),!r&&is_function(a.onStart)&&a.onStart.call(t,t)}function fe(r,a,o){a=(a||[]).concat([t]);var l=ae&&ae.top();if(l&&is_function(l[r])&&!o)try{return l[r].apply(t,a)}catch(c){delete l[r],E(c,r)}else if(is_function(d[r]))try{return d[r].apply(t,a)}catch(c){d[r]=null,E(c,r)}}var Xe=function(){function r(a){if(!a)try{return t.scroll_to(t.find(".cmd-cursor-line")),!0}catch{return!0}}return typeof global<"u"&&"function"==typeof global.it?r:debounce(r,100,{leading:!0,trailing:!1})}();function Te(){return t.find(".cmd-cursor-line").is_fully_in_viewport(t).then(Xe)}function Et(){if(fire_hash_change&&d.execHash)try{if(location.hash){var r=location.hash.replace(/^#/,"");hash_commands=JSON.parse(decodeURIComponent(r))}else hash_commands=[];hash_commands.length?function G(r){var a=terminals.get()[r[0]];if(!a)throw new $.terminal.Exception(se().invalidTerminalId);var o=r[1];if(save_state[o])a.import_view(save_state[o]);else{change_hash=!1;var l=r[2];l&&a.exec(l).done(function(){change_hash=!0,save_state[o]=a.export_view()})}}(hash_commands[hash_commands.length-1]):save_state[0]&&t.import_view(save_state[0])}catch(a){E(a,"TERMINAL")}}function Be(){function r(){Ye=$.noop,!a&&t.enabled()&&t.resume(!0)}it(),re(),me.length&&(Se.length?$.when.apply($,Se).then(t.refresh):t.refresh());var a=!1;if(is_function(d.onInit)){var o;Ye=function(){a=!0};try{o=d.onInit.call(t,t)}catch(l){E(l,"OnInit")}finally{is_promise(o)?o.then(r).catch(function(l){E(l,"OnInit"),r()}):r()}}first_instance&&(first_instance=!1,$(window).on("hashchange",Et))}function Ze(){return Ee||!1!==K.mask()}function et(r){var a,o=ae.top();if(is_function(o.keydown)){if((a=o.keydown.call(t,r,t))!==undefined)return a}else if(is_function(d.keydown)&&(a=d.keydown.call(t,r,t))!==undefined)return a}var ut={"CTRL+D":function(r,a){return Ee||(""===K.get()?ae.size()>1||is_function(Ue)?t.pop(""):t.resume():a()),!1},"CTRL+C":function(){return with_selection(function(r){if(""===r){var a=t.get_command(),o=t.get_position();Z(a=a.slice(0,o)+"^C"+a.slice(o+2)),t.set_command("")}else{var l=t.find("textarea");text_to_clipboard(l,process_selected_html(r))}}),!1},"CTRL+L":function(){return t.clear(),!1},TAB:function(r,a){var l,c,o=ae.top();function x(R){R=R.slice(),t.before_cursor(!1).match(/\s/)||(d.clear&&-1===$.inArray("clear",R)&&R.push("clear"),d.exit&&-1===$.inArray("exit",R)&&R.push("exit")),t.complete(R,{echo:!0,word:d.wordAutocomplete,escape:d.completionEscape,caseSensitive:c,echoCommand:d.doubleTabEchoCommand,doubleTab:d.doubleTab})}if(c=typeof o.caseSensitiveAutocomplete<"u"?o.caseSensitiveAutocomplete:d.caseSensitiveAutocomplete,"settings"===(l=d.completion&&"boolean"!==get_type(d.completion)&&o.completion===undefined?d.completion:o.completion)&&(l=d.completion),l)switch(get_type(l)){case"function":var w=t.before_cursor(d.wordAutocomplete);if(3===l.length)return E(new Error(se().comletionParameters),"USER"),!1;unpromise(l.call(t,w,x),x,_e("Completion"));break;case"array":x(l);break;default:throw new $.terminal.Exception(se().invalidCompletion)}else a();return!1},"CTRL+V":function(r,a){return a(r),t.oneTime(200,function(){t.scroll_to_bottom()}),!0},"CTRL+TAB":function(){if(terminals.length()>1)return t.focus(!1),!1},PAGEDOWN:function(){t.scroll(t.height())},PAGEUP:function(){t.scroll(-t.height())}};function qe(r){var a,o;if(lt)return!1;if(t.enabled()){if(t.paused()){if(!d.pauseEvents&&(a=et(r))!==undefined)return a;if(68===r.which&&r.ctrlKey){if(d.pauseEvents&&(a=et(r))!==undefined)return a;if(requests.length){for(o=requests.length;o--;){var l=requests[o];if(4!==l.readyState)try{l.abort()}catch{is_function(d.exceptionHandler)?d.exceptionHandler.call(t,r,"AJAX ABORT"):t.error(se().ajaxAbortError)}}requests=[]}t.resume()}return!1}if((a=et(r))!==undefined)return a;9!==r.which&&(_t=0)}}function wt(r){var a=ae.top();if(ye&&(!ve||!d.pauseEvents)){if(is_function(a.keypress))return a.keypress.call(t,r,t);if(is_function(d.keypress))return d.keypress.call(t,r,t)}}function at(r){return function(o,l){var c=$.terminal.apply_formatters(o,{animation:!0});lt=!0;var x=t.get_prompt(),w=0,T=$.terminal.length(c);if(o.length>0){var k="";l.prompt?k=l.prompt:t.set_prompt("");var R=t.is_bottom(),j=$.terminal.partition(c,{wrap:!1}),z=setInterval(function(){if(ze){t.skip_stop();var b=$.terminal.substring(c,w,T);k+=b,t.set_prompt(k),w=T}else{var q=j[w];if(l.mask){var te=K.mask();"string"==typeof te?q=te:te&&(q=d.maskChar)}k+=q,t.set_prompt(k),R&&("\n"===q||!t.is_bottom())&&t.scroll_to_bottom(),w++}w===T&&(clearInterval(z),setTimeout(function(){r(o,x,l),lt=!1},l.delay))},l.delay)}}}var r,mt=at(function(r,a,o){t.set_prompt(r),o.finalize()}),dt=(r=at(function(a,o,l){t.set_prompt(o),t.insert(a),l.finalize()}),function(a,o,l){return r(o,$.extend({},l,{prompt:a+t.get_command()}))}),$t=at(function(r,a,o){t.set_prompt(a),t.echo(r,$.extend({},o,{typing:!1}))}),At=function(){var r=at(function(a,o,l){t.set_prompt(o),with_prompt(o,function(c){var x=ie(a),w=c+(x=$.terminal.apply_formatters(x,{command:!0}));l=$.extend({},l,{typing:!1,formatters:!1,convertLinks:!1}),t.echo(w,l)},t)});return function(a,o,l){return r(o,$.extend({},l,{prompt:a,mask:!0}))}}();function kt(r,a,o){return function(c,x){var w=new $.Deferred;return Ce(function(){var k=$.extend({typing:!1,delay:d.execAnimationDelay},x);if(k.typing){if("string"!=typeof c)return w.reject(r+": Typing animation require string");if("number"!=typeof k.delay||isNaN(k.delay))return w.reject(r+": Invalid argument, delay need to be a number");t.typing(r,k.delay,c,k).then(function(){w.resolve()})}else a(c,k);is_function(o)&&o(c,k)}),x&&x.typing?w.promise():t}}function ht(r,a,o){return unpromise(always(fe("onBeforeLogin",[r,a])),o,"validate_login")}function Bt(r,a,o,l){d.history&&K.history().disable();var c=t.level();function x(){for(;t.level()>c;)t.pop(undefined,!0);d.history&&K.history().enable()}function k(R,j,z){var q;j?(x(),function w(R,j){var z=t.prefix_name(!0)+"_";de.set(z+"token",j),de.set(z+"login",R)}(R,j),Ee=!1,fe("onAfterLogin",[R,j]),q=o):(a?(z||t.error(se().wrongPasswordTryAgain),t.pop(undefined,!0).set_mask(!1)):(Ee=!1,z||t.error(se().wrongPassword),t.pop(undefined,!0).pop(undefined,!0)),q=l),t.paused()&&t.resume(),is_function(q)&&q(),t.off("terminal.autologin")}!function T(){var R=t.prefix_name(!0)+"_";de.remove(R+"token"),de.remove(R+"login")}(),t.on("terminal.autologin",function(R,j,z,q){ht(j,z,function(te){!1!==te&&k(j,z,q)})}),t.push(function(R){t.set_mask(d.maskChar).push(function(j){try{ht(R,j,function(z){if(!1!==z){t.pause();try{var q=[R,j,function(b,U){k(R,b,U)}];unpromise(r.apply(t,q),function(b){k(R,b)},function(b){t.pop(undefined,!0).pop(undefined,!0),t.error(b.message),is_function(l)&&l(),t.paused()&&t.resume(),t.off("terminal.autologin")})}catch(b){E(b,"AUTH")}}else x()})}catch(z){E(z,"AUTH")}},{prompt:se().password+": ",name:"password"})},{prompt:se().login+": ",name:"login"})}function Tt(r){return function(a){r.add(a)}}function se(){return $.extend({},$.terminal.defaults.strings,d&&d.strings||{})}var ot,t=this;if(this.length>1)return this.each(function(){$.fn.terminal.call($(this),n,$.extend({name:t.selector},e))});if(t.is("body,html")){if(t.hasClass("full-screen-terminal")){var vt=t.find("> .terminal").data("terminal");if(vt)return vt}ot=t,t=$("<div/>").appendTo("body"),$("body").addClass("full-screen-terminal")}else if(t.data("terminal"))return t.data("terminal");var St=$.omap({id:function(){return tt},clear:function(){return!1!==fe("onClear")&&($e.clear(),me.clear(function(r){return function g(r){return Oe.find("[data-index="+r+"]")}(r)}),Oe[0].innerHTML="",t.prop({scrollTop:0})),t},export_view:function(){var r=fe("onExport");return r=r||{},$.extend({},{focus:ye,mask:K.mask(),prompt:t.get_prompt(),command:t.get_command(),position:K.position(),lines:clone(me.data()),interpreters:ae.clone(),history:K.history().data},r)},import_view:function(r){if(Ee)throw new Error(sprintf(se().notWhileLogin,"import_view"));return fe("onImport",[r]),Ce(function(){t.set_prompt(r.prompt),t.set_command(r.command),K.position(r.position),K.mask(r.mask),r.focus&&t.focus(),me.import(clone(r.lines).filter(function(o){return o[0]})),r.interpreters instanceof Stack&&(ae=r.interpreters),d.importHistory&&K.history().set(r.history),P()}),t},save_state:function(r,a,o){if(typeof o<"u"?save_state[o]=t.export_view():save_state.push(t.export_view()),$.isArray(hash_commands)||(hash_commands=[]),r!==undefined&&!a){var l=[tt,save_state.length-1,r];hash_commands.push(l),function ge(){change_hash&&(fire_hash_change=!1,location.hash="#"+JSON.stringify(hash_commands),setTimeout(function(){fire_hash_change=!0},100))}()}return t},exec:function(r,a,o){function l(w){unpromise(Ge(r,w,!0),function(){He=null,x.resolve()},function(){He=null,x.reject()})}a&&"object"==typeof a&&(o=a,a=null);var c=$.extend({deferred:null,silent:!1,typing:!1,delay:d.execAnimationDelay},o);null===a&&(a=c.silent),is_deferred(c.deferred)||(c.deferred=new $.Deferred);var x=c.deferred;return Je(function(){if($.isArray(r))!function R(){var j=r.shift();j?t.exec(j,a,o).done(R):x.resolve()}();else if(ve)xt.push([r,a,c]);else if(c.typing&&!a){var T=c.delay;ve=!0,t.typing("enter",T,r,{delay:T}).then(function(){ve=!1,l(!0)}),x.then(function(){ve=!1})}else l(a)}),x.promise()},autologin:function(r,a,o){return t.trigger("terminal.autologin",[r,a,o]),t},login:function(r,a,o,l){if(yt.push([].slice.call(arguments)),Ee)throw new Error(sprintf(se().notWhileLogin,"login"));if(!is_function(r))throw new Error(se().loginIsNotAFunction);if(Ee=!0,t.token()&&1===t.level()&&!Ft)Ee=!1,t.logout(!0);else{var c=t.token(!0),x=t.login_name(!0);c&&x?(Ee=!1,t.pause(),ht(x,c,function(w){!1!==w?is_function(o)&&o():(t.resume(),Bt(r,a,o,l))})):Bt(r,a,o,l)}return t},settings:function(){return d},before_cursor:function(r){var c,a=K.position(),o=K.get().slice(0,a),l=o.split(/\s/);if(r)if(1===l.length)c=l[0];else{var x=o.match(/(\\?")/g),w=x?x.filter(function(R){return!R.match(/^\\/)}).length:0;if(((x=o.match(/'/g))?x.length:0)%2==1)c=o.match(/('[^']*)$/)[0];else if(w%2==1)c=o.match(/("(?:[^"]|\\")*)$/)[0];else for(c=l[l.length-1],Le=l.length-1;Le>0;Le--){var k=l[Le-1];if("\\"!==k[k.length-1])break;c=l[Le-1]+" "+c}}else c=o;return c},complete:function(r,a){var o=(a=$.extend({word:!0,echo:!1,escape:!0,echoCommand:!1,caseSensitive:!0,doubleTab:null},a||{})).caseSensitive,l=t.before_cursor(a.word).replace(/\\"/g,'"'),c=!1;if(a.word&&(l.match(/^"/)?c='"':l.match(/^'/)&&(c="'"),c&&(l=l.replace(/^["']/,""))),_t%2==0)st=t.before_cursor(a.word);else if(t.before_cursor(a.word)!==st)return;var w=$.terminal.escape_regex(l);function T(L){return'"'===c&&(L=L.replace(/"/g,'\\"')),!c&&a.escape&&(L=L.replace(/(["'() ])/g,"\\$1")),L}a.escape&&(w=w.replace(/(\\+)(["'() ])/g,function(L,V,Q){return Q.match(/[()]/)?V+"\\?\\"+Q:V+"?"+Q}));var j=new RegExp("^"+w,o?"":"i"),z=function k(){for(var L=[],V=r.length;V--;)if(r[V].match(/\n/)&&a.word&&warn("If you use commands with newlines you should use word option for complete or wordAutocomplete terminal option"),j.test(r[V])){var Q=T(r[V]);!o&&same_case(Q)&&(l.toLowerCase()===l?Q=Q.toLowerCase():l.toUpperCase()===l&&(Q=Q.toUpperCase())),L.push(Q)}return L}();function q(L,V){var Q=t.get_command(),le=t.get_position(),he=new RegExp("^"+L,"i"),ce=Q.slice(0,le),Ve=Q.slice(le),pt=V.replace(he,"")+(c||"");t.set_command(ce+pt+Ve),t.set_position((ce+pt).length)}if(1===z.length)return a.escape?q(w,z[0]):t.insert(z[0].replace(j,"")+(c||"")),st=t.before_cursor(a.word),!0;if(z.length>1)if(++_t>=2){if(_t=0,a.echo){if(is_function(a.doubleTab)){a.echoCommand&&Z();var te=a.doubleTab.call(t,l,z,Z);return typeof te>"u"||te}if(!1!==a.doubleTab){Z();var b=z.slice().reverse().join("\t\t");t.echo($.terminal.escape_brackets(b),{keepWords:!0,formatters:!1})}return!0}}else{var U=common_string(T(l),z,o);if(U)return q(w,U),st=t.before_cursor(a.word),!0}},commands:function(){return ae.top().interpreter},set_interpreter:function(r,a){var o=$.Deferred();function l(){t.pause(d.softPause),J(r,a,function(c){t.resume();var x=ae.top();$.extend(x,c),it(!0),o.resolve()})}return is_function(a)?t.login(a,!0,l):"string"===get_type(r)&&a?t.login(C(r,a),!0,l):l(),o.promise()},greetings:function(){return re(),t},paused:function(){return ve},pause:function(r){return Je(function(){Ye(),ve=!0,K.disable(r||is_android),r||K.find(".cmd-prompt").hidden(),fe("onPause")}),t},resume:function(r){return Je(function(){ve=!1,ye&&terminals.front()===t&&K.enable(r),K.find(".cmd-prompt").visible();var o=xt;xt=[];for(var l=0;l<o.length;++l)t.exec.apply(t,o[l]);t.trigger("resume");var c=pe.shift();c&&c(),!1!==fe("onResume")&&t.scroll_to_bottom()}),t},skip:function(){ze=!0},skip_stop:function(){ze=!1},animating:function(){return lt},cols:function(){return d.numChars?d.numChars:((!Ie||1e3===Ie)&&(Ie=get_num_chars(t,Fe)),Ie)},rows:function(){return d.numRows?d.numRows:(rt||(rt=get_num_rows(t,Fe)),rt)},history:function(){return K.history()},geometry:function(){var r=window.getComputedStyle(De[0]);function a(w){return parseInt(r.getPropertyValue("padding-"+w),10)||0}var o=a("left"),l=a("right"),c=a("top"),x=a("bottom");return{terminal:{padding:{left:o,right:l,top:c,bottom:x},width:we+o+l,height:ft+c+x},density:je,char:Fe,cols:this.cols(),rows:this.rows()}},history_state:function(r){function a(){d.historyState=!0,save_state.length?terminals.length()>1&&t.save_state(null):t.save_state()}return r?typeof window.setImmediate>"u"?setTimeout(a,0):setImmediate(a):d.historyState=!1,t},clear_history_state:function(){return hash_commands=[],save_state=[],t},next:function(){if(1===terminals.length())return t;terminals.front().disable();var r=terminals.rotate().enable(),a=r.offset().top-50;$("html,body").animate({scrollTop:a},500);try{trigger_terminal_change(r)}catch(o){E(o,"onTerminalChange")}return r},focus:function(r,a){return Je(function(){if(1===terminals.length())!1===r?t.disable(a):t.enable(a);else if(!1===r)t.next();else{if(terminals.front()!==t&&(terminals.forEach(function(c){c!==t&&c.enabled()&&c.disable(a)}),!a))try{trigger_terminal_change(t)}catch(c){E(c,"onTerminalChange")}terminals.set(t),t.enable(a)}}),t},blur:function(r){return this.focus(!1,r)},freeze:function(r){return Ce(function(){r?(t.disable(),Ae=!0):(Ae=!1,t.enable())}),t},frozen:function(){return Ae},enable:function(r){return!ye&&!Ae&&(Ie===undefined&&t.resize(),Je(function(){!r&&!ye&&fe("onFocus"),(!r&&undefined===undefined||r)&&(ye=!0,t.paused()||K.enable(!0))})),t},clear_cache:"Map"in root?function(){return $e.clear_cache(),A.clear(),K.clear_cache(),t}:function(){return t},disable:function(r){return Je(function(){var o;!r&&ye&&(o=fe("onBlur")),(!r&&o===undefined||r)&&(ye=!1,K.disable())}),t},enabled:function(){return ye},signature:function(){for(var r=t.cols(),a=signatures.length;a--;){var o=signatures[a].map(function(l){return l.length});if(Math.max.apply(null,o)<=r)return signatures[a].join("\n")+"\n"}return""},version:function(){return $.terminal.version},cmd:function(){return K},get_command:function(){return K.get()},enter:kt("enter",Z),set_command:function(r,a){return Ce(function(){"string"!=typeof r&&(r=JSON.stringify(r)),K.set(r,undefined,a)}),t},set_position:function(r,a){return Ce(function(){K.position(r,a)}),t},get_position:function(){return K.position()},insert:function(r,a){if("string"==typeof r){var o;is_object(a)||(a={stay:a}),o=$.extend({stay:!1,typing:!1,delay:100},a);var c=new $.Deferred;return Ce(function(){function w(){(d.scrollOnEcho||T)&&t.scroll_to_bottom()}var T=t.is_bottom();if(o.typing){var k=o.delay;t.typing("insert",k,r,d).then(function(){w(),c.resolve()})}else K.insert(r,d.stay),w()}),o.typing?c.promise():t}throw new Error(sprintf(se().notAString,"insert"))},set_prompt:kt("prompt",function(r){is_function(r)?K.prompt(function(a){return r.call(t,a,t)}):K.prompt(r)},function(r){ae.top().prompt=r}),get_prompt:function(){return ae.top().prompt},set_mask:function(r){return Ce(function(){K.mask(!0===r?d.maskChar:r)}),t},get_mask:function(){return K.mask()},get_output:function(r){return r?me.data():me.get_snapshot()},resize:function(r,a){if(t.is(":visible")){if(r&&a&&(t.width(r),t.height(a)),r=t.width(),a=t.height(),typeof d.numChars<"u"||typeof d.numRows<"u")return typeof d.numChars<"u"&&(K.resize(d.numChars),t.refresh()),void fe("onResize");var o=get_num_chars(t,Fe),l=get_num_rows(t,Fe);if(o!==Ie||l!==rt){t.clear_cache();var c=o!==Ie;Ie=o,rt=l,c&&(K.resize(Ie),t.refresh()),fe("onResize")}}else t.stopTime("resize"),t.oneTime(500,"resize",function(){t.resize(r,a)});return t},refresh:function(){return 0!==Fe.width&&css(t[0],{"--char-width":Fe.width,"--pixel-density":je}),t.clear_cache(),st&&K.resize(),P({scroll:!1,update:!0}),t},flush:function(r){return r=$.extend({},{update:!1,scroll:!0},r||{}),Ce(function(){try{if($e.is_empty())return t;var c,k,R,o=t.is_bottom(),l=d.scrollOnEcho&&r.scroll||o,x=!0,w=!1,T=$();if(r.update||(T=t.find(".partial"),k=me.get_partial()),$e.flush(function(L){if(L)if(is_function(L.finalize)){if(r.update&&!0===L.raw&&L.newline)return;if(l&&c.find("img").on("load",function(){t.scroll_to_bottom()}),r.update){me.update_snapshot(L.index,k);var V="> div[data-index="+L.index+"]",Q=Oe.find(V);Q.html()!==c.html()&&Q.replaceWith(c)}else c.appendTo(Oe),T.length||me.make_snapshot(k);c.attr("data-index",L.index),w=!L.newline,c.toggleClass("partial",w),w&&(T=c),L.finalize(c)}else{var he,le=L.line;"string"==typeof L.raw&&(w?k[k.length-1]+=L.raw:k.push(L.raw)),w?(he=c.children().last().append(le),w=!1):(he=$("<div/>").html(le),L.newline&&he.addClass("cmd-end-line"),c.append(he)),he.css("width","100%")}else T.length?x&&(x=!1,w=!0,c=T):(c=$("<div/>"),k=[])}),0===(T=t.find(".partial")).length)css(K[0],{"--prompt-offset":"",top:""}),K.__set_prompt_margin(0),"inline-block"===(R=t.find(".terminal-output div:last-child div:last-child")).css("display")&&R.css({width:"100%",display:""});else if(k.length&&k[k.length-1]){var j=$.terminal.length(k[k.length-1]);j%=t.cols();var z=(R=T.children().last())[0].getBoundingClientRect(),q=is_ch_unit_supported?j+"ch":j+"px";css(K[0],{top:-z.height/je+"px","--prompt-offset":q}),K.__set_prompt_margin(j)}(function oe(){if(d.outputLimit>=0){var r;r=0===d.outputLimit?t.rows():d.outputLimit;var a=Oe.find("> div > div");if(a.length+1>r){var o=a.length-r+1,l=a.slice(0,o),c=l.parent();l.remove(),c.each(function(){var x=$(this);x.is(":empty")&&(me.unmount(x),x.remove())}),me.limit_snapshot(o)}}})(),fe("onFlush");var te=t.find(".cmd-cursor"),b=t.find(".cmd").offset(),U=t.offset();t.stopTime("flush").oneTime(1,"flush",function(){css(t[0],{"--terminal-height":t.height(),"--terminal-x":b.left-U.left,"--terminal-y":b.top-U.top,"--terminal-scroll":t.prop("scrollTop")}),ye&&(te.hide(),t.oneTime(1,"flush",function(){te.show()}))}),c.on_load({done:function(){l&&t.scroll_to_bottom()}})}catch(L){if(is_function(d.exceptionHandler))try{d.exceptionHandler.call(t,L,"TERMINAL (Flush)")}catch(V){d.exceptionHandler=$.noop,alert_exception("[exceptionHandler]",V)}else alert_exception("[Flush]",L)}finally{$e.clear()}}),t},update:function(r,a,o){return Ce(function(){if(r<0&&(r=me.length()+r),me.valid_index(r))if(null===a)me.update(r,null),Oe.find("[data-index="+r+"]").remove();else{if(!1===(a=f(a,{update:!0,line:r})))return t;unpromise(a,function(c){var x=p(c,o);x&&(c=x[0],o=x[1]),o=me.update(r,c,o),unpromise(X({value:c,index:r,options:o}),function(){t.flush({scroll:!1,update:!0})})})}else t.error("Invalid line number "+r)}),t},remove_line:function(r){return t.update(r,null)},last_index:function(){return me.length()-1},echo:function(r,a,o){var l=arguments.length>0,c=o||new $.Deferred;function x(){Ke=!1;var j=Se;Se=[];for(var z=0;z<j.length;++z)t.echo.apply(t,j[z])}function w(j){x(),E(j,"ECHO",!0)}var k=a&&a.typing;if(Ke){var R=[r,a];k&&R.push(c),Se.push(R)}else!function T(j){try{var b,z=$.extend({flush:!0,exec:!0,raw:d.raw,finalize:$.noop,unmount:$.noop,delay:d.execAnimationDelay,ansi:!1,typing:!1,externalPause:!0,keepWords:!1,invokeMethods:d.invokeMethods,onClear:null,formatters:!0,allowedAttributes:d.allowedAttributes,newline:!0},a||{}),q=d.externalPause&&z.externalPause;if(L=z.finalize,v(j)||(z.finalize=function(V){z.raw&&V.addClass("raw"),z.ansi&&V.addClass("ansi");try{is_function(L)&&L.call(t,V),V.on_load({error:function(Q){Q.replaceWith(use_broken_image)},done:function(Q){Q&&q&&t.resume()},load:function(Q){Q&&q&&t.pause()}})}catch(Q){E(Q,"USER:echo(finalize)"),L=null}}),z.flush&&($e.empty()||t.flush()),!1===fe("onBeforeEcho",[j]))return;if(z.typing)return"string"!=typeof j?c.reject("echo: Typing animation require string or promise that resolve to string"):"number"!=typeof z.delay||isNaN(z.delay)?c.reject("echo: Invalid argument, delay need to be a number"):void t.typing("echo",z.delay,j,z).then(function(){c.resolve()});if("function"==typeof j)b=j.bind(t);else if(typeof j>"u")b=l?String(j):"";else{var U=f(j);if(!1===U)return t;b=U}is_promise(b)&&(Ke=!0),unpromise(b,function(L){if(!is_promise(U)||!1!==L){if(D(L,z))return t;var V=me.length();me.has_newline()||V--,!z.newline&&"\n"===L[L.length-1]&&(L=L.slice(0,-1),z.newline=!0);var le=X({value:L,options:z,index:V});is_promise(le)&&(Ke=!0),me.push([L,z]),unpromise(le,function(){z.flush&&(t.flush(),fe("onAfterEcho",[j])),x()},w)}},w)}catch(L){is_function(d.exceptionHandler)?d.exceptionHandler.call(t,L,"TERMINAL (echo)"):alert_exception("[Terminal.echo]",L)}var L}(r);return k?c.promise():t},typing:function(r,a,o,l){var x,w,c=new $.Deferred;function T(){c.resolve(),is_function(w)&&w.apply(t,arguments)}"object"==typeof l?(w=l.finalize||$.noop,x=$.extend({},l,{delay:a,finalize:T})):(w=l||$.noop,x={delay:a,finalize:T});var k=["prompt","echo","enter","insert"];return Ce(function(){!function R(){return k.indexOf(r)>=0}()?c.reject("Invalid type only `echo` and `prompt` are supported"):"prompt"===r?mt(o,x):"echo"===r?$t(o,x):"enter"===r?with_prompt(t.get_prompt(),function(z){At(z,o,x)},t):"insert"===r&&with_prompt(t.get_prompt(),function(z){dt(z,o,x)},t)}),c.promise()},error:function(r,a){function o(l){return"string"!=typeof l&&(l=String(l)),"[[;;;terminal-error]"+$.terminal.escape_brackets(l).replace(/\\$/,"&#92;").replace(url_re,"]$1[[;;;terminal-error]")+"]"}return a=$.extend({},a,{raw:!1,formatters:!1}),"function"==typeof r?t.echo(function(){return o(r.call(t))},a):r&&r.then?(r.then(function(l){t.echo(o(l))}).catch(_e("Echo Error")),t):t.echo(o(r),a)},exception:function(r,a){var o=exception_message(r);return a&&(o="&#91;"+a+"&#93;: "+o),o&&t.error(o,{finalize:function(l){l.addClass("terminal-exception terminal-message")},keepWords:!0}),"string"==typeof r.fileName&&(t.pause(d.softPause),$.get(r.fileName,function(l){var c=r.lineNumber-1,x=l.split("\n")[c];x&&t.error("["+r.lineNumber+"]: "+x),t.resume()},"text")),r.stack&&t.echo(format_stack_trace(r.stack),{finalize:function(l){l.addClass("terminal-exception terminal-stack-trace")},formatters:!1}),t},scroll:function(r){var a;return r=Math.round(r),t.prop,r>De.prop("scrollTop")&&r>0&&De.prop("scrollTop",0),a=De.prop("scrollTop"),De.scrollTop(a+r),t},logout:function(r){if(Ee)throw new Error(sprintf(se().notWhileLogin,"logout"));return Ce(function(){if(r){var o=yt.pop();t.set_token(undefined,!0),t.login.apply(t,o)}else if(1===ae.size()&&t.token())t.logout(!0);else for(;ae.size()>1;)t.token()?t.logout(!0).pop().pop():t.pop()}),t},token:function(r){return de.get(t.prefix_name(r)+"_token")},set_token:function(r,a){var o=t.prefix_name(a)+"_token";return typeof r>"u"?de.remove(o):de.set(o,r),t},get_token:function(r){return t.token(r)},login_name:function(r){return de.get(t.prefix_name(r)+"_login")},name:function(){return ae.top().name},prefix_name:function(r,a){var o=(d.name?d.name+"_":"")+tt;if(r&&ae.size()>1){var l=ae.map(function(c){return c.name||""}).slice(1,a).join("_");l&&(o+="_"+l)}return o},read:function(r,a,o){var l;if((l="object"==typeof arguments[1]?$.extend({typing:!1,delay:d.execAnimationDelay,success:$.noop,cancel:$.noop},arguments[1]):{typing:!1,success:a||$.noop,cancel:o||$.noop}).typing){var c=t.get_prompt();return l.typing=!1,t.typing("prompt",l.delay,r).then(function(){return t.set_prompt(c).read(r,l)})}gt=!0;var x=jQuery.Deferred(),w=!1;return t.push(function(T){w=!0,x.resolve(T),is_function(l.success)&&l.success(T),t.pop(),d.history&&K.history().enable()},{name:"read",history:!1,prompt:r||"",onExit:function(){w||(x.reject(),is_function(l.cancel)&&l.cancel())}}),d.history&&K.history().disable(),is_function(l.onReady)&&l.onReady.call(t),x.promise()},push:function(r,a){return Je(function(){a=a||{};var c=$.extend({},{infiniteLogin:!1},a);!c.name&&He&&(c.name=He.name),c.prompt===undefined&&(c.prompt=(c.name||">")+" ");var x=ae.top();x&&(x.mask=K.mask());var w=ve;function T(){fe("onPush",[x,ae.top()]),it()}J(r,a.login,function(k){if(ae.push($.extend({},k,c)),!0===c.completion&&($.isArray(k.completion)?ae.top().completion=k.completion:k.completion||(ae.top().completion=!1)),c.login){var R,j=get_type(c.login);"function"===j?(R=c.infiniteLogin?$.noop:t.pop,t.login(c.login,c.infiniteLogin,T,R)):("string"===get_type(r)&&"string"===j||"boolean"===j)&&(R=c.infiniteLogin?$.noop:t.pop,t.login(C(r,c.login),c.infiniteLogin,T,R))}else T();!w&&t.enabled()&&t.resume()})}),t},pop:function(r,a){r!==undefined&&Z(r);var l,o=t.token(!0);if(1===ae.size())l=ae.top(),d.login?(a||fe("onPop",[l,null]),function Ut(){!1!==fe("onBeforeLogout",[],!0)&&(jt(),fe("onAfterlogout",[],!0),t.login(Ue,!0,Be))}(),fe("onExit")):t.error(se().canExitError);else{o&&jt();var c=ae.pop();if(l=ae.top(),it(),t.set_mask(l.mask),a||fe("onPop",[c,l]),Ee&&t.get_prompt()!==se().login+": "&&(Ee=!1),is_function(c.onExit))try{c.onExit.call(t,t)}catch(x){c.onExit=$.noop,E(x,"onExit")}}return t},option:function(r,a){if(typeof a>"u"){if("string"==typeof r)return d[r];"object"==typeof r&&$.each(r,function(o,l){d[o]=l})}else d[r]=a,r.match(/^num(Chars|Rows)$/)&&P();return t},invoke_key:function(r){return K.invoke_key(r),t},keymap:function(r,a){if(0===arguments.length)return K.keymap();if(typeof a>"u"){if("string"==typeof r)return K.keymap(r);$.isPlainObject(r)&&(r=$.extend({},W,$.omap(r||{},function(l,c){return W[l]?function(x,w){return c.call(t,x,function(){return W[l](x,w)})}:c.bind(t)})),K.keymap(null).keymap(r))}else if("function"==typeof a){var o=r;W[o]?K.keymap(o,function(l,c){return a.call(t,l,function(){return W[o](l,c)})}):K.keymap(o,a.bind(t))}},level:function(){return ae.size()},reset:function(){return Ce(function(){for(t.clear();ae.size()>1;)ae.pop();Be()}),t},purge:function(){return Ce(function(){var a=t.prefix_name()+"_",o=de.get(a+"interpreters");o&&$.each(JSON.parse(o),function(l,c){de.remove(c+"_commands"),de.remove(c+"_token"),de.remove(c+"_login")}),K.purge(),de.remove(a+"interpreters")}),t},destroy:function(){return Ce(function(){K.destroy().remove(),t.resizer("unbind"),t.touch_scroll("unbind"),Nt.resizer("unbind").remove(),Ot.resizer("unbind").remove(),$(document).unbind(".terminal_"+t.id()),$(window).unbind(".terminal_"+t.id()),t.unbind("click mousedown mouseup"),t.removeData("terminal").removeClass("terminal").unbind(".terminal"),d.width&&t.css("width",""),d.height&&t.css("height",""),$(window).off("blur",_).off("focus",It),t.find(".terminal-fill, .terminal-font").remove(),t.stopTime(),terminals.remove(tt),ke&&(ke.unobserve?ke.unobserve(t[0]):clearInterval(ke));var a=t.find(".terminal-scroll-marker");if(Ct&&Ct.unobserve(a[0]),a.remove(),Qe&&Qe.disconnect(),terminals.length()||$(window).off("hashchange"),is_mobile&&t.off(["touchstart.terminal","touchmove.terminal","touchend.terminal"].join(" ")),Oe.remove(),De.remove(),ot){var o=$(ot);"full-screen-terminal"===o.attr("class")?o.removeAttr("class"):o.removeClass("full-screen-terminal"),t.remove()}Rt=!0}),t},scroll_to:function(r){var a=De.scrollTop()-t.offset().top+$(r).offset().top;return De.scrollTop(a),t},scroll_to_bottom:function(){var r;return r=t.prop?De.prop("scrollHeight"):De.attr("scrollHeight"),De.scrollTop(r),t},is_bottom:function(){return-1!==d.scrollBottomOffset&&("boolean"==typeof xe?xe:(r=De[0].scrollHeight,De[0].scrollTop+De[0].offsetHeight>r-d.scrollBottomOffset));var r},duplicate:function(){var r=$(t);return $.extend(r,St)},get_output_buffer:function(r){var a=$.extend({html:!1},r),o=[],l=!1;return $e.forEach(function(c){if(c)if(is_function(c.finalize))l=!c.newline;else{var x;if(x=a.html?c.line:c.raw,l){var w=o.length-1;o[w]+=x}else o.push(x)}}),a.html?o.map(function(c){return"<div>"+c+"</div>"}).join("\n"):o.join("\n")},clear_buffer:function(){return $e.clear(),t}},function(r,a){return function(){if(Rt&&!d.exceptionHandler)throw new $.terminal.Exception(se().defunctTerminal);try{return a.apply(t,[].slice.apply(arguments))}catch(o){if("exec"!==r&&"resume"!==r&&E(o,o.type||"TERMINAL",!0),!d.exceptionHandler)throw o}}});if($.extend(t,St),0===t.length){var Pt=sprintf(se().invalidSelector);throw new $.terminal.Exception(Pt)}t.data("terminal",t);var He,Re,Oe,Ie,rt,st,xe,Ct,we,ft,Se=[],Ke=!1,_t=0,tt=terminals.length(),gt=!1,yt=new Stack,We=new DelayQueue,lt=!1,ze=!1,zt=new DelayQueue,Ce=Tt(zt),Je=Tt(We),Ee=!1,Ye=$.noop,xt=[],d=$.extend({},$.terminal.defaults,{name:t.selector,exit:!!(e&&e.login||!e)},e||{});"number"==typeof d.width&&t.width(d.width),"number"==typeof d.height&&t.height(d.height),delete d.formatters;var ae,K,Ne,ke,Qe,Rt=!1,$e=new FormatBuffer(function(r){return{linksNoReferrer:d.linksNoReferrer,linksNoFollow:d.linksNoFollow,anyLinks:d.anyLinks,charWidth:Fe.width,useCache:d.useCache,escape:!1,allowedAttributes:r.allowedAttributes||[]}}),me=new OutputLines(function(){return d}),de=new function u(r){r&&(this.storage={}),this.set=function(a,o){r?this.storage[a]=o:$.Storage.set(a,o)},this.get=function(a){return r?this.storage[a]:$.Storage.get(a)},this.remove=function(a){r?delete this.storage[a]:$.Storage.remove(a)}}(d.memory),ye=d.enabled,Ae=!1,ve=!1,Ft=!0;!0===d.ignoreSystemDescribe&&(d.describe=!1),$(document).bind("ajaxSend.terminal_"+t.id(),function(r,a){requests.push(a)});var De=$('<div class="terminal-scroller"/>').appendTo(t),nt=$('<div class="terminal-wrapper"/>').appendTo(De);$(broken_image).hide().appendTo(nt);var Nt=$('<div class="terminal-font">&nbsp;</div>').appendTo(t),Ot=$('<div class="terminal-pixel"/>').appendTo(t),Me=$('<div class="terminal-fill"/>').appendTo(De);Oe=$("<div>").addClass("terminal-output").attr("role","log").appendTo(nt),t.addClass("terminal");var ct,Ue,je=s(),Fe=get_char_size(t),Pe=!terminal_ready(t);if(d.login&&!1===fe("onBeforeLogin")&&(Ft=!1),"string"==typeof n)ct=n;else if(is_array(n))for(var Le=0,Lt=n.length;Le<Lt;++Le)if("string"==typeof n[Le]){ct=n[Le];break}function It(){Ne&&(t.focus(),t.scroll_to_bottom())}function s(){return Ot[0].getBoundingClientRect().width||1}function _(){Ne=ye,t.disable().find(".cmd textarea").trigger("blur",[!0])}function y(r){if(is_function(r)&&(r=r()),r&&is_function(r.then))return r.then(y);if("string"!==get_type(r))if(is_function(d.parseObject)){var a=d.parseObject(r);"string"===get_type(a)&&(r=a)}else r=is_array(r)?$.terminal.columns(r,t.cols(),d.tabs):String(r);return r}function B(r){if(r.proxy)return r;var a=function(o){return r.call(t,o,t)};return a.proxy=!0,a}is_function(d.login)?Ue=d.login:ct&&("string"==typeof d.login||!0===d.login)&&(Ue=C(ct,d.login)),terminals.append(t),$(document).on("paste.terminal_"+t.id(),function Y(r){function a(R,j){return-1!==R.type.indexOf(j)}function o(R){t.echo('<img src="'+R+'"/>',{raw:!0})}function l(R){return(window.URL||window.webkitURL).createObjectURL(R)}function c(R,j){if(j)R instanceof Blob?o(l(R)):"string"==typeof R&&(R.match(/^(data:|blob:)/)?o(R):t.insert(R));else{var z={target:t};"string"==typeof R?z.text=R:R instanceof Blob&&(z.image=l(R));var q=fe("onPaste",[z]);if(q){if(is_function(q.then||q.done))return(q.then||q.done).call(q,function(te){c(te,!0)});c(q,!0)}else!1!==q&&c(z.image||z.text,!0)}}if((r=r.originalEvent).clipboardData&&t.enabled()){var x=r.clipboardData.items;if(x)for(var w=0;w<x.length;w++)if(a(x[w],"image")&&d.pasteImage){c(x[w].getAsFile())}else a(x[w],"text/plain")&&x[w].getAsString(function(R){c(R.replace(/\r/g,""))});else if(r.clipboardData.getData){c(r.clipboardData.getData("text/plain").replace(/\r/g,""))}return!1}});var W=$.extend({},ut,$.omap(d.keymap||{},function(r,a){return ut[r]?function(o,l){return a.call(t,o,function(){return ut[r](o,l)})}:a.bind(t)}));return J(n,d.login,function(r){(d.completion&&"boolean"!=typeof d.completion||!d.completion)&&(r.completion="settings");var a=d.prompt;function o(b){if(!is_mobile&&(b=b.originalEvent)){var U=document.elementFromPoint(b.clientX,b.clientY);!$(U).closest(".terminal").length&&t.enabled()&&t.disable()}}is_function(a)&&(a=B(a)),ae=new Stack($.extend({},d.extra,{name:d.name,prompt:a,keypress:d.keypress,keydown:d.keydown,resize:d.onResize,greetings:d.greetings,mousewheel:d.mousewheel,history:d.history,keymap:W},r)),K=$("<div/>").appendTo(nt).cmd({tabindex:d.tabindex,mobileDelete:d.mobileDelete,mobileIngoreAutoSpace:d.mobileIngoreAutoSpace,prompt:!Ue&&a,history:d.memory?"memory":d.history,historyFilter:d.historyFilter,historySize:d.historySize,caseSensitiveSearch:d.caseSensitiveSearch,onPaste:d.onPaste,width:"100%",enabled:!1,charWidth:Fe.width,keydown:qe,keymap:W,clickTimeout:d.clickTimeout,holdTimeout:d.holdTimeout,holdRepeatTimeout:d.holdRepeatTimeout,repeatTimeoutKeys:d.repeatTimeoutKeys,allowedAttributes:d.allowedAttributes,keypress:wt,tabs:d.tabs,onPositionChange:function(){var b=[].slice.call(arguments);Te(),fe("onPositionChange",b)},onCommandChange:function(b){we!==Me.width()&&t.resizer(),fe("onCommandChange",[b]),Te()},commands:Ge}),t.oneTime(100,function(){$(document).bind("click.terminal_"+t.id(),o).bind("contextmenu.terminal_"+t.id(),o)});var c,L,b,l=$(window);(document.addEventListener("resume",function(){t.disable()}),is_mobile)?function(){t.addClass("terminal-mobile");var b,U,L,he,Q=K.clip();Q.$node.off("touchstart.cmd"),t.on("touchstart.terminal",function(ce){if(ce=ce.originalEvent,window.touch_event=ce,"a"!==ce.target.tagName.toLowerCase()&&!Ae&&1===ce.touches.length){L=t.enabled();var Ve=ce.touches[0];b={x:Ve.clientX,y:Ve.clientY},he=setTimeout(function(){b=null},200)}}).on("touchmove.terminal",function(ce){if(1===ce.touches.length&&b){var Ve=ce.touches[0],pt=Math.abs(Ve.clientX-b.x),Mt=Math.abs(Ve.clientY-b.y);(pt>3||Mt>3)&&(U=!0)}}).on("touchend.terminal",function(){b&&(clearTimeout(he),U||(L?(Q.blur(),t.disable()):(Q.focus(),t.focus()))),U=!1,b=null})}():(l.on("focus.terminal_"+t.id(),It).on("blur.terminal_"+t.id(),_),function(){var U,b=0,L="click_"+t.id(),V=t.find(".cmd textarea");function Q(){if(U.is(".terminal")||U.is(".terminal-scroller")||U.is(".terminal-wrapper")){var ce=t.get_command().length;t.set_position(ce)}else U.closest(".cmd-prompt").length&&t.set_position(0);V.is(":focus")||V.focus(),le()}function le(){b=0,U=null}t.mousedown(function(ce){scrollbar_event(ce,Me,je)||(U=$(ce.target))}).mouseup(function(){if(c)c=!1;else{if(U&&U.closest(".terminal-output textarea,.terminal-output input").length)ye&&t.disable();else if(""===get_selected_html()&&U)if(1==++b){if(!Ae){if(ye){var ce=d.clickTimeout;return void t.oneTime(ce,L,Q)}t.focus(),t.scroll_to_bottom()}}else t.stopTime(L);le()}}).dblclick(function(){le(),t.stopTime(L)})}(),b=K.clip().$node,L="oncontextmenu"in window?"contextmenu.terminal":"mousedown.terminal",t.on(L,function(V){if(c=""===get_selected_html()&&function U(V){return"mousedown"===V.type&&2===V.buttons||"contextmenu"===V.type}(V)&&!V.ctrlKey){if($(V.target).is("img,value,audio,object,canvas,a"))return;t.enabled()||t.enable();var le=K.offset(),he=K[0].getBoundingClientRect(),Ve=t.offset().top-le.top,pt=Math.max(V.pageY-le.top-20,Ve),Mt=V.pageX-le.left-20,qt=56,Kt=70,Jt=t[0].getBoundingClientRect(),Qt=Me.outerWidth()*je,Ht=pt+he.top+qt;Ht=Ht-Jt.height-Jt.top;var Wt=Mt+he.left+Kt;Wt=Wt-Qt-Jt.left,Ht>0&&(qt-=Math.ceil(Ht)),Wt>0&&(Kt-=Math.ceil(Wt)),b.attr("style",[style_prop("left",Mt,!0),style_prop("top",pt,!0),style_prop("width",Kt,!0),style_prop("height",qt,!0)].join(";")),b.is(":focus")||b.focus(),t.stopTime("textarea"),t.oneTime(100,"textarea",function(){var Yt={left:"",top:"",width:"",height:""};if(!is_css_variables_supported){var Vt=t.find(".cmd .cmd-cursor-line").prevUntil(".cmd-prompt").length;Yt.top=14*Vt+"px"}b.css(Yt)}),t.stopTime("selection"),t.everyTime(20,"selection",function(){b[0].selection!==b[0].value&&get_textarea_selection(b[0])&&(clear_textarea_selection(b[0]),select(t.find(".terminal-output")[0],t.find(".cmd div:last-of-type")[0]),t.stopTime("selection"))})}}),t.on("scroll",function(){var b=t.find("textarea"),U=t[0].getBoundingClientRect(),Q=t[0].scrollHeight-(De.scrollTop()+U.height);0===Q?b.css("top",""):b.css("top",-Q)}));function x(){Fe.width!==(Fe=get_char_size(t)).width&&K.option("charWidth",Fe.width).refresh()}function w(){if(t.is(":visible")){var b=Me.width(),U=Me.height(),L=s();css(t[0],{"--pixel-density":L}),Pe&&((Pe=!terminal_ready(t))||(Fe=get_char_size(t),x())),(ft!==U||we!==b||je!==L)&&t.resize(),ft=U,we=b,je=L}}function T(){var b={prefix:"terminal-"};t.resizer("unbind").resizer(w,b),Nt.resizer("unbind").resizer(function(){x(),t.resize()},b),Ot.resizer("unbind").resizer(function(){je=s(),t.resize()},b)}function k(b){xe=1===b[0].intersectionRatio}function j(){ke&&(ke.unobserve?ke.unobserve(t[0]):clearInterval(ke));var b=t.enabled(),U=t.is(":visible");function L(){t.is(":visible")&&!U?(U=!0,T(),x(),w(),b&&t.enable(),nt.css("visibility","")):U&&!t.is(":visible")&&(U=!1,b=$.terminal.active()===t&&t.enabled(),t.disable(),nt.css("visibility","hidden"))}b&&!U&&t.disable(),U?T():nt.css("visibility","hidden"),window.IntersectionObserver&&"fixed"!==t.css("position")?(ke=new IntersectionObserver(L,{root:null})).observe(t[0]):ke=setInterval(L,100)}t.on("click","a",function(b){var U=$(this);if(U.closest(".terminal-exception").length){var L=U.attr("href");L.match(/:[0-9]+$/)&&(b.preventDefault(),function F(r,a){var l=r.match(/(.*):([0-9]+):([0-9]+)$/);l&&(t.pause(d.softPause),$.get(l[1],function(c){var x=l[1],w=c.split("\n"),T=+l[2]-1,k=T>2?T-2:0,R=w.slice(k,T+3).map(function(j,z){var q="["+(T+z-1)+"]: ",te=a-q.length-4;return j.length>te&&(j=j.substring(0,te)+"..."),(T>2?2===z:z===T)&&(j="[[;#f00;]"+$.terminal.escape_brackets(j)+"]"),q+j}).filter(Boolean).join("\n");R.length&&(t.echo("[[b;white;]"+x+"]"),t.echo(R).resume())},"text"))}(L,t.cols()))}ye&&t.find(".cmd textarea").focus()}),w(),function R(){if(window.IntersectionObserver){var b=$('<div class="terminal-scroll-marker"/>').appendTo(De),U=b;if(-1!==d.scrollBottomOffset){var L=style_prop("height",d.scrollBottomOffset);U=$('<div style="'+L+'"/>').appendTo(b)}(Ct=new IntersectionObserver(k,{root:De[0],rootMargin:"0px",threshold:1})).observe(U[0])}}(),t.is(":visible")&&T();var z=!!t.closest("body").length,q=window.MutationObserver||window.WebKitMutationObserver;q&&(Qe=new q(function(){t.closest("body").length?(z||(t.scroll_to_bottom(),j(),w()),z=!0):z&&(z=!1)})).observe(document.body,{childList:!0}),z&&j(),We.resolve(),ye&&t.is(":visible")&&!is_mobile?t.focus(undefined,!0):t.disable(),is_function(Ue)?t.login(Ue,!0,Be):Be(),d.execHash&&location.hash?setTimeout(function(){try{var b=location.hash.replace(/^#/,"");hash_commands=JSON.parse(decodeURIComponent(b)),b.match(/\[/)||function bt(r){if(typeof history<"u"&&history.replaceState){var a="#"+JSON.stringify(r),o=location.href.replace(/#.*$/,a);history.replaceState(null,"",o)}}(hash_commands);var U=0,L={typing:d.execAnimation,delay:d.execAnimationDelay};!function V(){var Q=hash_commands[U++];Q?function te(b,U){var L=terminals.get()[b[0]],V=$.Deferred();if(L&&tt===L.id())return b[2]?ve?(pe.push(function(){return L.exec(b[2],U).done(function(){L.save_state(b[2],!0,b[1]),V.resolve()})}),V.promise()):L.exec(b[2],U).done(function(){L.save_state(b[2],!0,b[1])}):(V.resolve(),V.promise())}(Q,L).done(V):change_hash=!0}()}catch{}}):change_hash=!0,function(){var b=!1;function U(Q,le){if(!b){var ce,he=ae.top();if(is_function(he.mousewheel)?ce=he.mousewheel(Q,le,t):is_function(d.mousewheel)&&(ce=d.mousewheel(Q,le,t)),!0===ce)return;if((function ue(){return Me.outerWidth()!==t.outerWidth()}()||!1===ce)&&!Q.ctrlKey&&(Q.stopPropagation(),Q.preventDefault()),!1===ce)return!1;le>0?t.scroll(-40):t.scroll(40)}}if($(document).bind("keydown.terminal_"+t.id(),function(Q){Q.shiftKey&&(b=!0)}).bind("keyup.terminal_"+t.id(),function(Q){(Q.shiftKey||16===Q.which)&&(b=!1)}),$.event.special.mousewheel)De.on("mousewheel",U);else{var L,V=document.createElement("div");L="onwheel"in V?"wheel":document.onmousewheel!==undefined?"mousewheel":"DOMMouseScroll",V=null,t.on(L,function(Q){U(Q,-("mousewheel"===L?-1/40*Q.originalEvent.wheelDelta:Q.originalEvent.deltaY||Q.originalEvent.detail))})}De.touch_scroll(function(Q){var he,le=Q.current.clientY-Q.previous.clientY,ce=ae.top();if(is_function(ce.touchscroll)?he=ce.touchscroll(Q,le,t):is_function(d.touchscroll)&&(he=d.touchscroll(Q,le,t)),css(t[0],{"--terminal-scroll":t.prop("scrollTop")}),!0!==he)return!1})}()}),t}})},95216:n=>{n.exports=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]]},57949:(n,e,u)=>{"use strict";var i=u(64882),f=u(95216),p={nul:0,control:0};function D(h,F){if("string"!=typeof h)return g(h,F);for(var S=0,O=0;O<h.length;O++){var H=g(h.charCodeAt(O),F);if(H<0)return-1;S+=H}return S}function g(h,F){return 0===h?F.nul:h<32||h>=127&&h<160?F.control:function v(h){var O,F=0,S=f.length-1;if(h<f[0][0]||h>f[S][1])return!1;for(;S>=F;)if(O=Math.floor((F+S)/2),h>f[O][1])F=O+1;else{if(!(h<f[O][0]))return!0;S=O-1}return!1}(h)?0:1+(h>=4352&&(h<=4447||9001==h||9002==h||h>=11904&&h<=42191&&12351!=h||h>=44032&&h<=55203||h>=63744&&h<=64255||h>=65040&&h<=65049||h>=65072&&h<=65135||h>=65280&&h<=65376||h>=65504&&h<=65510||h>=131072&&h<=196605||h>=196608&&h<=262141))}n.exports=function(F){return D(F,p)},n.exports.config=function(h){return h=i(h||{},p),function(S){return D(S,h)}}}}]);